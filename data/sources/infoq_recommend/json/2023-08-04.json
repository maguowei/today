[
  {
    "title": "SoFlu 自定义函数开发实践：单函数、多函数",
    "url": "https://www.infoq.cn/article/E77tQaav5o3T0m5KXDi2",
    "summary": "<p>在现代企业开发中，初级开发者难以掌握开发企业级 Java 应用，中高级开发者则被繁琐任务所占据。为了让大家能快速上手可以解决这个难题的“SoFlu 软件机器人”，前蚂蚁金服技术专家杨彪设计了《2 小时学会 10 个组件“取代”传统 Java 开发》课程，本节为该系列课程的第五讲。</p>\n<p>在实际项目开发中经常需要对接第三方的平台，比如对接微信和支付宝，SoFlu 能实现吗？答案是肯定的！本节便将介绍 SoFlu 中如何开发自定义函数，展示函数的灵活高可扩展性能力，并使用自定义函数的方式来实现第三方平台 API 的集成功能。</p>\n<p>大家在课后可以登录 Gitee 下载 SoFlu 软件机器人客户端进行实践：<a href=\"http://suo.im/8wROo\">点击下载</a></p>\n<p>大家可以扫码添加小助手，进学习群与专家一对一交流：<br />\n<img alt=\"\" src=\"https://static001.infoq.cn/resource/image/e8/c9/e8833a01ba0bc705acab14a572b57cc9.png\" /></p>",
    "publish_time": "2023-08-04 09:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "一大批AIGC应用在App Store国区下架",
    "url": "https://www.infoq.cn/article/gEg6LzWKUUNY5Dhu4vVr",
    "summary": "<p>近日，热门科技博主 @foxshuo 在推特上表示，“一大波AI应用被国区App Store下架，应该是苹果应合规要求做了批量操作。”foxshuo 发布的<a href=\"https://twitter.com/foxshuo/status/1686189604158988288\">截图</a>\"显示，目前已经有 100 多个人工智能应用程序从国区App Store下架。经过证实，其中一些应用程序确实无法在中国应用商店中找到。</p><p><img src=\"https://static001.geekbang.org/infoq/9c/9c00dca9683dbfb5cb2d5db1f6ea16a0.png\" /></p><p></p><p>据悉，此举是在中国开发者收到苹果公司通知他们的应用程序被删除之后做出的。苹果在给ChatGPT 原生客户端<a href=\"https://apps.apple.com/app/opencat/id6445999201\">OpenCat的</a>\"<a href=\"https://twitter.com/waylybaye\">信</a>\"中表示，下架该应用的理由是“内容在中国非法”。</p><p>&nbsp;</p><p>7 月中旬，七部门发布了<a href=\"https://www.infoq.cn/article/l9d6WALH3ufAvBIDCKJr\">《生成式人工智能服务管理暂行办法》</a>\"，要求在中国运营的人工智能应用程序必须获得行政许可，这在苹果的下架通知中得到了体现。</p><p>&nbsp;</p><p>“如您所知，政府一直在加强与深度合成技术（DST）和生成人工智能服务（包括 ChatGPT）相关的法规。苹果公司向 OpenCat 表示，DST 必须满足在中国运营的许可要求，包括获得工业和信息化部 (MIIT) 的许可。“根据我们的审查，您的应用程序与 ChatGPT 相关联，而 ChatGPT 没有在中国运营所需的许可证。”</p><p>&nbsp;</p><p></p><p>参考链接：</p><p>https://techcrunch.com/2023/08/01/generative-ai-services-pulled-from-apple-app-store-in-china-ahead-of-new-regulations/</p>",
    "publish_time": "2023-08-04 10:17:27",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "软件交付优化：数据洞察下的智慧决策",
    "url": "https://www.infoq.cn/article/QIRCUl6MJWzZ88myFydo",
    "summary": "<p>“<a href=\"https://www.infoq.com/articles/data-driven-decision-making-article-series/\">数据驱动的决策制定</a>\"”系列文章概述了数据驱动的决策制定是如何为软件交付中的三个主要活动——产品管理、开发和运营提供支持的。</p><p>&nbsp;</p><p></p><h1>背景介绍</h1><p></p><p>&nbsp;</p><p>在软件行业中，优化软件交付组织并不是一个简单的标准化过程。因为可度量的指标太多，将产生大量的度量数据。要让组织分析这些数据并基于其采取行动是一项困难的任务，而这却是整个优化过程最重要的一步。如果组织中的人不基于度量数据采取行动，那么基于数据驱动的组织优化也就不会发生。</p><p>&nbsp;</p><p>为了进一步推动这一领域的发展，2020年以来的“<a href=\"https://www.infoq.com/articles/data-driven-decision-making-article-series/\">数据驱动的决策制定</a>\"”系列文章提供了一个框架，指明如何通过数据驱动决策制定来支持软件交付中的三个主要活动——产品管理、开发和运营。从那时起，有很多团队在使用这个框架来实现组织优化方面获得了数年的经验。在本文中，我们将介绍一个优化软件交付组织的社会技术框架是如何被建立起来以及如何进行常规应用的。</p><p>&nbsp;</p><p></p><h1>选择度量维度</h1><p></p><p>&nbsp;</p><p>在软件交付组织中，有太多可度量的东西，可以是容易计数的纯数学度量，例如一段时间内的缺陷数量，也可以是难以量化的社会技术过程度量，例如中断持续时间（发生中断的开始和停止时间）。</p><p>&nbsp;</p><p>无论度量的是什么，只有当人们基于它们采取行动时，它们才是有效的。如果不定期采取措施来分析度量数据，并根据分析结果在组织中做出改变，那么度量过程就成了可避免的浪费。</p><p>&nbsp;</p><p>在一个给定的组织中，人们可能很难就优化软件交付的度量维度达成一致。一个可能的指导原则是只度量组织可能愿意基于其采取行动的东西。可采取的行动包括确定优先级、过程变更、组织变更、工具变更和资本投入。</p><p>&nbsp;</p><p>近年来，一些度量方法变得流行起来。例如，使用<a href=\"https://cloud.google.com/architecture/devops/devops-culture-westrum-organizational-culture\">DORA</a>\"指标来度量软件交付过程的稳定性和速度，因为它是以对软件交付性能驱动因素的多年科学研究为基础，因此很受欢迎。</p><p>&nbsp;</p><p>另一个例子是度量可靠性。在这方面，越来越多运行大规模服务的组织在采用<a href=\"https://www.infoq.com/articles/data-driven-decision-product-operations\">SRE</a>\"，它基于SLI、SLO和相应的错误预算消耗跟踪来度量可靠性。</p><p>&nbsp;</p><p>在度量价值方面，软件行业中已经出现了一些可为团队提供行动见解的指标。这与收益价值流里的价值指标不同。一些组织为此使用了<a href=\"https://barryoreilly.com/explore/blog/how-to-implement-hypothesis-driven-development/\">假设驱动开发</a>\"或<a href=\"https://amplitude.com/north-star\">North Star</a>\"（北极星）框架。到目前为止，还没有出现能够在这一领域占据主导地位的框架。</p><p>&nbsp;</p><p>正如2020年的文章“<a href=\"https://www.infoq.com/articles/data-driven-decision-optimize-delivery/\">数据驱动的决策制定——优化产品交付组织</a>\"”所描述的，我们决定对价值、速度、稳定性和可靠性进行度量。到了2022年，我们增加了另一个衡量维度：云成本。为什么我们决定测量这些维度，而不是其他维度？答案如下表所示。</p><p>&nbsp;</p><p></p><p>&nbsp;</p><p>到目前为止，我们没有打算度量其他维度，这有几个方面的原因。</p><p>&nbsp;</p><p>我们已经可以使用当前的五个度量维度来优化组织，并给客户和业务带来积极的影响：优化订阅价值，让订阅给客户带来更多价值。特性的优先级更多的是由价值进行驱动的。优化云成本让我们的业务案例变得更加强大。团队在设计软件架构时将云成本考虑在内。优化部署速度有助于快速找到适合市场的特性。团队可以适当地进行特性分解、设计松散耦合的架构、进行测试自动化、部署自动化等。优化部署稳定性有助于在频繁更新的同时提供良好的用户体验。团队努力实现零停机部署、API向后兼容性等。优化可靠性有助于在整个订阅期间始终保持良好的用户体验。团队努力实现有效的监控和事故处理。我们已经看到，优化当前的这些度量维度隐式地推动了组织其他方面的改进，例如：团队努力实现松散耦合、测试自动化和部署自动化。更重要的是，他们不断寻找方法来优化这些领域的部署管道，这在软件交付组织中有组织提供了一系列用于自动化创建合规性文档的工具，提升持续合规性遵循能力。这些工具会在每次部署管道运行时自动运行。助于形成一种非常健康的工程文化。团队定期更新第三方框架和库依赖项。除了需要更频繁地进行安全渗透测试，我们还没有看到这些度量对安全和数据隐私实践造成什么影响。</p><p>&nbsp;</p><p>总而言之，虽然我们也可以引入其他度量维度，但当前的这些度量维度似乎足以用来驱动一个合理的整体持续改进。</p><p>&nbsp;</p><p></p><h1>建立度量系统</h1><p></p><p>&nbsp;</p><p>我们建立的度量系统涉及数据驱动决策的三个主要层次：团队、中层管理和高层管理。</p><p>&nbsp;</p><p>对于上述的每一个度量维度，我们设置了三个指标粒度：团队级指标、产品级指标和产品线级指标，如下图所示。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/73/73daca32bccf828d29f9a8e48bd889f3.png\" /></p><p></p><p>&nbsp;</p><p>每一个度量维度生成的数据可以被视为一种三轴立方体。</p><p>&nbsp;</p><p>X轴：指标粒度团队级指标；产品级指标；产品线级指标。Y轴：度量维度价值；云成本；稳定性；速度；可靠性。Z轴：组织级别团队；中层管理（产品经理、开发经理、运营经理）；高层管理（“主管”角色）。</p><p>&nbsp;</p><p>这使得整个产品交付组织能够按照适合手头需要解决的问题的粒度来处理数据。数据集的示意图如下所示。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/27/27e0fc6ee3ca244e1eb2e051d4ef6ac3.png\" /></p><p></p><p>&nbsp;</p><p>例如，分析交付速度的产品经理（上图中的蓝色立方体）可以基于产品级指标来查看所有相关产品的交付速度数据。他们也可以更进一步，基于产品线级指标来查看总体的速度数据。如果产品经理有技术背景，他们还可以基于团队级指标来更详细地查看速度数据。分析的结果可能会导致技术特性的优先发生变化，从而加快产品的交付，而更快的交付速度意味着可以找到更适合产品市场的产品。</p><p>&nbsp;</p><p>同样，分析可靠性的团队架构师（上图中的红色立方体）可以基于团队级可靠性指标来查看其团队所拥有的所有服务的可靠性。然后，他们也可以查看他们所依赖的其他团队的服务的可靠性（也是基于团队级可靠性指标）。在考虑使用新产品时，他们可以先查看过去汇总的产品级可靠性数据（产品级可靠性指标）。如果产品级可靠性是合理的，他们就可以深入了解组成产品的单个服务的可靠性（团队级可靠性指标）。根据分析结果，可能需要与产品所有者进行数据驱动的对话，调整可靠性特性和面向客户的特性之间的优先级。</p><p>&nbsp;</p><p>同样，由产品主管、开发主管和运营主管组成的领导团队可能会分析云成本数据。他们可以从查看产品线的成本数据开始，分析成本趋势，并将它们与相应的价值趋势联系起来。对于成本趋势与价值趋势反向相关的产品线，领导团队可以深入了解产品级成本和价值数据。根据分析结果，可能需要与各自的产品经理就新产品的预计盈亏平衡点和成熟产品的收入趋势进行对话。</p><p>&nbsp;</p><p></p><h1>建立行动过程</h1><p></p><p>&nbsp;</p><p>要基于上述跨组织孤岛和级别的度量数据采取行动，需要建立专门的过程。对于团队、中层管理人员（产品经理、开发经理、运营经理）和高层管理人员（“负责人”角色）来说，这个过程是不一样的。我们发现下面的这些方法在我们的组织中很有用。</p><p>&nbsp;</p><p></p><p>&nbsp;</p><p>关于团队级数据分析周期的说明：尽管许多团队选择每3个月查看一次指标数据，但有些团队更频繁地查看某些指标。具体来说，有时每天都要查看云成本数据，特别是当团队在通过优化架构或设计来降低云成本时。此外，当团队在大型重构后进行稳定性工作时，有时候每周都会查看构建和部署稳定性数据。</p><p>&nbsp;</p><p></p><h1>优化组织</h1><p></p><p>&nbsp;</p><p>在本小节中，我们将提供一个示例来说明我们如何利用在不同组织级别发生的数据驱动决策来优化组织的交付速度。</p><p>&nbsp;</p><p>交付速度是一个非常重要的度量维度，因为每个人都希望能够更快地交付特性。在开始时，我们所有的团队都非常渴望加快交付速度。在某个时刻，我们引入了速度指标并趋于成熟，这在整个组织层面形成了如下所述的数据驱动工作流：</p><p>&nbsp;</p><p></p><p>&nbsp;</p><p></p><h1>总结</h1><p></p><p>&nbsp;</p><p>从整体上优化软件交付组织是一项复杂的工作，可以通过三种粒度的度量指标——团队级、产品级和产品线级指标来为其提供很好的支持。这为团队、组织的中层管理人员和高层管理人员提供了数据驱动的决策制定。建立专门的流程来分析数据，并在这三个层面采取行动，有助于组织进行整体的持续改进。</p><p>&nbsp;</p><p>作者简介：</p><p>Vladyslav Ukis博士毕业于德国埃尔兰根-纽伦堡大学（计算机科学专业）和英国曼彻斯特大学。毕业后，他加入Siemens Healthineers，从事软件架构、企业架构、创新管理、私有云和公有云计算、团队管理、工程管理、投资组合管理、合作伙伴管理和数字化转型等方面的工作。他目前担任Siemens Healthineers团队数字健康平台的研发主管。他在2022年出版的“Establishing SRE Foundations”（Addison Wesley出版社）一书中分享了他的DevOps知识：<a href=\"https://www.informit.com/store/establishing-sre-foundations-a-step-by-step-guide-to-9780137424658\">https://www.informit.com/store/establishing-sre-foundations-a-step-by-step-guide-to-9780137424658</a>\"</p><p>&nbsp;</p><p>原文链接：</p><p><a href=\"https://www.infoq.com/articles/software-delivery-performance-indicators/\">https://www.infoq.com/articles/software-delivery-performance-indicators/</a>\"</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/article/k0Lr2oVo3EdPqVR6CLo0\">范珂：数字化时代下，数据驱动决策组织文化的打造</a>\"</p><p><a href=\"https://www.infoq.cn/article/Y5qzSjI0YRxhp31Sf5JE\">首席数据官：数据驱动时代的大势所趋</a>\"</p><p></p>",
    "publish_time": "2023-08-04 10:24:33",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "腾讯音乐娱乐集团数据智能高级总监李深远，确认担任QCon北京数据科学为产品赋能（PCon）专题出品人",
    "url": "https://www.infoq.cn/article/ike5erbcKBghJR752IM9",
    "summary": "<p>9 月 3 日 - 5 日，在 <a href=\"https://qcon.infoq.cn/202309/beijing?utm_source=infoqweb&amp;utm_medium=teacherart&amp;utm_campaign=9&amp;utm_term=0804&amp;utm_content=lishenyuan\">QCon 全球软件开发大会（北京站）</a>\"，腾讯音乐娱乐集团数据智能高级总监李深远将担任「数据科学为产品赋能（PCon）」的专题出品人。在此次专题中，你将了解到如何用数据科学来洞察市场与客户。</p><p></p><p>李深远，腾讯音乐娱乐集团数据智能高级总监，数据科学专家。负责 TME 集团数据中台及 QQ 音乐业务线数据科学研发。</p><p></p><p>相信李深远的到来，可以帮助提升此专题的质量，让你学习到利用数据科学来洞察市场与客户，可以帮助产品团队在产品设计时做出更好的决策，或是在优化产品时发现和解决其中的问题，并提供解决方案，为产品有关方面的工作提供了新的视角。</p><p></p><p>除上述专题外，QCon 北京还将围绕<a href=\"https://qcon.infoq.cn/202309/beijing/track/1553?utm_source=infoqweb&amp;utm_medium=teacherart&amp;utm_campaign=9\">异构计算</a>\"、<a href=\"https://qcon.infoq.cn/202309/beijing/track/1554?utm_source=infoqweb&amp;utm_medium=teacherart&amp;utm_campaign=9\">向量数据库</a>\"、<a href=\"https://qcon.infoq.cn/202309/beijing/track/1556?utm_source=infoqweb&amp;utm_medium=teacherart&amp;utm_campaign=9\">FinOps&nbsp;落地</a>\"、<a href=\"https://qcon.infoq.cn/202309/beijing/track/1558?utm_source=infoqweb&amp;utm_medium=teacherart&amp;utm_campaign=9\">业务安全技术</a>\"、<a href=\"https://qcon.infoq.cn/202309/beijing/track/1557?utm_source=infoqweb&amp;utm_medium=teacherart&amp;utm_campaign=9\">从&nbsp;BI&nbsp;到&nbsp;BI+AI，新计算范式下的大数据平台</a>\"、<a href=\"https://qcon.infoq.cn/202309/beijing/track/1559?utm_source=infoqweb&amp;utm_medium=teacherart&amp;utm_campaign=9\">从&nbsp;MLOps&nbsp;到&nbsp;LLMOps</a>\" 等进行分享。</p><p></p><p>近 100 名讲师、近 30 个精彩专题、8 种交流活动，QCon 北京 2023，相约 9 月！现在购票，享 9 折特惠，立省 ¥880！咨询购票请联系 18514549229（微信同手机号）。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/33/33cbbbf20baa8b2a18db4f0681f159aa.jpeg\" /></p><p></p>",
    "publish_time": "2023-08-04 14:14:54",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "易点天下发布AIGC数字营销创作平台，AIGC如何助推内容生产力革新？",
    "url": "https://www.infoq.cn/article/hssxLXJmigGzRrPha2j2",
    "summary": "<p>近日，易点天下发布了首个AIGC数字营销创作平台KreadoAI面向全球创作者正式发布。以“AI数字人、AI模特、AI工具、AI创意资产”4大解决方案为依托，KreadoAI将为营销领域全链路的降本提质增效，注入新的活力与动能。</p><p>&nbsp;</p><p>2010年前后，移动互联网和云计算的兴起带来了营销数据的爆炸式增长，易点天下成立，并推出了Yeahmobi等平台产品，并不断发展成长，逐步打造出完整的营销产品体系，提供数据挖掘、分析可视化报告、ROI实时监测在内的丰富功能。</p><p>&nbsp;</p><p>随着大模型时代的到来，易点天下在国内首批接入AI大模型，推动多场景应用不断落地，实现以AI技术赋能企业管理，实现降本增效。如利用文生图加速设计环节的增效，或提供营销文案生成工具以提供16倍的创新效率提升。</p><p>&nbsp;</p><p>据易点天下介绍，目前，KreadoAI平台的核心产品服务包括四大模块：AI数字人、AI模特、AI工具、AI创意资产。其中，AI数字人解决方案，共有AI数字人口播视频、1:1真人数字人分身克隆、语音声纹克隆三大功能，已应用在商旅推荐、电商购物、应用下载、教育培训、企业服务等领域，为创作者们提供了极大便利。</p><p>&nbsp;</p><p>而AI模特解决方案，则已支持为包括假发、服装、眼镜等细分行业的电商客户，生成不同地域国家、肤色、年龄、表情等媲美棚拍精度的AI产品展示图，被产品测试阶段的重度用户们称为“出海电商福音”。</p><p>&nbsp;</p><p>除此之外，AI工具解决方案所提供的AI生成营销文案、AI文本配音、AI智能抠图功能，也成为了极受出海卖家们欢迎的“效率助手”。</p><p>&nbsp;</p><p>AI创意资产服务模块，包括AIGC生成、模板素材、创意资料管理等功能。基于Google、Facebook、TikTok、抖音等海外及国内主流媒体，以创意素材为维度，KreadoAI的AI创意资产解决方案则可以针对营销投放前、中、后的创意趋势洞察、素材营销效果数据分析和爆款内容分析进行数字化营销管理。</p><p>&nbsp;</p><p>亚马逊云科技如何在AIGC领域赋能易点天下</p><p>&nbsp;</p><p>据易点天下介绍，该款KreadoAI平台的发布，背后离不开亚马逊云科技在技术上的支持。</p><p>&nbsp;</p><p>易点天下早在2014年就开始采用亚马逊云科技遍布全球的云基础设施为智能营销业务提供支持，并在每个季度获得亚马逊云科技提供的新技术培训，获取应用构建过程中问题的指导，消除 AIGC 应用构建过程中的障碍。此外随着其和亚马逊云科技合作深入，易点天下加入亚马逊云科技合作伙伴网络，获得了更多的技术和市场资源，让 KreadoAI 在构建与商业化上得到了更多的专业支持。</p><p>&nbsp;</p><p>在构建&nbsp;KreadoAI 模特解决方案的过程中，易点天下选择了使用 Amazon Elastic Compute Cloud（Amazon EC2）和 Amazon Elastic Kubernetes Service（EKS）进行站点的托管与预处理服务，在后端由 Amazon SageMaker 运行模型的训练任务与异步推理，并将相关素材与结果统一存储在 Amazon Simple Storage Service（Amazon S3）中，用户可以通过 Amazon Route 53、Amazon CloudFront 获得低延迟的访问体验。</p><p>&nbsp;</p><p>在&nbsp;KreadoAI 数字人视频融合解决方案中，易点天下采用了配备有 Auto Scaling 组的 Amazon EC2 G4dn 实例提供 GPU 运算支持，并针对多语言覆盖在服务中集成了具备快速合成能力、自然语音与可调整风格的 Amazon Polly 服务为跨境电商客户的多语种用户提供自定义 AI 数字虚拟人的生成能力。</p><p>&nbsp;</p><p>易点天下技术中心总经理秦鹏在接受媒体采访时表示，“我们大多数的电商客户以前在通过海外模特进行棚拍，单张照片的成本就需要百元左右，现在采用亚马逊云科技驱动的生成式人工智能自动输出，使电商素材生产的成本降低50%。来自某客户的数据显示 CTR 点击率提升35%，单次点击成本降低45%，客户能够直观地感受到 AI 应用所带来的收益。”</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>",
    "publish_time": "2023-08-04 14:54:31",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "性能提升5倍！翼支付基于多租户的降本增效实践",
    "url": "https://www.infoq.cn/article/DvIHvNPRMxPpFuAU418i",
    "summary": "<p></p><blockquote>作者：王硕&nbsp;中国电信翼支付 DBA</blockquote><p></p><p></p><p>翼支付是天翼电子商务有限公司旗下第三方服务平台，面向 7000 万月活用户，提供民生缴费、消费购物、金融理财等服务内容，依托云计算、大数据、人工智能等技术，联合合作伙伴，赋能超 1000 万家线下商户门店及 170 余家线上知名电商。</p><p></p><p>作为拥有千万月活用户的服务平台，翼支付与生活息息相关，其业务不仅种类繁多且复杂，与此同时需要对相关数据进行存储和处理，当前的数据库方案出现存储空间吃紧、分析实时性差、成本难以掌控、运维难度增大等问题，亟需选型和替换架构以保证业务长期的稳定运行。</p><p></p><p>在此大背景下，翼支付深入调研分析了市面已有的分布式数据库方案，最终将 OceanBase 作为首选方案。</p><p></p><p>该方案在真实场景测试和验证后，性能方面较旧方案提升 5 倍，硬件成本下降 57%，存储空间节省 10%，机器成本与运维成本极大降低。于是决定将消息中心、账单中心等业务由某国产数据库替换成 OceanBase ，同时将已有的 MySQL 业务逐渐迁移至新方案。</p><p></p><h2>挑战：实际使用面临多个难题</h2><p></p><p></p><p>在早期的数据库方案中，某国产数据库主要应用于账单中心、征信及反洗钱等业务场景并发挥了重要作用。随着月活用户量的不断增加，相关联的业务也在不断增长，在实际使用中遇到以下 3 个主要问题。</p><p></p><p>一、租户不隔离</p><p></p><p>由于我们在某国产数据库集群中放置了很多库，因此多个库之间共享集群资源，在某些库对应的业务流量高峰期时，业务之间互相影响，严重影响使用体验。</p><p></p><p>二、硬件成本高</p><p></p><p>在运维过程中，为了保障业务的稳定性，避免不同业务之间互相影响，通常对业务进行物理隔离，即不同的业务使用不同的数据库环境，因此多套业务对应多套数据库环境。也就是说，为了保证业务的稳定性，一个业务一套集群且集群的每个角色都配备一台机器，以账单中心和消息中心为例，原有的方案需要分别部署数据库环境且一套数据库环境即需要消耗7台机器，共需要 14 台机器。虽然业务之间做到了隔离，但是成本昂贵，性价比不高。</p><p></p><p>三、稳定性不够好</p><p></p><p>以消息中心业务为例，测试中发现某些在某国产数据库中查询较慢且出现秒级别尖刺，业务不定期出现抖动现象。</p><p></p><p>考虑到公司业务大多已采用两地三中心部署方案，业务层面也应用了双活架构，对比市面上的分布式数据库，OceanBase 正好提供两地三中心部署，并且每个中心都可以提供业务访问，完美契合了当前公司的业务架构。</p><p></p><h2>选型：敲定OceanBase</h2><p></p><p></p><p>此外，作为国内典型的分布式方案，OceanBase 具有原生分布式架构，支持金融级高可用、透明水平扩展、分布式事务、多租户和语法兼容等企业级特性。此外，从性能、成本、稳定性等方面来看都能满足公司需求。</p><p></p><p>性能上：每个节点都具备计算和存储能力，当业务计算要求增加或者数据量快速增长时，通过增加节点来扩展计算和存储能力，同时一体化架构使得分布式集群组件之间和组件内部 RPC（Remote procedure call）消耗更少，业务访问尽可能本地完成，减少不必要的 RPC 交互，性能更好。在实际测试中，我们发现通过增加硬件资源，集群的性能线性增长，符合预期。</p><p></p><p>成本上：在业务使用中，使用租户隔离特性非常便捷地将多个业务放在一套或极少数量的环境进行运维，加上官方配套的运维管控平台 OCP 、数据迁移工具 OMS &nbsp;等等生态工具，使得运维复杂度极大地降低。在实际测试中，我们发现在硬件层面，相比其他数据库方案，OceanBase &nbsp;资源消耗更少。综合评估下来，使用 OceanBase &nbsp;成本更低。</p><p></p><p>稳定性上：业务表对应的数据在底层以多个数据分片形式存在，在分布式架构下，单表的数据可以均衡分布在不同的节点，不需要复杂的分库分表方案；同时在底层数据存储时，数据存储多份（默认三副本）同时引入多数派 paxos 选举协议，在集群少数节点或者副本故障、异常时，确保上层业务不会受到影响，同时业务数据不丢失。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/6e/6efa25d43dfb07e676ffa5cbf1ca5785.png\" /></p><p>图1 OceanBase&nbsp; 典型三副本架构</p><p></p><p>这三个特性是当前业务最需要、最看重的能力，因此，OceanBase 数据库成为了解决我们业务问题的首选方案。</p><p></p><h2>业务双写验证测试结果超预期</h2><p></p><p></p><p>在确定选型方案后，我们对 OceanBase &nbsp;3.1.4 版本与某国产数据库进行各方面的对比。在实际环境中，对业务进行了简单改造，采用业务双写的方式验证对比某国产数据库与 OceanBase 方案。测试结果超出我们的预期：</p><p></p><p>第一，硬件成本下降 57%，同时资源消耗显著降低。OceanBase 的多租户特性具备资源隔离的能力，因此我们将账单中心和消息中心业务迁移至 OceanBase 环境，并使用多租户能力分别创建业务租户，机器资源从原来的 14 台机器变为 6 台，硬件成本降低 57%，同时多套业务集中在一套环境运维，日常管理更加方便。</p><p></p><p>在 CPU &nbsp;使用率方面，账单中心和消息中心在某国产数据库环境中，CPU 平均使用率 20%-25%，在 OceanBase 环境中， CPU 使用率为 5% 左右；在存储空间上，某国产数据库需要占用 19TB &nbsp;的空间，OceanBase 的存储空间占用为 17TB ，节省空间约 10%。同等业务量下，OceanBase &nbsp;方案资源消耗更少。</p><p></p><p>第二，性能提升 5 倍，单表分析能力提升 10%-20%。在消息中心业务中，某国产数据库消息状态更新接口耗时平均在 10ms ，同等条件下 OceanBase 使用分区键的响应 latency 持续稳定在 2ms ，响应时间更短且稳定。另外，线上的账单业务有一个 200 亿大表，在hash 分区策略下，OceanBase 单表分析能力较某国产数据库提升了 10%-20%，</p><p></p><p>第三，极大减少运维成本。在数据库集群管理方面，借助 OceanBase 提供的 OCP 白屏管理工具，OceanBase 集群能够实现统一管理，我们的 DBA 可以直接登录 OCP 平台对所有集群进行日常操作与维护，管理界面如图 2 所示，减少了大量的管理成本。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/c6/c6c300a8f4f2911375632bcab22fef96.png\" /></p><p>图2 OCP集群管理界面</p><p></p><p>除日常运维管理能力外，OCP 也提供了对集群的监控和告警服务，如图 3 所示，我们可以直接从 OCP 页面看到各个集群的运行状态，在出现异常的时候发出报警。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/8d/8dee65b3b8d6f03d79810413cd64c169.png\" /></p><p>图3 OCP监控界面</p><p></p><p>当前我们的业务环境中OceanBase 已经支持了消息中心、账单中心等业务服务。结算中心、反洗钱业务后续会全部迁移至OceanBase 。</p><p></p><h2>经验总结</h2><p></p><p></p><p>对于此次的数据库技术方案选型以及实际使用效果反馈，总体来说让我们有些出乎意料。我们将此次选型成功的重要因素和经验总结为以下 3 点，供大家参考。</p><p></p><p>第一、业务平滑迁移</p><p></p><p>通常在数据库迁移过程中，我们最关心的问题就是如何保证\"服务不停、数据不丢\"的同时最大化降低数据迁移的时间和成本。我们使用 OMS 平滑、准确、高效地解决了 MySQL 环境迁移数据的问题，降低了业务迁移成本，同时兼容性方面做到应用不需要修改即可完成迁移。比如，在某国产数据库迁移中，我们选择使用某国产数据库的 Binlog &nbsp;工具来完成某国产数据库到 OceanBase 的数据平滑迁移。</p><p></p><p>第二、统一平台管理，提升运维效率</p><p></p><p>OceanBase 环境使用一套 OCP 环境管理，不需要单独对每一套环境进行运维和管理，帮助运维人员便捷地进行环境管理和运维工作，同时其自带的监控和告警系统大大提高了问题发现的实效性，使问题能够更加高效、快捷的被解决。</p><p></p><p>第三、多租户能力及资源隔离优势明显</p><p></p><p>在实际使用中如商城业务会分很多库，为了避免这些库之间资源发生争抢从而导致其他库无法正常运行，将库按租户进行分离，利用租户的资源隔离能力，限制每个库的使用资源额度。并且，租户资源可以灵活调整，所以，每个库的资源也可以动态调整，从而保证业务的稳定性和灵活性。</p><p></p><p>以上就是翼支付的数据库技术方案选型过程及感受，希望能对正在考虑数据库选型的朋友一些提供参考价值。</p>",
    "publish_time": "2023-08-04 15:03:14",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "马斯克拿下极品域名AI.com：曾被OpenAI斥资千万美元买下，不到一年就易主了？",
    "url": "https://www.infoq.cn/article/OOFTxLA9wy38QyJ9rl6X",
    "summary": "<p>据外媒报道，极品域名AI.com已被马斯克买下，目前访问AI.com，将直接跳转到马斯克名下xAI公司的官网。并且跳转后，网页域名会自动变成x.ai。</p><p>&nbsp;</p><p><a href=\"https://www.infoq.cn/article/BjJt1kkDd6e0EczzbRpJ\">xAI</a>\"是马斯克在今年刚刚宣布成立的人工智能公司。当地时间 7 月 13 日，马斯克在推特上正式宣布成立 xAI 公司“去了解现实”。马斯克称，该公司的目标是“理解宇宙的真实本质”，简单来说，就是“xAI 公司的理念是打造‘能够畅所欲言，不受社会理念限制‘的 AI 系统”。</p><p>&nbsp;</p><p>在官网有限的信息中，xAI 主要列出了自己的创始团队名单，并大概介绍了这些人之前的贡献：</p><p>&nbsp;</p><p></p><blockquote>我们的团队由特斯拉和 SpaceX 的 CEO 埃隆·马斯克领导。我们曾在 DeepMind、OpenAI、谷歌研究、微软研究、特斯拉以及多伦多大学工作过。我们共同贡献了该领域中最广泛使用的一些技术方法，特别是Adam 优化器、批量归一化、层归一化和对抗性样本的发现。我们还引入了创新技术和分析，如Transformer-XL、Autoformalization、Memorizing Transformer,、Batch Size Scaling和μTransfer。我们曾参与并领导了该领域的一些重大突破发展，包括AlphaStar、AlphaCode、Inception、Minerva、GPT-3.5和GPT-4。</blockquote><p></p><p>&nbsp;</p><p>有观点认为，马斯克购买AI.com域名是为了在AI领域进行影响，让自己的公司成为这一领域的中心，从而与OpenAI 、微软、谷歌等公司竞争。目前，财大气粗马斯克已成功集齐ai.com、x.ai、x.com三大顶级域名。</p><p>&nbsp;</p><p>值得一提的是，极品域名AI.com在跳转到xAI 官网以前，是跳转到ChatGPT的。今年2月，OpenAI曾以至少1100万美元（约合人民币7535万元）的高价，拿下了域名AI.com。如今不到一年，AI.com便易主。</p><p>&nbsp;</p><p>据新网查询，AI.com注册于1993年5月，距今已有30年的历史。在此之前，AI.com也曾多次易主。2021年，域名投资公司（Top Notch Domains, LLC）的总裁Elliot Silver发布推特表示：极品两字母域名AI.com已经确认交易。由于whois信息隐藏暂时并不知道买家是谁，但来自Saw.com 的Jeff Gabriel透露：“AI.com是卖给了NFT领域的某个人”。</p>",
    "publish_time": "2023-08-04 15:15:33",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]