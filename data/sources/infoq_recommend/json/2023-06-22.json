[
  {
    "title": "Java近期新闻：JDK 21进入Rampdown阶段、JEP 404、JDK 22专家组、Jakarta EE 11升级",
    "url": "https://www.infoq.cn/article/XfkxxI24jvuR3e2AhPmr",
    "summary": "<p></p><h4>OpenJDK</h4><p></p><p>面向JDK 21的JEP 453（<a href=\"https://openjdk.org/jeps/453\">结构化并发预览</a>\"）已经从Proposed to Target状态<a href=\"https://mail.openjdk.org/pipermail/jdk-dev/2023-June/007908.html\">提升</a>\"到Targeted状态。该预览版最初只是一个处于孵化状态的API，融合了针对前两轮孵化反馈所做的增强：JEP 428（<a href=\"https://openjdk.org/jeps/428\">结构化并发第一轮孵化</a>\"）在JDK 19中交付；JEP 437（<a href=\"https://openjdk.org/jeps/437\">结构化并发第二孵化</a>\"）在JDK 20中交付。该版本带来的重大变化只有一项，就是在StructuredTaskScope类中定义的fork()方法，返回一个TaskHandle实例而不是Future，因为TaskHandle接口的get()方法经过重构后与Future接口的resultNow()方法行为相同了。要了解关于这个JEP的更多细节，可以查看<a href=\"https://www.infoq.com/news/2023/06/structured-concurrency-jdk-21/\">InfoQ的这篇新闻报道</a>\"。</p><p>&nbsp;</p><p>面向JDK 21的JEP 446（<a href=\"https://openjdk.org/jeps/446\">作用域值预览</a>\"）已经从Proposed to Target状态<a href=\"https://mail.openjdk.org/pipermail/jdk-dev/2023-June/007907.html\">提升</a>\"到Targeted状态。该JEP之前被称为范围局部变量（第一轮孵化），现在，它作为一个遵循JEP429（<a href=\"https://openjdk.org/jeps/429\">作用域值第一轮孵化</a>\"）的<a href=\"https://openjdk.org/jeps/12\">预览特性</a>\"在JDK 20中交付。该JEP建议在线程内部和线程之间共享不可变数据。这比线程局部变量更有优势，尤其是在大量使用虚拟线程时。InfoQ后续会带来更详细的报道。</p><p>&nbsp;</p><p>AWS首席工程师、JEP 404——<a href=\"https://openjdk.org/jeps/404\">Generational Shenandoah（实验阶段）</a>\"——的所有者<a href=\"https://www.linkedin.com/in/romankennke/\">Roman Kennke</a>\"<a href=\"https://mail.openjdk.org/pipermail/jdk-dev/2023-June/007910.html\">提议</a>\"从JDK 21中删除这个JEP，因为“在审核过程中发现了风险，而且没有时间对如此大的代码贡献做彻底的审核。”Shenandoah团队决定“尽他们所能提供最好的Generational Shenandoah”，并计划在JDK 22中交付。审核预计将于2023年6月14日结束。</p><p>&nbsp;</p><p></p><h4>JDK 21</h4><p></p><p>JDK 21<a href=\"https://jdk.java.net/21/\">早期访问构建</a>\"<a href=\"https://github.com/openjdk/jdk/releases/tag/jdk-21%2B26\">Build 26</a>\"在上周发布，其中包括Build 25的<a href=\"https://github.com/openjdk/jdk/compare/jdk-21%2B25...jdk-21%2B26\">更新</a>\"，主要是修复了各种<a href=\"https://bugs.openjdk.org/issues/?jql=project%20%3D%20JDK%20AND%20fixversion%20%3D%2021%20and%20%22resolved%20in%20build%22%20%3D%20b26%20order%20by%20component%2C%20subcomponent\">问题</a>\"。要了解关于这个版本的更多细节，请查看<a href=\"https://jdk.java.net/21/release-notes\">发布说明</a>\"。</p><p>&nbsp;</p><p>根据<a href=\"https://openjdk.org/projects/jdk/21/#Schedule\">JDK 20的发布时间表</a>\"，Oracle Java平台组首席架构师<a href=\"https://www.linkedin.com/in/markreinhold\">Mark Reinhold</a>\"正式宣布JDK 21进入Rampdown第一阶段。这意味着已经从主干源代码存储库生成了JDK<a href=\"https://github.com/openjdk/jdk21/\">稳定存储库</a>\"分叉，并且不会再对<a href=\"https://openjdk.java.net/projects/jdk/21/\">JDK 21</a>\"添加额外的JEP。因此，最终将于2023年9月正式发布的15个功能将包括：</p><p>JEP 430：<a href=\"https://openjdk.org/jeps/430\">字符串模板（预览版）</a>\"JEP 431：<a href=\"https://openjdk.org/jeps/431\">顺序集合</a>\"JEP 439：<a href=\"https://openjdk.org/jeps/439\">分代式ZGC</a>\"JEP 440：<a href=\"https://openjdk.org/jeps/440\">记录模式</a>\"JEP 441：<a href=\"https://openjdk.org/jeps/441\">Switch模式匹配</a>\"JEP 442：<a href=\"https://openjdk.org/jeps/442\">外部函数&amp;内部API（第3个预览版）</a>\"JEP 443：<a href=\"https://openjdk.org/jeps/443\">未命名模式和变量（预览版）</a>\"JEP 444：<a href=\"https://openjdk.org/jeps/444\">虚拟线程</a>\"JEP 445：<a href=\"https://openjdk.org/jeps/445\">未命名类和实例Main方法（预览版）</a>\"JEP 446：<a href=\"https://openjdk.org/jeps/446\">作用域值（预览版）</a>\"JEP 448：<a href=\"https://openjdk.org/jeps/448\">向量API（第6轮孵化）</a>\"JEP 449：<a href=\"https://openjdk.org/jeps/449\">弃用Windows 32-bit x86 Port，为删除做准备</a>\"JEP 451：<a href=\"https://openjdk.org/jeps/451\">准备禁用代理的动态加载</a>\"JEP 452：<a href=\"https://openjdk.org/jeps/452\">密钥封装机制API</a>\"JEP 453：<a href=\"https://openjdk.org/jeps/453\">结构化并发（预览版）</a>\"</p><p>&nbsp;</p><p>上述列表的前提是，前面提到的删除JEP 404——<a href=\"https://openjdk.org/jeps/404\">Generation Shenandoah（实验阶段）</a>\"——的提议获得批准。</p><p>&nbsp;</p><p>对于<a href=\"https://openjdk.java.net/projects/jdk/21/\">JDK 21</a>\"，我们鼓励开发人员通过<a href=\"https://bugreport.java.com/bugreport/\">Java Bug数据库</a>\"报告Bug。</p><p>&nbsp;</p><p></p><h4>JDK 22</h4><p></p><p>JSR 397（<a href=\"https://jcp.org/en/jsr/detail?id=397\">Java SE 22</a>\"）于上周提交，正式宣布了JDK 22的六人专家组，包括：<a href=\"https://www.linkedin.com/in/siritter/\">Simon Ritter</a>\"（Azul Systems）、<a href=\"https://www.linkedin.com/in/manojnp/\">Manoj Palat</a>\"（Eclipse基金会）、<a href=\"https://www.linkedin.com/in/andrew-haley-3546112/\">Andrew Haley</a>\"（红帽）、<a href=\"https://www.linkedin.com/in/christoph-langer-764280208/\">Christoph Langer</a>\"（SAP SE）、<a href=\"https://www.linkedin.com/in/iris-clark-49159b13b/\">Iris Clark</a>\"（Oracle）和<a href=\"https://www.linkedin.com/in/briangoetz/\">Brian Goetz</a>\"（Oracle）。Clark和Goetz将担任规范负责人。另外<a href=\"https://openjdk.org/projects/jdk/22/spec/\">有两个日期需要注意下</a>\"，一个是2024年1月至2024年2月的公开评审，另一个是2024年3月的GA发布。</p><p>&nbsp;</p><p>JDK 22<a href=\"https://jdk.java.net/22/\">早期访问构建</a>\"<a href=\"https://github.com/openjdk/jdk/releases/tag/jdk-22%2B0\">Build 0</a>\"和<a href=\"https://github.com/openjdk/jdk/releases/tag/jdk-22%2B1\">Build 1</a>\"也在上周发布，提供了初始<a href=\"https://github.com/openjdk/jdk/compare/jdk-22%2B0...jdk-22%2B1\">版本更新</a>\"集。</p><p>&nbsp;</p><p></p><h4>Jakarta EE</h4><p></p><p><a href=\"https://se.linkedin.com/in/ivargrimstad\">Ivar Grimstad</a>\"是Eclipse基金会的Jakarta EE开发大使。他在其每周<a href=\"https://www.agilejava.eu/\">博客</a>\"Hashtag Jakarta EE上<a href=\"https://www.agilejava.eu/2023/06/04/hashtag-jakarta-ee-179/\">宣布</a>\"，Jakarta EE 11的<a href=\"https://github.com/jakartaee/specifications/pulls?q=is%3Apr+is%3Aopen+label%3A%22plan+review%22\">计划评审请求</a>\"已经在2023年5月30日的截止日期之前提交。Jakarta EE 11预计将于2024年第一季度发布，将会更新<a href=\"https://jakarta.ee/specifications/authentication/\">Jakarta Authentication</a>\"&nbsp;3.1、<a href=\"https://jakarta.ee/specifications/authorization/\">Jakarta Authorization</a>\"&nbsp;3.0、<a href=\"https://jakarta.ee/specifications/concurrency/\">Jakarta Concurrency</a>\"&nbsp;3.1、<a href=\"https://jakarta.ee/specifications/cdi/\">Jakarta Contexts and Dependency Injection</a>\"&nbsp;4.1、<a href=\"https://jakarta.ee/specifications/expression-language/\">Jakarta Expression Language</a>\"&nbsp;6.0、<a href=\"https://jakarta.ee/specifications/faces/\">Jakarta</a>\"<a href=\"https://jakarta.ee/specifications/faces/\">Faces</a>\"&nbsp;5.0、<a href=\"https://jakarta.ee/specifications/restful-ws/4.0/\">Jakarta</a>\"<a href=\"https://jakarta.ee/specifications/restful-ws/4.0/\">RESTful Web</a>\"<a href=\"https://jakarta.ee/specifications/restful-ws/4.0/\">Services</a>\"<a href=\"https://jakarta.ee/specifications/restful-ws/4.0/\">4.0</a>\"、<a href=\"https://jakarta.ee/specifications/pages/\">Jakarta Server Pages</a>\"&nbsp;4.0、<a href=\"https://jakarta.ee/specifications/persistence/\">Jakarta Persistence</a>\"&nbsp;3.2、<a href=\"https://jakarta.ee/specifications/security/\">Jakarta Security</a>\"&nbsp;4.0、<a href=\"https://jakarta.ee/specifications/servlet/\">Jakarta</a>\"<a href=\"https://jakarta.ee/specifications/servlet/\">Servlet</a>\"&nbsp;6.1 、<a href=\"https://jakarta.ee/specifications/websocket/\">Jakarta</a>\"<a href=\"https://jakarta.ee/specifications/websocket/\">WebSocket</a>\"&nbsp;2.2等规范。</p><p>&nbsp;</p><p>同样值得注意的是，虽然<a href=\"https://jakarta.ee/specifications/data/1.0/\">Jakarta Data 1.0</a>\"、<a href=\"https://jakarta.ee/specifications/nosql/1.0/\">Jakarta NoSQL 1.0</a>\"和<a href=\"https://jakarta.ee/specifications/mvc/\">Jakarta MVC</a>\" 3.0规范的发布计划已经获批，但目前，它们仍被视为独立的部分，也就是说，还没有纳入到Jakarta EE的平台、Web或核心配置文件中。</p><p>&nbsp;</p><p></p><h4>Spring Framework</h4><p></p><p><a href=\"https://spring.io/projects/spring-security-kerberos\">Spring Security Kerberos</a>\" 2.0.0<a href=\"https://spring.io/blog/2023/06/08/spring-security-kerberos-2-0-0-available-now\">带来了显著的变化</a>\"，包括：对JDK 8的向后兼容支持；将UserDetailsService接口的执行封装到PrivilegedAction接口中，以便重用Kerberos身份验证；修复了JaasSubjectHolder 类的NotSerializableException。要了解关于该版本的更多细节，请查看<a href=\"https://github.com/spring-projects/spring-security-kerberos/issues\">问题列表</a>\"。</p><p>&nbsp;</p><p></p><h4>Quarkus</h4><p></p><p>Red Hat<a href=\"https://quarkus.io/blog/quarkus-3-1-1-final-released/\">发布</a>\"Quarkus 3.1.1.Final，提供了依赖项升级，并带来了一些显著的变化，包括：利用<a href=\"https://quarkus.io/extensions/io.quarkus/quarkus-security-jpa-reactive\">Security Jakarta Persistence Reactive</a>\"正确捕获非唯一结果异常；在准备Jacoco报告而工作空间模块找不到源头时防止NullPointerException；修复转换为本机镜像时@NamedNativeQuery注解在Hibernate Reactive中失效的问题；修复Quarkus 3.1中流响应未定义@Produces注解时抛出IllegalStateException异常的问题。要了解关于该版本的更多细节，请查看<a href=\"https://github.com/quarkusio/quarkus/releases/tag/3.1.1.Final\">发布说明</a>\"。</p><p>&nbsp;</p><p></p><h4>Micronaut</h4><p></p><p>Micronaut基金会<a href=\"https://micronaut.io/2023/06/07/micronaut-framework-3-9-3-released/\">发布</a>\"了Micronaut Framework 3.9.3，修复了一些Bug，并升级了一些模块：<a href=\"https://micronaut-projects.github.io/micronaut-servlet/snapshot/guide/index.html\">Micronaut Servlet</a>\"和<a href=\"https://micronaut-projects.github.io/micronaut-aws/snapshot/guide/index.html\">Micronaut AWS</a>\"。它还将一个依赖项升级到<a href=\"https://netty.io/\">Netty</a>\" 4.1.92。要了解关于该版本的更多细节，请查看<a href=\"https://github.com/micronaut-projects/micronaut-core/releases/tag/v3.9.3\">发布说明</a>\"。</p><p>&nbsp;</p><p>Micronaut 4.0的<a href=\"https://micronaut.io/2023/06/07/micronaut-framework-4-0-0-milestone-3-released/\">第三个候选版本</a>\"带来了Bug修复和改进，包括：在JsonMapper接口中为重载的writeValueAsString()方法集添加默认方法；改进定时任务的异常处理；为EndpointsFilter 类的注解@Requires 添加参数missingBeans=EndpointSensitivityHandler.class，用于指定处理端点敏感性的外部类，而不加载过滤器。要了解关于该版本的更多细节，请查看<a href=\"https://github.com/micronaut-projects/micronaut-core/releases/tag/v4.0.0-M7\">发布说明</a>\"。</p><p>&nbsp;</p><p></p><h4>Eclipse Vert.x</h4><p></p><p>Eclipse Vert.x 4.4.3<a href=\"https://vertx.io/blog/eclipse-vert-x-4-4-3/\">发布</a>\"，带来了依赖项升级和重要的Bug修复，包括：JDBC SQL客户端的跟踪集成问题；从GrpcMethodCall类的serviceName()方法中抛出IndexOutOfBoundsException异常；HttpServer接口的updateSSLOptions()方法由于SSLHelper类的null实例而抛出NullPointerException。要了解关于该版本的更多细节，请查看<a href=\"https://github.com/vert-x3/wiki/wiki/4.4.3-Release-Notes\">发布说明</a>\"以及<a href=\"https://github.com/vert-x3/wiki/wiki/4.4.3-Deprecations-and-breaking-changes\">弃用和破坏性更改明细</a>\"。</p><p>&nbsp;</p><p><a href=\"https://vertx.io/docs/vertx-jdbc-client/java/\">Vert.x JDBC Client</a>\" 4.4.3.1也已经<a href=\"https://vertx.io/blog/eclipse-vert-x-jdbc-client-4-3-3-1/\">发布</a>\"，修复了Vert.x 4.4.3中引入的IP地址解析<a href=\"https://github.com/vert-x3/vertx-jdbc-client/pull/306\">回归</a>\"。在获得下一个全栈升级版本之前，使用vertex -jdbc-client模块的开发人员应该先升级到这个依赖项。</p><p>&nbsp;</p><p></p><h4>Apache软件基金会</h4><p></p><p><a href=\"https://commons.apache.org/proper/commons-io/\">Apache Commons IO</a>\" 2.13.0<a href=\"https://www.mail-archive.com/announce@apache.org/msg08252.html\">发布</a>\"，带来了一些值得注意的变化，包括：修复了PathUtils类中的createParentDirectories()方法抛出FileAlreadyExistsException异常的问题；重置ReaderInputStream类中的setCharset(null)和setCharsetEncoder(null)方法，使它们返回一个默认对象，而不是抛出NullPointerException异常；在AbstractOrigin的子类中添加缺失的转换。要了解关于该版本的更多细节，请查看<a href=\"https://commons.apache.org/proper/commons-io/changes-report.html#a2.13.0\">发布说明</a>\"。</p><p>&nbsp;</p><p><a href=\"https://tomcat.apache.org/\">Apache Tomcat</a>\" <a href=\"https://www.mail-archive.com/announce@apache.org/msg08248.html\">11.0.0-M7</a>\"和<a href=\"https://www.mail-archive.com/announce@apache.org/msg08251.html\">9.0.76</a>\"版本共有的特性包括：支持JDK 21和虚拟线程；新增RateLimitFilter类，通过限制给定时间窗口内来自单个IP地址的请求数量，帮助减轻拒绝服务和暴力破解攻击；Tomcat Native依赖项升级到2.0.4，其中包括使用OpenSSL 3.0.9构建的Windows二进制文件。要了解关于这两个版本的更多细节，请查看<a href=\"http://tomcat.apache.org/tomcat-11.0-doc/changelog.html\">11.0.0-M7</a>\"和<a href=\"https://tomcat.apache.org/tomcat-9.0-doc/changelog.html\">9.0.76</a>\"的变更日志。</p><p>&nbsp;</p><p></p><h4>Infinispan</h4><p></p><p>Infinispan 14.0.10.Final带来了一些值得注意的变化，包括：Spring Framework 6.x和Spring Boot 3.x依赖项升级；修复检测多归属时的IPv6通配符地址；实现RemoteCache接口中的条件方法computeIfAbsent()和computeIfPresent()。要了解关于该版本的更多细节，请查看<a href=\"https://github.com/infinispan/infinispan/releases/tag/14.0.10.Final\">发布说明</a>\"。</p><p>&nbsp;</p><p>同样，Infinispan 13.0.17.Final也有一些显著的变化，如：不再过滤二进制资源，消除对二进制文件的破坏；使ManagedConnectionFactory类中的getConnection()方法延迟初始化数据源，解决部署到Tomcat时JNDI数据源不可用的问题；更正Spring Boot入门文档中属性文件示例里记录的端口号。要了解关于该版本的更多细节，请查看<a href=\"https://github.com/infinispan/infinispan/releases/tag/13.0.17.Final\">发布说明</a>\"。</p><p>&nbsp;</p><p></p><h4>JHipster</h4><p></p><p>JHipster团队<a href=\"https://twitter.com/pascalgrimaud/status/1667402737699504129?cxt=HHwWgoC-4ZT95qMuAAAA\">发布</a>\"了<a href=\"https://www.jhipster.tech/jhipster-lite/\">JHipster Lite</a>\" 0.34.0，带来了许多依赖项升级和重要的增强，诸如：删除了未使用的局部变量；用文本块替换连接字符串；改进React应用程序。要了解关于该版本的更多细节，请查看<a href=\"https://github.com/jhipster/jhipster-lite/releases/tag/v0.34.0\">发布说明</a>\"。</p><p>&nbsp;</p><p></p><h4>OpenXava</h4><p></p><p><a href=\"https://openxava.org/\">OpenXava</a>\" 7.1.1版本<a href=\"https://openxava.org/blog/openxava-7.1.1-released\">发布</a>\"，升级了依赖项，并且可以访问带有@HtmlText注释的网站资源。要了解关于该版本的更多细节，请查看<a href=\"https://github.com/openxava/openxava/releases/tag/7.1.1\">发布说明</a>\"。</p><p>&nbsp;</p><p></p><h4>Yupik</h4><p></p><p><a href=\"https://www.yupiik.io/fusion/\">Yupiik Fusion</a>\" 1.0.3<a href=\"https://www.yupiik.io/blog/release-yupiik-fusion-1.0.3.html\">发布</a>\"，带来了一些显著的变化，比如：在Kubernetes客户端库中支持kubecconfig文件；改进了CliAwaiter类的重用；通过将访问指示符从private更改为public来暴露KubenetesClient类的prepare()方法。要了解关于该版本的更多细节，请查看<a href=\"https://github.com/yupiik/fusion/releases/tag/fusion-1.0.3\">发布说明</a>\"。</p><p>&nbsp;</p><p></p><h4>Gradle</h4><p></p><p>Gradle 8.2的第二个候选版本做了如下改进：继续改进Kotlin DSL<a href=\"https://docs.gradle.org/8.2-rc-1/kotlin-dsl/index.html\">参考文档</a>\"、<a href=\"https://github.com/gradle/build-tool-roadmap/issues/49\">控制台输出的错误报告</a>\"（使其简洁、可操作）以及<a href=\"https://docs.gradle.org/8.2-rc-1/userguide/dependency_verification.html\">依赖项验证</a>\"（降低依赖项被攻陷时的安全风险）；默认启用在Kotlin DSL最后一个版本中引入的简单属性赋值操作符（=）。要了解关于该版本的更多细节，请查看<a href=\"https://github.com/gradle/gradle/releases/tag/v8.2.0-RC2\">发布说明</a>\"。</p><p>&nbsp;</p><p></p><h4>JNation大会</h4><p></p><p><a href=\"https://jnation.pt/\">JNation</a>\"大会于上周在葡萄牙科英布拉市<a href=\"http://www.coimbraconvento.pt/pt/\">弗朗西斯科修道院</a>\"举行，来自Java社区的许多演讲者参加了与Project Loom、JavaScript、Java on ARM、WebAssembly、Kubernetes和GraalVM等主题相关的<a href=\"https://jnation.pt/sessions/\">会议</a>\"和<a href=\"https://jnation.pt/workshops/\">研讨会</a>\"。</p><p></p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2023/06/java-news-roundup-jun05-2023/\">https://www.infoq.com/news/2023/06/java-news-roundup-jun05-2023/</a>\"</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/article/bKWjLjEoFVTr0GFVTmWm\">Java 迎来增强功能字符串模板，代码简化，安全性提升</a>\"</p><p><a href=\"https://www.infoq.cn/article/R8sh9XHuojBsX9DpGYvJ\">快速实现不打折扣的云原生 Java 应用</a>\"</p><p><a href=\"https://www.infoq.cn/article/wxcjbFtvT7Twva0eeXTj\">JEP 444：JDK 21 中出现虚拟线程，开创并发新纪元</a>\"</p><p></p>",
    "publish_time": "2023-06-22 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]