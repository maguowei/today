[
  {
    "title": "Snowflake CEO宣布退休，公司股价暴跌20%",
    "url": "https://www.infoq.cn/article/T0cZBQOKeuUA9Y2az0vz",
    "summary": "<p>当地时间2月28日，云数据平台独角兽Snowflake 宣布于 2019 年加入公司并于次年带领公司成功上市的亿万富翁首席执行官 Frank Slootman 即将退休，该职位将由前Google广告总监Sridhar Ramaswamy接任。</p><p>&nbsp;</p><p>一直以来，Snowflake这位资深的科技高管很受投资者欢迎，至少从投资者对他将辞去 Snowflake 首席执行官一职的反应来看是这样。受此消息影响，该公司股价在盘后交易中暴跌超过20%。</p><p>&nbsp;</p><p>今年65岁的Slootman曾领导软件供应商ServiceNow进入公开市场，在此之前，他曾在Data Domain担任高管。在他的职业生涯中，真正的高光时刻是在2020 年将Snowflake成功送到纽约证券交易所上市，此次上市也成为了有史以来规模最大的软件IPO，上市首日股价上涨了一倍多。虽然辞去了CEO一职，但Slootman仍将继续担任董事会主席。</p><p>&nbsp;</p><p>接替Slootman工作的是现年 57 岁的Ramaswamy，他曾在谷歌工作了 15 年，最近一次领导广告和商务业务，直到 2018 年。随后，Ramaswamy于 2019 年离职，与他人共同创立了 Neeva，这是一个消费者搜索引擎，他希望能凭借此引擎与谷歌展开竞争，直到去年他才宣布成立该公司。据一份文件显示，Snowflake&nbsp;于 6 月以 1.85 亿美元收购了Neeva。</p><p>&nbsp;</p><p>Slootman在一份声明中表示：“没有人比 Sridhar Ramaswamy更适合带领 Snowflake 进入下一阶段的增长，并抓住人工智能和机器学习领域的机遇。”&nbsp;“他是一位富有远见的技术专家，在经营和扩展成功企业方面经验丰富。”</p><p>&nbsp;</p><p>Snowflake还发布了第四季度财务业绩。期内销售额同比增长 32% 至 7.747 亿美元。第四季度产品收入为7.381亿美元，比上年增长33%。</p><p>&nbsp;</p><p>第四季度运营亏损为 2.755 亿美元，高于去年第四季度的 2.398 亿美元。</p><p>&nbsp;</p><p>据 StreetAccount 称，该公司表示第一季度产品收入将在 7.45 亿美元至 7.5 亿美元之间，低于分析师预期的 7.59 亿美元。此外，Snowflake 表示第一季度调整后营业利润率为 3%，高于分析师预期的 7.2%。</p><p>&nbsp;</p><p>Slootman 2023 年的总薪酬为 2370 万美元，几乎全部来自股票和期权奖励。根据一份监管文件，截至 2 月 9 日，Slootman 拥有 1060 万股 Snowflake 股票。截至周三收盘，该股份价值约为 24 亿美元。</p><p>&nbsp;</p><p>在 Slootman 加入 Snowflake 之前，该公司由前微软高管 Bob Muglia 领导，他将公司估值提升至 40 亿美元。Muglia 于 2019 年 4 月突然被罢免，并由 Slootman 取代。周三盘后暴跌之前，该公司的市值为 750 亿美元。</p>",
    "publish_time": "2024-02-29 09:55:50",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "Grab 改进 Kubernetes 集群中的 Kafka 设置，无需人工干预就可轮换 Broker 节点",
    "url": "https://www.infoq.cn/article/iASqS42eYx2tljmcsO0s",
    "summary": "<p>Grab 更新了其 Kubernetes 上的 Kafka 设置以提高容错性，并完全避免在 Kafka Broker 意外终止时需要进行人工干预。为解决最初设计的不足，Grab 的团队集成了 AWS 节点终止处理程序（Node Termination Handler，NTH），使用负载均衡器控制器进行目标组映射，并切换到 ELB 卷进行存储。</p><p></p><p>作为其 Coban 实时数据平台的一部分，Grab 已经在 Kubernetes (EKS) 上使用 Strimzi 在生产环境中运行 Apache Kafka 两年了。团队之前使用了 Strimzi（现已成为 CNCF 孵化项目），通过应用成熟的身份验证、授权和保密机制来提升 Kafka 集群的安全性。</p><p></p><p>除了由于维护或基础设施问题导致 AWS 意外终止 EKS 节点外，初始设置运行良好。在这种情况下，Kafka 客户端会突然遇到错误，因为 Broker 没有被优雅地降级。更糟糕的是，受影响的 Broker 实例无法在新配置的 EKS 工作节点上重新启动，因为 Kubernetes 仍然指向已经不存在的存储卷。因此，如果没有 Coban 工程师的干预，Kafka 集群将以降级状态运行，三个 Broker 节点中只有两个可用。</p><p></p><p>开发人员利用 AWS 节点终止处理程序（NTH）将对 Kafka 客户端的干扰降至最低，通过排空工作节点，使用 SIGTERM 信号触发 Kafka 进程优雅地关闭。Grab 团队选择使用队列处理器模式而不是实例元数据服务（IMDS）模式，因为它捕获了更广泛的事件集合，包括与可用区（AZ）和自动扩展组（ASG）有关的事件。</p><p></p><p><img src=\"https://static001.geekbang.org/wechat/images/12/1282b63f2961e3d9391f949a54414ad4.png\" /></p><p></p><p>使用 AWS 节点终止处理程序（队列处理器）支持 Kafka 的优雅关闭（来源：Grab 工程博）</p><p></p><p>他们使用 AWS 负载均衡器控制器（LBC）动态映射网络负载均衡器（NLB）目标组来解决工作节点终止时网络连接中断的问题。工程师们通过增加健康检查频率并使用 Pod 就绪门（Pod Readiness Gate）控制器来配置 NLB，解决 NLB 将每个目标组标记为健康状态所需的时间过长的问题。</p><p></p><p>他们最后需要克服的一个最大的障碍是确保新配置的 Kafka 工作节点能够正确启动并访问数据存储卷。工程师们决定使用弹性块存储（EBS）卷而不是 NVMe 实例存储卷。使用 ESB 有许多好处，例如成本更低、将卷大小与实例规格解耦、更快的同步速度、快照备份以及在不停机的情况下增加容量。此外，他们将 EC2 实例类型从存储优化改为通用型或内存优化型。</p><p></p><p>通过对 Kubernetes 和 Strimzi 进行额外配置，能够在新集群上自动创建 EBS 卷，并在将 Kafka Pod 重定位到不同工作节点时在 EC2 实例之间附加 / 分离卷。</p><p></p><p><img src=\"https://static001.geekbang.org/wechat/images/67/673d9ad3ea9e417dbd8d9f2a5d8828e0.png\" /></p><p></p><p>经过这些改进，EC2 实例退役以及任何需要对所有工作节点进行轮换的操作都可以在没有人工干预的情况下进行，这些操作变得更快速、更不容易出错。他们正在计划做进一步的改进，包括使用 NTH Webhook 主动启动新实例并通过 Slack 通知 NTH 发起的操作，以及推出 Karpenter，用以取代 Kubernetes Cluster Autoscaler。</p><p></p><p>查看英文原文：</p><p></p><p><a href=\"https://www.infoq.com/news/2024/02/grab-kafka-kubernetes-aws-nth/\">https://www.infoq.com/news/2024/02/grab-kafka-kubernetes-aws-nth/</a>\"</p>",
    "publish_time": "2024-02-29 10:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "从Sora代表的多模态聊起，大模型将如何重塑软件生态？｜QCon会展启航直播",
    "url": "https://www.infoq.cn/article/rjdS63Pvw3xTb0XtLBLl",
    "summary": "<p>2月26日，OpenAI&nbsp;Sora&nbsp;正式对外开放申请。这是一个文本到视频的生成模型（即文本生成视频），可以根据用户输入的描述性提示快速生成视频，并及时向前或向后扩展现有视频，因为前期公布的视频效果不错而受到大家的广泛关注。</p><p></p><p>与此同时，与&nbsp;Sora&nbsp;同架构的&nbsp;Stable&nbsp;Diffusion&nbsp;3.0也正式发布。从公布出来的测试图来看，归功于&nbsp;Transformer&nbsp;架构和额外的文本编码器，Stable&nbsp;Diffusion&nbsp;3.0的文字渲染能力十分强悍，图像的质量和整体性能同样有所提高。</p><p></p><p>这也让多模态再次成为大家关注的焦点，近一个月内有多场与之相关的直播，无数业内技术专家围绕此发表了自己的观点。那么，国内企业在这方面又有哪些具体进展呢？</p><p></p><p>与Sora前后脚出现的Gemma&nbsp;在过去一个月也是受到了大家的强烈关注，谷歌的Gemma&nbsp;是一个开放模型，与&nbsp;Gemini&nbsp;模型（以及更早的&nbsp;PaLM&nbsp;模型）拥有相同的技术和基础设施组件。谷歌方面称，与其他开放模型相比，Gemma&nbsp;2B&nbsp;与&nbsp;7B&nbsp;均在同等规模范围内拥有最出色的性能表现。</p><p></p><p>那么，开放模型这个概念如何理解？区别于开源和闭源，开放模型是不是将具备更好的商业前景呢？</p><p></p><p>诸如此，生成式AI技术的到来对整个软件生态带来了很多变化，我们也在期待未来有更多好的场景案例和技术突破出现。比如，Agent是否会在24年出现“现象级”的应用？可能是在C端还是B端？或者开发者日益喜欢的智能编码工具还可能朝着哪些方向演进？数字人是否会有实际的商业落地场景？角色构建又有哪些新的进展？微调工程师还是否是一个好的选择？</p><p></p><p>3月1日晚19:00，InfoQ特别策划的<a href=\"https://qcon.infoq.cn/2024/beijing/?utm_source=infoqweb&amp;utm_medium=dahuibanner\">【QCon全球软件开发大会暨智能软件开发生态展】</a>\"的启航直播中邀请了<a href=\"https://qcon.infoq.cn/2024/beijing/track/1620\">QCon大会的出品人、阿里云效、通义灵码产品技术负责人陈鑫（花名：神秀）</a>\"，<a href=\"https://qcon.infoq.cn/2024/beijing/track/1623\">QCon大会的出品人、白鲸开源CEO、Apache&nbsp;基金会成员、TGO鲲鹏会学员郭炜</a>\"，<a href=\"https://qcon.infoq.cn/2024/beijing/track/1633\">QCon大会的出品人、数势科技AI负责人李飞博士</a>\"、北京极客邦科技有限公司创始人兼CEO&nbsp;霍太稳Kevin共同讨论上述话题（感兴趣的用户可以扫描下方海报上的预约直播二维码，先行预约）。</p><p><img src=\"https://static001.geekbang.org/infoq/15/151fa75036561270851b744075da7ff0.png\" /></p><p>与此同时，直播期间购买QCon大会展区门票将享受5折优惠，大会门票将享受<a href=\"https://qcon.infoq.cn/2024/beijing/apply\">8折优惠</a>\"。此外，3张以上即可团购，每张门票将单独赠送案例会员季卡一张，可观看往届大会的精品演讲视频，涵盖人工智能、云原生、研发效能、架构设计、前端开发等众多领域（可以扫描海报上面的&lt;大会福利官&gt;二维码，提前了解相关信息）。</p>",
    "publish_time": "2024-02-29 10:26:39",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "Cloudflare开源基于Rust语言的Pingora框架",
    "url": "https://www.infoq.cn/article/RUxJrOykuSXwPxFZY3yR",
    "summary": "<p>早在 2022 年，Cloudflare 就宣布他们将放弃 Nginx，转而使用内部 Rust 编写的软件，名为 Pingora。当地时间2月28日，Cloudflare宣布开源Pingora框架。</p><p>&nbsp;</p><p>据悉，Pingora 是一个 Rust 异步多线程框架，用于构建可编程网络服务，采用Apache 2.0 开源许可证。Pingora 长期以来一直在 Cloudflare 内部使用，能够维持大量流量，而现在 Pingora 正在开源，以帮助在 Cloudflare 之外构建基础设施。</p><p>&nbsp;</p><p>Cloudflare 将 Pingora 框架描述为：</p><p>&nbsp;</p><p></p><blockquote>“Pingora 提供了库和 API，用于在 HTTP/1 和 HTTP/2、TLS 或 TCP/UDP 之上构建服务。作为代理，它支持 HTTP/1 和 HTTP/2 端到端、gRPC 和websocket 代理。（HTTP/3 支持已在路线图上。）它还具有可定制的负载平衡和故障转移策略。为了合规性和安全性，它支持常用的 OpenSSL 和 BoringSSL 库，这些库具有 FIPS 合规性和后量子性除了提供这些功能之外，Pingora 还提供过滤器和回调，以允许用户完全自定义服务应如何处理、转换和转发请求。这些 API 对于 OpenResty 和 NGINX 用户来说尤其熟悉，因为许多API直观地映射到 OpenResty 的“ *_by_lua”回调。&nbsp;在操作上，Pingora 提供零停机优雅重启来升级自身，而不会丢弃单个传入请求。Syslog、Prometheus、Sentry、OpenTelemetry 和其他必备的可观察工具也可以轻松与 Pingora 集成。”</blockquote><p></p><p>&nbsp;</p><p>Cloudflare宣布Pingora 开源，其中还包含一个使用它构建负载均衡器的示例。Pingora 处于 1.0 之前的阶段，尚不具备 API 稳定性，Cloudflare 目前没有计划支持非 Unix 操作系统。</p><p>&nbsp;</p><p>Pingora Rust 代码可在<a href=\"https://github.com/cloudflare/pingora\">GitHub</a>\"上获取。</p><p>&nbsp;</p><p>Pingora项目地址：<a href=\"https://github.com/cloudflare/pingora\">https://github.com/cloudflare/pingora</a>\"</p><p>&nbsp;</p><p>参考链接：<a href=\"https://www.phoronix.com/news/Cloudflare-Pingora-Open-Source\">https://www.phoronix.com/news/Cloudflare-Pingora-Open-Source</a>\"</p>",
    "publish_time": "2024-02-29 10:53:44",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "2024 阿里云战略发布会：史上最大力度！阿里云 100 多款产品官网直降 20%",
    "url": "https://www.infoq.cn/article/sMg6Ea7Rhr3mRxXpJAl0",
    "summary": "<p>2 月 29 日，<a href=\"https://www.infoq.cn/article/06kIattDgffkcSlHKMWJ?utm_campaign=geek_search&amp;utm_content=geek_search&amp;utm_medium=geek_search&amp;utm_source=geek_search&amp;utm_term=geek_search\">阿里云</a>\"全线下调云产品官网售价，平均降价幅度超过 20%，最高降幅达 55%。这是阿里云史上最大力度的一次降价，涉及 100 多款产品、500 多个产品规格，覆盖计算、存储、数据库等所有核心产品，数百万新老客户可在本次降价中直接获益。降价后，阿里云核心产品价格都击穿了全网最低价。</p><p></p><p>本次降价采用官网直降的形式，对在官网采购的新老客户均适用。其中，<a href=\"https://xie.infoq.cn/article/7be3774368aec3c4eee3c4d0c?utm_campaign=geek_search&amp;utm_content=geek_search&amp;utm_medium=geek_search&amp;utm_source=geek_search&amp;utm_term=geek_search\">云服务器 ECS </a>\"最高降 36%、<a href=\"https://www.infoq.cn/article/yMVVwC2BMk13ZwUisIIS?utm_campaign=geek_search&amp;utm_content=geek_search&amp;utm_medium=geek_search&amp;utm_source=geek_search&amp;utm_term=geek_search\">对象存储</a>\" OSS 最高降 55%、云数据库 RDS 最高降 40%，都是云上用户使用频率最高的核心产品。无论是大客户还是中小客户，新客户还是老客户，都可以在阿里云官网上直接按照新的价格在线下单。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/cb/cb65f240db2eee5d1957300365461c86.png\" /></p><p></p><p>阿里云智能集团资深副总裁、公共云事业部总裁刘伟光表示：“中国云计算发展了十多年，公共云渗透率仍大幅低于欧美成熟市场。作为中国第一大云计算公司，阿里云希望通过此次大规模降价，让更多企业用上先进的公共云服务，加速云计算在中国各行各业的普及和发展。”</p><p></p><p>以最受中小企业欢迎的云服务器u1产品为例，购买 2c4g 配置的五年版需要 768元/年，降价后仅需 485元/年，降价 36%。对象存储 OSS 标准存储-本地冗余从 0.12/GB/月降至 0.09/GB/月，降幅达 25%。数据库方面，以 RDSMySQL 基础系列为例，购买 1c2g 通用型配置的五年版需要 936元/年，降价后仅需 562元/年，降价 40%。此外，阿里云还将云数据传输 CDT 的每月免费公网流量额度从 10GB 提升至 20GB。</p><p></p><p>针对之前包年的老客户，阿里云也推出了相应的优惠政策。客户在降价发布后 3 个月内续费，未消耗的包年时长可按新的价格重新计费。例如，某企业此前购买了 10 万元包 1 年的云服务器，目前只用了 6 个月，只要客户再续费 1 年，此前未消耗的 5 万元云资源可按新的价格（降20%）重新计费，差额可抵扣续费订单，即少付 1 万元。</p><p></p><p>此外，阿里云还全面升级了“99 计划”，面向个人开发者和中小企业推出 99元/年、199元/年的入门级云服务器。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/96/960136006d2aad1052306cfe2c104d58.png\" /></p><p></p>",
    "publish_time": "2024-02-29 11:43:46",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "拜登：“一切非Rust项目均为非法”",
    "url": "https://www.infoq.cn/article/2SWA4hvSTpe22mMD9mBJ",
    "summary": "<p>“程序员编写代码并非没有后果，他们的⼯作⽅式于国家利益而言至关重要。”白宫国家网络总监办公室（ONCD，以下简称网总办）在本周一发布的报告中说道。在该报告中，拜登政府希望软件开发人员尽量使用Rust这样的内存安全编程语言，并放弃C和C++等安全性薄弱的语言。</p><p><img src=\"https://static001.geekbang.org/infoq/ae/ae9222f4fd1d8fdf51866c8ad74e3071.jpeg\" /></p><p>图源：报告文件</p><p>&nbsp;</p><p>此外，美国参议院国土安全和政府事务委员会主席 Gary Peters (D.MI) 和美国参议员 Ron Wyden (D-OR) 还向网总办强调了他们在内存安全方面的立法努力。</p><p></p><h2>科技巨头要为安全负责</h2><p></p><p>&nbsp;</p><p>这并不是拜登政府对内存安全语言的首次提倡。</p><p>&nbsp;</p><p>美国网络安全与基础设施安全局（CISA）在去年9月的一篇博文中，也曾公开敦促开发人员使用内存安全编程语言。网络与基础设施安全局、联邦调查局（FBI）、国家安全局及各盟国机构随后于12月发布了题为《内存安全路线图案例》（The Case for Memory Safe Roadmaps）的研究报告，其中就点名C/C++存在内存安全漏洞，软件开发商应放弃使用，改用C#、Rust、Go、Java、Python和Swift等内存安全的编程语言 (MSL)。&nbsp;</p><p>&nbsp;</p><p>此外，早在 2022年11月，国安局网络安全信息表就将C#、Go、Java、Ruby、Swift以及Rust列为认定的内存安全编程语言。</p><p>&nbsp;</p><p>在这份19页的最新报告中，白宫则将C和C++作为存在内存安全漏洞的两大编程语言示例，相应的内存安全正面典型则是Rust语言。</p><p>&nbsp;</p><p>微软和谷歌最近的研究发现，约有70%的安全漏洞由内存安全问题引发。 国家网络总监Harry Coker在白宫新闻稿中表示，“我们美国有能力、也有责任缩小网络空间的攻击面，并防止各类安全漏洞侵入数字生态系统。而这要求我们首先解决转向内存安全编程这一根本难题。”</p><p>&nbsp;</p><p>白宫在一份新闻稿明确提出，科技企业可通过采用内存安全编程语言“防止各类漏洞侵入数字生态系统”。内存安全编程语言能够免受与内存访问相关的各类软件bug及漏洞的影响，具体包括缓冲区溢出、越界读取和内存泄漏。</p><p>&nbsp;</p><p>白宫新闻稿提到，这份报告的目标之一是将网络安全责任从个人和小型企业，转移到大型组织、科技巨头及美国政府身上，因为后者“更有能力应对不断变化的威胁形势”。</p><p>&nbsp;</p><p>网总办称其与科技企业、学术界及其他组织等私营部门合作制定了报告中的建议条款。网总办自去年8月起就该主题发出了公众意见征集请求，随后收集到多家科技企业的支持回应，包括HPE、埃森哲和Palantir。其他软件安全专家也对报告内容表示赞赏。</p><p></p><h2>有人欢喜有人愁</h2><p></p><p>&nbsp;</p><p>网总办公室还公布了报告筹备过程中征集到的意见：</p><p>&nbsp;</p><p>Rust基金会呼吁“公共资助组织及其承包商应默认使用内存安全编程语言（例如Rust），并将此作为良好实践要求”。微软将重点放在软件供应链以及行业对开源项目投入不足的现实问题上。IBM表示，重写软件可能过于昂贵，并主张“保护现有软件免受内存安全漏洞影响”的方法。谷歌提到其正与政府机构一道倡导“向内存安全语言和框架的过渡”。亚马逊云科技则给出更为详尽的回应，称“完全支持用内存安全语言编写新项目的做法”，但这“只是提高开源软件安全性整体努力中的一项具体因素”，并强调开发人员有可能禁用掉Rust中的内存安全功能；此外，逻辑错误造成的“安全威胁可能远大于内存安全”。</p><p>&nbsp;</p><p>另一组织也给出引人注目的回应，该组织自称“拥有多位在ISO C++ (ISO/IEC SC22/WG21) 领域拥有数十年经验的 C++ 高级成员，主要负责指导ISO C++发展方向”。</p><p>&nbsp;</p><p>他们提到“内存安全只是整体安全保护中的一小部分”，而且“C++的安全实践主要得益于正式规范、充分指定的内存模型以及活跃的用户与实现者社区。相比之下，某些理论上更安全的语言反而缺少正式规范”，这部分针对的很可能就是Rust。</p><p>&nbsp;</p><p>在他们看来，C++显然是受到了不公平的对待。“对C++的大部分批评主要集中在以传统风格甚至C语言编写的代码，这部分代码没有用到旨在提高类型与资源安全性的现代功能。”</p><p>&nbsp;</p><p>他们还在回应中强调，还有很多其他方式会导致编程错误，包括逻辑错误、资源泄露、并发错误、类型错误、计时错误、终止错误等等。该小组希望改善对C++程序员的教育和指导，“从根本上解决安全问题”。还有部分C++语言专家认为，内存保护机制只能解决少部分安全难题。</p><p>&nbsp;</p><p>而华盛顿大学计算机科学教授Dan Grossman表示，网总办的报告及时且具有指导意见。他认为尽管“几十年来，C和C++的安全风险已经众所周知”，但考虑到实用且成熟的替代方案终于出现，现在正是白宫推动内存安全普及的最佳时机。</p><p>&nbsp;</p><p>与此同时，他认为“恶意攻击者利用内存安全违规实施威胁的手段非常复杂”，因此变革已刻不容缓。</p><p>&nbsp;</p><p>在Grossman看来，涵盖政府、行业及学术界的内存安全相关讨论能够带来有意义的转变。“当然，联邦政府的诸多部门都是重要的软件开发者与提供者，他们可以基于自身立场为后续系统调整或全新系统的开发划定优先级。”</p><p>&nbsp;</p><p></p><h2>Rust 不会立刻取代 C 和 C++</h2><p></p><p>&nbsp;</p><p>然而，替代C和C++绝不可能一蹴而就，特别是在嵌入式系统领域。</p><p>&nbsp;</p><p>根据Statista公布的数据，截至2023年，约有22%的软件程序员仍在使用C++，其中19%使用C语言，总体人气已经不及JavaScript、Python、Java等其他流行语言。但TIOBE编程社区指数榜则仅将Python列为流行度领先语言，紧随其后的分别是C、C++和Java。</p><p>&nbsp;</p><p>Grossman 指出，“好消息是系统软件中其他语言、特别是Rust的应用已经显著增长，我发现人们普遍认为这种演变将进一步加速。而C和C++开发的份额只会逐步降低，而非一夜之间遭到弃用，其巨大的业界整体影响力仍然存在。”</p><p>&nbsp;</p><p>互联网安全研究小组执行董事兼联合创始人Josh Aas则补充称，放弃C和C++将是一个“漫长且艰难的过程。改变人们思考事物的方式离不开持续努力，而现在这样的沟通有助于巩固安全问题在人们思维中的存在感和重要性。”</p><p>&nbsp;</p><p>在Aas看来，要想推动这一变革，政府与私营部门间必须协同努力，将安全编码视为优先事项。</p><p>&nbsp;</p><p>他总结道，“最终，我们必然要编写并部署新代码。但实现这个目标离不开资源的加持，我们必须保证从政府到私营部门的各级领导者，都将此视为高优先级工作。相关负责人应当意识到这个问题，并保证他们在解决问题的过程中能得到有力支持。”</p><p>&nbsp;</p><p>那从技术角度看，用 Rust 重写大型 C/C++ 系统组件后就绝对安全了吗？答案是否定的。</p><p>&nbsp;</p><p>本质上讲，Rust 和 C/C++ 是不能直接交互的——它们在类型、内存管理和控制流方面都采取了截然不同的方法。结果就是，如果手动编写“胶水”代码，就很可能打破隐式假设（例如调用约定和数据表示）、关键不变量（例如内存和类型安全、同步和资源处理协议），并跨过语言边界引入未定义的行为错误，例如展开恐慌（unwinding panics）、整型表示错误、为枚举和标记的联合体类型静默创建无效值等。</p><p>&nbsp;</p><p>内存管理方法方面，Rust 的类型系统会静态跟踪对象的生命周期和所有权，C 语言要求程序员手动管理内存，而 C++ 虽然提供内存安全抽象，但也允许自由将其与原始指针加以混合。</p><p>&nbsp;</p><p>更重要的是，在将 C/C++ 系统迁移至 Rust 时，开发者必须通过 FFI 层来协调这些差异，其困难程度可见一斑。例如，跨 FFI 边界共享指针会引发跨语言内存管理问题，其中一种语言分配的指针会被另一种语言所释放。而当 C 和 Rust 代码试图共享内存所有权时，情况将变得更为复杂。</p><p>&nbsp;</p><p>与此同时，Rust 代码往往高度依赖类型系统所保证的不变量，借此确保内存安全和代码正确性。由于 C/C++ 程序通常不遵循相同的不变量，因此 C/C++ 在与 Rust 代码交互时可能引发冲突，这类问题在重写后尤其多见。</p><p>&nbsp;</p><p>Rust 和 C 间的不匹配，往往导致 FFI 边界处出现大量不安全代码——这令开发者很难安全将组件移植为 Rust 形式。更要命的是，哪怕是精通 Rust 和 Modula 3 系统架构的开发者，也几乎无法回避这些麻烦。</p><p>&nbsp;</p><p>另外，报告里也承认，“在某些特殊情况下，可能无法正常使用内存安全语言”。以太空系统为例，垃圾收集语言就无法满足其健壮性要求。报告还提到，Rust虽具有必要的内存安全特性，但“尚未在太空系统中得到证实。”</p><p>&nbsp;</p><p>值得注意的是，C++ 之父 Bjarne Stroustrup在去年底参加“CppCon”C++ 会议时向观众承诺，他将首先明确该编程语言所需的安全措施的具体类型。</p><p>&nbsp;</p><p>Stroustrup 给出的解决方案是配置文件（指的是需要遵循的一组规则，可以实现特定的安全保证），它们由 ISO C++ 标准定义，解决常见的安全问题，例如指针和数组范围。Stroustrup 的总体策略是，使用静态分析来消除潜在错误，但全局静态分析无法承受，所以需要一些规则来简化正在编写的内容，以便有效且廉价地进行本地静态分析，然后提供一些库来更好地依赖这些规则。</p><p>&nbsp;</p><p>与此同时，虽然被公认为“安全语言”，但 Rust 在2023 年除了提升性能和做规范化，也在努力进行安全性补齐短板。比如Rust通过支持更多安全编译场景如异步 trait 方法、优化编译告警等，优化了用户体验，使用户得以更好地获取 Rust 安全性的优点。</p><p>&nbsp;</p><p></p><h2>结束语</h2><p></p><p>&nbsp;</p><p>除了编程语言，网总办也谈到硬件保护层面，例如将Arm芯片中的内存标记功能，或者SRI Internatioanl与剑桥大学的CHERI（功能硬件增强RISC指令）研究项目作为潜在解决方案。</p><p>&nbsp;</p><p>但对于软件的量化问题，这份报告提出的问题明显多于答案。“软件可量化性是最难解决的开放研究问题之一。”具体挑战包括：大部分软件缺乏统一结构，导致质量评估变得既主观又严重依赖上下文。此外，软件行为往往具有不确定性，软件的自身演进则意味着评估结论会快速过时。报告因此将软件可量化性确立为“研究重点”。</p><p>&nbsp;</p><p>参考链接：</p><p>&nbsp;</p><p><a href=\"https://devclass.com/2024/02/27/white-house-demands-memory-safe-programming-languages-but-iso-c-group-says-its-only-part-of-solution/\">https://devclass.com/2024/02/27/white-house-demands-memory-safe-programming-languages-but-iso-c-group-says-its-only-part-of-solution/</a>\"</p><p><a href=\"https://www.regulations.gov/document/ONCD-2023-0002-0001/comment\">https://www.regulations.gov/document/ONCD-2023-0002-0001/comment</a>\"</p><p><a href=\"https://www.infoq.cn/article/owkfxujpdf86o0d5wr6c\">https://www.infoq.cn/article/owkfxujpdf86o0d5wr6c</a>\"</p><p><a href=\"https://www.infoworld.com/article/3713203/white-house-urges-developers-to-dump-c-and-c.html\">https://www.infoworld.com/article/3713203/white-house-urges-developers-to-dump-c-and-c.html</a>\"</p><p><a href=\"https://www.whitehouse.gov/wp-content/uploads/2024/02/Final-ONCD-Technical-Report.pdf\">https://www.whitehouse.gov/wp-content/uploads/2024/02/Final-ONCD-Technical-Report.pdf</a>\"</p>",
    "publish_time": "2024-02-29 12:40:41",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]