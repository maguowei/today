[
  {
    "title": "MySQL 8.2正式可用，支持读写分离",
    "url": "https://www.infoq.cn/article/bEeAdpiaS1dpfTOquuEL",
    "summary": "<p>最近，Oracle宣布<a href=\"https://blogs.oracle.com/mysql/post/mysql-82-transparent-readwrite-splitting?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE3MDEwNjQzMDksImZpbGVHVUlEIjoiS3JrRWxZRXIweEZtTlpxSiIsImlhdCI6MTcwMTA2NDAwOSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjotODQyMjQ1MTkwNH0.ExrsOHuTzXDW9RnNyUktPP60034QZmyIlhJy9O2oToE\">MySQL 8.2正式可用</a>\"，包括对读写分离的支持。这一备受期待的特性已经在最新的创新版本中引入，有助于优化数据库性能和提升可扩展性。</p><p></p><p><a href=\"https://dev.mysql.com/doc/mysql-router/8.2/en/router-read-write-splitting.html?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE3MDEwNjQzMDksImZpbGVHVUlEIjoiS3JrRWxZRXIweEZtTlpxSiIsImlhdCI6MTcwMTA2NDAwOSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjotODQyMjQ1MTkwNH0.ExrsOHuTzXDW9RnNyUktPP60034QZmyIlhJy9O2oToE\">读写分离</a>\"使应用程序能够将所有写入流量定向到读写（主要或源）实例，将所有读取流量定向到只读实例，这些实例是InnoDB Cluster的附属实例，或者是Replica Cluster的主实例或附属实例。MySQL社区经理<a href=\"https://www.linkedin.com/in/freddescamps/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE3MDEwNjQzMDksImZpbGVHVUlEIjoiS3JrRWxZRXIweEZtTlpxSiIsImlhdCI6MTcwMTA2NDAwOSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjotODQyMjQ1MTkwNH0.ExrsOHuTzXDW9RnNyUktPP60034QZmyIlhJy9O2oToE\">Frederic Descamps</a>\"解释说：</p><p></p><p></p><blockquote>我们在副本之间分配读取流量，但这需要在应用程序中通过某种方式来管理：将写入流量指向某个地方，将读取流量指向其他地方。MySQL 8.2的MySQL Router现在能够识别读取和写入流量，并将它们路由到InnoDB Cluster的主实例，或者将写入流量路由到异步复制源，将读取流量路由到附属实例或副本。</blockquote><p></p><p></p><p>使用读写分离，每个客户端会话可以与一个read_write和一个read_only目标通信，路由器会将每个查询分类为读取或写入，并将其定向到适当的后端。Percona创始人兼开源布道师Peter Zaitsev<a href=\"https://www.linkedin.com/posts/peterzaitsev_mysql-82-transparent-readwrite-splitting-activity-7123290675688714240-S7B9?utm_source=share&amp;utm_medium=member_desktop&amp;accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE3MDEwNjQzMDksImZpbGVHVUlEIjoiS3JrRWxZRXIweEZtTlpxSiIsImlhdCI6MTcwMTA2NDAwOSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjotODQyMjQ1MTkwNH0.ExrsOHuTzXDW9RnNyUktPP60034QZmyIlhJy9O2oToE\">表示</a>\"：</p><p></p><p></p><blockquote>这是MySQL 8.2的一项重大特性！不过尚不清楚在这种情况下对读取是否有一致性级别的保证。是否可以读取过时的数据？如果可以，过时多久？</blockquote><p></p><p></p><p>客户端使用读写端口（默认为6450）连接到MySQL，如果进行读取，连接将到达副本（附属），如果启动了事务，它们将到达复制源（主实例）。</p><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/d6/d6152026b6d2cea28d902e04cc7558d7.webp\" /></p><p></p><p>社区普遍对这一新特性<a href=\"https://twitter.com/boyzoid/status/1717858999763173819?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE3MDEwNjQzMDksImZpbGVHVUlEIjoiS3JrRWxZRXIweEZtTlpxSiIsImlhdCI6MTcwMTA2NDAwOSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjotODQyMjQ1MTkwNH0.ExrsOHuTzXDW9RnNyUktPP60034QZmyIlhJy9O2oToE\">表示赞赏</a>\"，但PingCAP软件架构师<a href=\"https://www.linkedin.com/in/bainssunny/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE3MDEwNjQzMDksImZpbGVHVUlEIjoiS3JrRWxZRXIweEZtTlpxSiIsImlhdCI6MTcwMTA2NDAwOSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjotODQyMjQ1MTkwNH0.ExrsOHuTzXDW9RnNyUktPP60034QZmyIlhJy9O2oToE\">Sunny Bains</a>\"<a href=\"https://www.linkedin.com/feed/update/urn:li:activity:7123290675688714240?commentUrn=urn%3Ali%3Acomment%3A%28activity%3A7123290675688714240%2C7123331787145039872%29&amp;dashCommentUrn=urn%3Ali%3Afsd_comment%3A%287123331787145039872%2Curn%3Ali%3Aactivity%3A7123290675688714240%29&amp;accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE3MDEwNjQzMDksImZpbGVHVUlEIjoiS3JrRWxZRXIweEZtTlpxSiIsImlhdCI6MTcwMTA2NDAwOSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjotODQyMjQ1MTkwNH0.ExrsOHuTzXDW9RnNyUktPP60034QZmyIlhJy9O2oToE\">表示</a>\"：</p><p></p><p></p><blockquote>MySQL Group Replication提供了时间线一致性，路由器无法做得更好，除非路由器能够跟踪副本间的一致性，这似乎是可行的，但需要通过轮询或群集向路由器发送某种事件通知来实现。</blockquote><p></p><p></p><p>Descamps总结道：</p><p></p><p></p><blockquote>这是一项有价值的特性，可以优化数据库性能和提升可扩展性，且无需对应用程序做任何更改……这个特性不仅增强了整体用户体验，还简化了数据库的管理和部署。</blockquote><p></p><p></p><p>在今年早些时候，Oracle更改了MySQL的版本模型，引入了创新和LTS版本。<a href=\"https://blogs.oracle.com/mysql/post/mysql-820-is-out-thank-you-for-the-contributions?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE3MDEwNjQzMDksImZpbGVHVUlEIjoiS3JrRWxZRXIweEZtTlpxSiIsImlhdCI6MTcwMTA2NDAwOSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjotODQyMjQ1MTkwNH0.ExrsOHuTzXDW9RnNyUktPP60034QZmyIlhJy9O2oToE\">MySQL 8.2.0</a>\"是最新的季度创新版本，包含了错误修复、安全补丁和新特性，<a href=\"https://dev.mysql.com/doc/refman/8.2/en/mysql-nutshell.html?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE3MDEwNjQzMDksImZpbGVHVUlEIjoiS3JrRWxZRXIweEZtTlpxSiIsImlhdCI6MTcwMTA2NDAwOSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjotODQyMjQ1MTkwNH0.ExrsOHuTzXDW9RnNyUktPP60034QZmyIlhJy9O2oToE\">改进</a>\"包括：用于集合操作的哈希表优化、MySQL Enterprise Firewall的增强以及支持智能卡、安全密钥和生物识别读卡器等设备的新的WebAuthn身份验证方法。</p><p></p><p>MySQL 8.2.0 <a href=\"https://dev.mysql.com/downloads/mysql/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE3MDEwNjQzMDksImZpbGVHVUlEIjoiS3JrRWxZRXIweEZtTlpxSiIsImlhdCI6MTcwMTA2NDAwOSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjotODQyMjQ1MTkwNH0.ExrsOHuTzXDW9RnNyUktPP60034QZmyIlhJy9O2oToE\">已正式可用</a>\"，可以从Oracle网站下载。</p><p></p><p></p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2023/11/mysql-read-write-splitting/\">https://www.infoq.com/news/2023/11/mysql-read-write-splitting/</a>\"</p>",
    "publish_time": "2023-11-28 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]