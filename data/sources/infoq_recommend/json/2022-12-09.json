[
  {
    "title": "Slack工程师如何解决最常见的移动开发痛点",
    "url": "https://www.infoq.cn/article/hhh8OGLNbsz121H43Df4",
    "summary": "<p>Slack的开发者体验团队是由8个人专门负责的，该团队是为解决伴随组织和开发团队壮大而不断增长的成本问题。在Slack开发过程中成本最为高昂的部分，在于工程师需花费大量精力合并代码冲突、长时间的CI工作、片状测试和CI基础设施故障。</p><p></p><p></p><blockquote>虽然可以让开发者们学习部分问题的解决方法，但随着团队的成长，所要花费的时间和成本是极不现实的。拥有一个特殊团队专注解决这类问题，不仅可以让开发团队效率更高，还能确保开发团队保持对产品成果的高度关注。</blockquote><p></p><p></p><p>据估计，每百名开发者平均每年的成本约为240万美元，而合并冲突则是其中最大痛点，包括：Xcode项目合并冲突、并发合并到主分支，以及漫长的拉取请求审查过程造成的。</p><p></p><p>Xcode项目在代码合并时是出了名的冲突不断。为解决这一问题，Slack工程师会使用<a href=\"https://github.com/yonaskolb/XcodeGen\">Xcodegen</a>\"来生成YAML文件对应的.xcodeproj文件，后者是一种更为宽容的格式。</p><p></p><p>多次并发合并到主分支会造成更多的合并冲突风险，其他所有的PR合并都会暂停，直至冲突解决。对此，Slack采用了<a href=\"https://docs.aviator.co/\">Aviator</a>\"，将所有PR排序一一处理。Aviator并不会直接将所有PR合并到主分支，它会尝试先将主分支合并到一个开发分支上，如果这一步中主分支报错，Aviator会拒绝PR并通知代码作者。</p><p></p><p>最后，为加速拉取请求的生命周期，Slack工程师发现在PR任务、评论、审批通过以及构建成功的私信等加入定时提醒是非常有用的，包括不用离开Slack就能合并PR等功能。为实现这一切，他们创建了自己的GitHub机器人：MergeBot。</p><p></p><p></p><blockquote>Mergebot帮助我们缩短了拉取请求的审核过程，让开发者保持流动。通过节省每位开发者5分钟的时间，为百人开发团队一年内节省了24万美元。</blockquote><p></p><p></p><p>值得庆幸的是，GitHub也提供类似功能，就是“<a href=\"https://docs.github.com/en/organizations/organizing-members-into-teams/managing-scheduled-reminders-for-your-team\">预定提醒</a>\"”，尽管这一功能并不支持消息自身的一键合并。</p><p></p><p>优化PR及代码合并流程并不是Slack为改善开发者体验所采取的唯一行动。在另一个高成本的区域，测试和CI基础设施失败上，Slack一方面执行平行测试，并根据PR差异只运行PR所需特定测试策略，另一方面，<a href=\"https://docs.github.com/en/organizations/organizing-members-into-teams/managing-scheduled-reminders-for-your-team\">BuildKite</a>\"确实对提高CI基础设施的稳定性有效果。</p><p></p><p>Slack称，改善开发者的体验不仅能让开发者更高兴，也能降低整体开发成本。如果你对Slack实现这一目标的更多细节感兴趣，可以阅读<a href=\"https://slack.engineering/mobile-developer-experience-at-slack/\">原文</a>\"。</p><p></p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2022/11/developer-experience-slack/\">How Slack Engineers Addressed Their Most Common Mobile Development Pain Points</a>\"&nbsp;</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/article/aSa4FPoYAHqNbI3C9PE3\">斥资 277 亿美元收购 Slack，Salesforce 这一次的目标是微软？</a>\"</p><p><a href=\"https://www.infoq.cn/article/7DSXjvFalfwWJJSHuurZ\">Slack的原型制作流程</a>\"</p><p><a href=\"https://www.infoq.cn/article/GUjqo8N1HcaDjZJZYQ3E\">Slack的开发环境是如何演进的？</a>\"</p>",
    "publish_time": "2022-12-09 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]