[
  {
    "title": "研究了代码质量后，开发速度提高了2倍，bug减少了15倍",
    "url": "https://www.infoq.cn/article/5bacNI7E9uWR6mpWbu0m",
    "summary": "<p>软件行业中的人都“知道”代码质量很重要，但从来没有任何数据或数字可以证实这一点。因此，健康的代码库的重要性在业务层面被大大低估了——超过90%的IT经理缺乏管理技术债务的流程和策略。</p><p>&nbsp;</p><p>在本文中，我们将通过探究最近关于代码质量的研究来探讨其影响。随着开发速度提高了两倍，bug减少了15倍，完成时间的不确定性显著减少，代码质量的业务优势也就变得清晰了。让我们来深入探究一下，看看如何利用这些数字为自己创造优势。</p><p></p><h2>定义技术债务</h2><p></p><p>&nbsp;</p><p>技术债务这种比喻的说法最初是开发人员向业务人员解释重构需求和权衡的一种方式。然而，这个词在今天有了更广泛的含义。</p><p>&nbsp;</p><p>组织之所以会承担技术债务，有多方面的原因。也许是因为我们试图通过牺牲代码质量来更快地交付功能，也许是因为我们对业务的理解发生了变化，导致设计不再匹配，也许是因为我们的设计一开始就不合适？</p><p>&nbsp;</p><p>因此，虽然原因不同，但结果是相同的——我们最终得到的代码的维护成本比原本的要高。</p><p></p><h2>量化技术债务造成的浪费</h2><p></p><p>&nbsp;</p><p>最近<a href=\"https://dl.acm.org/doi/abs/10.1145/3524843.3528091\">关于代码质量对业务影响的研究</a>\"表明，一般来说，由于技术债务和糟糕的代码，公司平均浪费了开发人员23%到42%的时间。但似乎这还不够令人感到担忧，关于<a href=\"https://research.chalmers.se/publication/511450/file/511450_Fulltext.pdf\">软件开发人员由于技术债务而导致的生产力损失</a>\"的研究还发现，开发人员经常“被迫”引入新的技术债务，因为公司一直在用代码质量换取新功能等短期收益。</p><p>&nbsp;</p><p>然而，技术债务的影响比财务浪费更加深远。技术债务同样会影响开发人员的幸福感和工作满意度（参见Graziotin和Fagerholm在2019年撰写的<a href=\"https://arxiv.org/abs/1904.08239\">关于软件工程师的幸福感和生产力</a>\"的论文）。</p><p>&nbsp;</p><p>很少有开发人员喜欢使用本来可以避免的糟糕代码。这样的代码导致我们在解决问题的过程中被困在压力和时间紧迫感之中。高利息的技术债务加剧了开发人员的流失。</p><p>&nbsp;</p><p>这个问题并不局限于开发人员。在过去的几年里，我也看到过许多技术管理者放弃并离开。我还记得向一家知名公司CEO做过一场关于技术债务的报告。报告进行到一半时，这位CEO惊叫道：“现在我明白为什么前CTO会离开了。”未能得到缓解的技术债务的连锁反应在整个组织中严重地打击了士气。</p><p></p><h2>我们是不是陷入了事倍功半的泥潭</h2><p></p><p>&nbsp;</p><p>拥有一个高效的软件团队是一种竞争优势。作为一家公司，如果我们想要在市场上站稳脚跟，需要快速对客户的需求做出反应，根据反馈采取行动，并持续创新。我们需要在更短的产品周期内实现这一点。</p><p>&nbsp;</p><p>显然，这需要熟练的软件开发人员。不幸的是，软件开发人员全球短缺——我们不能继续雇佣更多的人，因为不存在。</p><p>&nbsp;</p><p>考虑到这些限制，在技术债务上浪费一半的资源在我看来是一种糟糕的权衡。</p><p>&nbsp;</p><p>作为一种思想实验，我们假设开发人员42%的时间确实花在处理技术债务上。这意味着，如果你的组织中有100名工程师，你只得到相当于58人的产出。然而——这是关键——实际的浪费要比这多得多。100人与58人之间的协调、管理和沟通开销是真实存在的。布鲁克斯定律告诉我们，增加人员数量是有代价的。在一个人员过剩的项目中工作是痛苦的：你花在同步会议上的时间比花在代码编辑器上的时间还要多。</p><p></p><h2>探索代码库中的技术债务</h2><p></p><p>&nbsp;</p><p>技术债务的主要问题是代码缺乏可见性。代码是一种抽象的概念，不是组织的所有成员都可以理解。因此，即使我们意识到了普遍存在的问题，仍然很容易忽略掉技术债务。对代码库进行量化和可视化是关键，对于工程团队以及产品和管理来说都是如此。</p><p>&nbsp;</p><p>可视化是很奇妙的，因为它让我们进入已知宇宙中最强大的模式探测器：人脑。我在“<a href=\"https://pragprog.com/titles/atcrime/your-code-as-a-crime-scene/\">Your Code as a Crime Scene</a>\"”中深入探索了这一概念，并在2015年创建了CodeScene，以便让普通观众能够使用这些技术。</p><p>&nbsp;</p><p>我们使用的可视化方法学习起来很快。一旦找到了这些方法，可以用它们来指出代码库中的强点和弱点，以此来增强整个组织。此外，可视化可以让你评估潜在问题的深度。</p><p>&nbsp;</p><p>我来分享一个来自两个流行的开源项目的例子。</p><p>&nbsp;</p><p><img src=\"https://static001.geekbang.org/infoq/d5/d583df18a88475b85c0cc3d11a2ebaaf.png\" /></p><p></p><p>&nbsp;</p><p>在前面的可视化中，每个圆对应一个带有源代码的模块。颜色反映了代码的健康状况（参见“<a href=\"https://codescene.com/blog/prioritize-technical-debt-by-impact/\">管理技术债务</a>\"”，以获得更深入的了解）：</p><p>&nbsp;</p><p>绿色的代码易于理解，风险低；黄色表示警告，存在技术债务；红色的代码表示存在严重的维护问题和技术债务。</p><p>&nbsp;</p><p>对代码的运行状况进行可视化是坚实的第一步。然而，技术债务的实际成本是你为使用了不符合标准的代码所支付的利息。为了确定利息，我们需要了解组织如何处理正在构建的代码。让我们看看它是如何工作的。</p><p></p><h2>根据利息来考虑技术债务优先级</h2><p></p><p>&nbsp;</p><p>技术债务的利息不能仅从代码中计算出来。幸运的是，我们可以通过像Git这样的版本控制系统来获取这些关键信息。特别是我们可以获取每段代码的变更频率，即提交的数量，并用它们来了解代码对开发人员的影响。将其与一些复杂性指标（如代码健康状况）相结合，我们就可以识别出需要经常处理的复杂代码。我称之为交叉热点。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/c1/c1f5d32ed5516738aa454a26935afb3c.png\" /></p><p></p><p>&nbsp;热点为我们提供了相关性维度，而代码健康与质量维度相辅相成。为了管理技术债务，我们需要两个维度。下面是一个来自真实代码库的例子。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/78/78a2bb5310ca4e4311f520f0e4da3c39.png\" /></p><p></p><p>&nbsp;</p><p>热点的最大优势在于，它们将信息限制在可操作的范围内。作为一个组织，我们不能也不应该一次性重构和重新设计所有的代码。热点让我们能够平衡短期目标，比如新特性和代码库的长期可持续性。</p><p>&nbsp;</p><p>通过达到这种平衡，我们可以系统地偿还技术债务，并腾出时间进行有价值的创新。这些结果可能可以真正地改变游戏规则。<a href=\"https://codescene.com/carterra-case-study\">Carterra的案例</a>\"是一个很好的例子，这是一家领先的生物技术研究公司，报告称在解决了他们的热点问题后，计划外工作减少了82%。通过精确识别正在开发中的文件及其相关的代码健康状况，Carterra可以确定他们的工作优先级。</p><p></p><h2>可度量的代码质量业务影响</h2><p></p><p>&nbsp;</p><p>有了代码健康状况和热点之后，我们就有了进行完整循环所需的一切。如果没有可量化的业务影响，就很难有理由投入资源去偿还技术债务。当代码持续恶化时，我们使用的任何指标都有被视为虚荣指标的风险。我们不希望这样的事情发生。</p><p>&nbsp;</p><p>正如之前所说的，我们以前找不到能够证实高代码质量重要性的数据。在我们的<a href=\"https://codescene.com/hubfs/web_docs/Business-impact-of-low-code-quality.pdf\">红色代码白皮书</a>\"中，我们调查了来自不同行业和领域的39个商业代码库，以此来改变这种状况。</p><p>&nbsp;</p><p>红色代码白皮书表明，代码质量对发布时间和产品的外部质量都有显著的影响。</p><p>&nbsp;</p><p>红色代码中的缺陷平均数量是健康代码库的15倍。这种缺陷密度会给产品带来不合格的体验。红色代码造成了大量的浪费。向红色代码中添加一个特性所需的平均时间是绿色代码的两倍多。在红色代码中实现一个特性所需的时间是绿色代码的9倍。</p><p>&nbsp;</p><p>在这些发现当中，最重要的是低质量代码的不可预测性。向健康的代码中添加特效似乎是一个可预测的过程。数据表明，在不健康的红色代码中添加新特性在时间方面有显著的变化，可能要长9倍。这给组织带来了不确定性。</p><p>&nbsp;</p><p>我将通过一家持有红色代码的虚拟公司来详细说明这种不确定性意味着什么。这家公司可能能够在9个月内实现一种新特性。如果他们的竞争对手持有绿色代码，他们可以在一个月内实现相同的特效。这家公司很难跟上竞争对手的步伐。可见代码质量是一个真实的、可度量的竞争优势。</p><p></p><h2>代码质量和前进速度是相关的</h2><p></p><p>&nbsp;</p><p>在我从事软件行业的25年里，有很多人告诉我，我们没有时间做X。X可以是重构、适当的单元测试，或者重新调整架构以适应变化的业务环境。似乎存在一种误解，认为速度和质量是相互排斥的。红色代码白皮书的数据表明，实际上不存在这样的权衡。而事实恰恰相反——我们需要高质量的代码才能快速前进。</p><p>&nbsp;</p><p>对于我来说，吞吐量的增加很大程度上是不确定性降低的结果。简单的代码可能造成的意外更少，造成破坏的风险也更低。健康的代码还反映了强大的工程文化，这很可能说明组织有其他一些重要的实践。</p><p>&nbsp;</p><p>最后，值得注意的是，红色代码的发现表明了一种类似于之前由Accelerate/DORA研究提出的关系理论——部署周期越短，生产故障就越少。</p><p></p><h2>处理遗留代码或低质量代码</h2><p></p><p>&nbsp;</p><p>代码健康指标清楚地表明我们需要保持较高的标准。然而，大多数时候我们并没有编写新的代码，我们也需要处理遗留代码。那么如何在这种情况下应用这些指标呢？</p><p>&nbsp;</p><p>大规模处理遗留问题和代码质量问题具有一定的挑战性。在过去的十年里，我有幸分析了200多个代码库。我发现行为代码分析技术是必不可少的。我使用这项技术的过程概述如下。</p><p>&nbsp;</p><p>获取情形意识——主要问题出在哪里、问题有多严重、问题的深度如何？用一种能够让所有涉众（工程和管理）分享想法的语言进行总结。我们前面看到的代码健康状况可视化技术就是为此目的而设计的。根据影响情况来安排优先级——一个常见的错误是设定量化目标（例如，“我们将在N个月内将代码质量的问题数量从5000个减少到2500个”)。问题是，组织不需要解决所有的技术债务。这是对技术债务的一种常见误解，源于忽略了技术债务的利息。</p><p>&nbsp;</p><p>低利息债务可能是我们未来需要关注的风险，但绝对不是当务之急，我们可以把它们看作是免费贷款。我们要重点解决热点问题，优先解决高利息债务。在进行这种区分时，热点分析是必不可少的。</p><p>&nbsp;</p><p>让相关进展可见。在美国，很多组织都会将代码健康状况指标作为KPI，我自己也发现这样做很有价值。然而，真正的进展是通过业务结果来衡量的。我建议将吞吐量指标与以质量为中心的反馈循环结合起来。具体地说，我已经看到了衡量计划外工作数量的趋势的价值（例如，bug修复、生产崩溃——任何不在路线图上的事情）。在偿还了技术债务后，计划外工作的数量也会减少，正如我们在前面的案例研究中看到的那样。这使得开发更加可预测，而且组织可以专注于开发令人兴奋的特性，而不是被动地修复问题，这是一个很大的好处。我在我的白皮书“<a href=\"https://codescene.com/hubfs/calculate-business-costs-of-technical-debt.pdf\">The Business Costs of Technical Debt</a>\"”中提到了相关细节。</p><p></p><h2>对技术债务采用数据驱动的方法</h2><p></p><p>&nbsp;</p><p>在本文中，我们看到由于技术债务造成的浪费是巨大的，并带来了实实在在的业务风险。为什么这种浪费会被容忍，一种解释可能是因为技术债务的影响在以前不可能在源代码级别进行量化。</p><p>&nbsp;</p><p>本文介绍的红色代码研究为我们提供了挑战现状并将代码质量提升到业务KPI级别的方案。结合热点分析技术，我们甚至让这些发现变得具有可操作性。作为一家软件公司，区分红色代码和绿色代码有助于你通过数据驱动的方法来解决技术债务。</p><p>&nbsp;</p><p>作者简介：</p><p>Adam Tornhill是一名工程学和心理学学位的程序员。他是CodeScene的创始人，这家公司专门设计软件工程智能工具。Tornhill是多本技术书籍的作者，包括畅销书“Your Code as a Crime Scene”，也是一位获过奖项的软件研究人员。Tornhill的其他兴趣还包括音乐、武术和复古计算机。</p><p>&nbsp;</p><p>原文链接：</p><p><a href=\"https://www.infoq.com/articles/business-impact-code-quality/\">https://www.infoq.com/articles/business-impact-code-quality/</a>\"</p>",
    "publish_time": "2022-10-27 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "微盟WOS新商业操作系统正式发布，面向去中心化构筑数字商业底座",
    "url": "https://www.infoq.cn/article/6tiOQEV3UHCLAMGDXPXH",
    "summary": "<p></p><h2>微盟WOS正式发布</h2><p></p><p>&nbsp;</p><p>InfoQ获悉，10月27日，微盟WOS新商业操作系统正式发布。据介绍，WOS系统以“All in one，One in all”为核心理念，是目前业界首个面向去中心化的商业操作系统。</p><p>&nbsp;</p><p>今年3月16日，微盟 WOS 新商业操作系统正式<a href=\"https://www.infoq.cn/news/U55GkyEa7yuDB1a8fmeR\">开启公测</a>\"。彼时微盟方面表示，“微盟 WOS 新商业操作系统整合微盟几乎所有业务能力，耗时近两年打造，其上线有望给商家带来全新的商业服务体验和价值，未来将和商家以及生态开发者都产生众多全新的化学反应。”</p><p>&nbsp;</p><p>7个月后，微盟WOS新商业操作系统正式发布。</p><p>&nbsp;</p><p>据其介绍，WOS构建了一个集合“数字应用集成的SaaS平台、数字能力共享的PaaS平台和数字生态创新的共享平台”的技术底座，将为微盟自身、企业客户、生态伙伴等多方提供一套“技术领先、资源平等、生态开放”的数字商业基础设施。其中，在生态开放方面，针对生态伙伴与开发者，微盟推出的PaaS平台，涵盖了A-PaaS、B-PaaS、iPaaS、D-PaaS、iDaaS、AI服务、T-PaaS等7大平台。</p><p></p><h2>微盟WOS的底层技术理念</h2><p></p><p>&nbsp;</p><p>随着千行百业<a href=\"https://www.infoq.cn/article/Jriip7o7YTtNy57fzJkQ\">数字化转型</a>\"进程加快，企业在数字化转型过程中面临的痛点也逐一浮现。比如，不少企业为了满足不同业务的数字化需求，会采用多套系统，这种点状、零散的数字化系统和服务将使企业面临着工具多但效率不增反降、难以快速响应业务变化、数据资产难以沉淀及数据孤岛等痛点。</p><p></p><p>此外，根据Gartner的判断，<a href=\"https://xie.infoq.cn/article/7c37413303a07e2f425811de4\">数字化</a>\"不是简单的技术转型，而是以数字驱动公司的整体战略升级和业务转型。对于多品牌、多业态、集团型的大客户而言，其业务模块更多、部署环境更复杂、分布式复杂性更明显，无形中提升了数字化商业转型的难度系数。</p><p>&nbsp;</p><p>对此，微盟WOS提出两大底层技术理念：</p><p>产品设计原子化，灵活匹配用户需求。把产品做最小颗粒的切割，产品和产品之间就像插头一样，轻松地实现插拔和连接，按照商家需求快速组合成一套解决方案；同时在WOS体系内，所有产品都是平等的，内外无别，包括商家自建、生态伙伴创建的所有产品均可无缝对接，灵活切换。节点组织自定义，适配架构动态调节。WOS可以将原本固定的业务节点组织变成可任意定义、拼接、延伸的虚拟节点，可以支持任意类型的商家组织架构，无论是品牌-区域-楼层-门店-自提点等，均是原子化的虚拟“节点”，通过对“节点”的不同描述和解读，实现商户组织架构的灵活扩展。每个组织节点不再是固定的金字塔结构，而是可以随着企业业务不断发展进行横纵的动态适应和调节。</p><p>&nbsp;</p><p>此外，微盟WOS还针对移动端和PC端分别开发了Titian和Klein 两套几乎包括所有设计原子元素的组件库，通过组建库将WOS的整体设计理念具像化落地，确保在移动场景和PC场景中延续一致的体验。</p><p>&nbsp;</p><p>微盟方面表示，未来，微盟WOS将沿着“产品一体化、体验一体化、服务一体化、数据一体化和开放一体化”的方向，不断为不同行业、不同发展规模与发展阶段的企业，提供一整套去中心化的商业操作系统。</p>",
    "publish_time": "2022-10-27 11:03:06",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "甲骨文加码多云：与Azure进行深度互联，“公有云价格更低”",
    "url": "https://www.infoq.cn/article/sRajBag2I1lecpxuHliN",
    "summary": "<p>&nbsp;</p><p>Oracle CloudWorld大会于近日举行，甲骨文创始人Larry Ellison在演讲中介绍了甲骨文的多云战略。</p><p>&nbsp;</p><p>Larry表示，大多数企业用户都会使用两家以上的云服务商所提供的基础架构，这些企业往往还会与更多的SaaS云提供商合作，使用其提供的专业化服务。在这一背景下，云基础架构服务商开始纷纷与SaaS服务提供商合作，在各自的基础架构上提供相应的SaaS服务。<a href=\"https://www.infoq.cn/article/xgt4o5fNaLIh0ujI8Biw\">Oracle</a>\"也不例外。</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/28/ce/2836yyba876185e27b96df02f920a0ce.png\" /></p><p></p><p>Oracle 的MySQL&nbsp;HeatWave&nbsp;可以运行在AWS、Azure和Oracle的云端基础架构上。Oracle还与Azure进行了深度互联，可以将Azure所提供的服务与Oracle所提供的服务或基础架构高速互联，用户就好像使用一个云服务商所提供的整体解决方案一样。比如，用户的应用程序可以运行在Azure上，但数据库运行在Oracle云基础设施（OCI）上，但由于这两家云服务商之间有内部的高速连接，所以用户根本感觉不到他们的应用程序是跨云运行的。</p><p>&nbsp;</p><p>Larry表示，甲骨文的OCI和微软的Azure之间的网络是高速连接的，更重要的是，完全免费。除此之外，简单易用也是关键，用户可以在Azure的控制台中直接完成Oracle OCI中的数据库创建与操作，大大降低了维护成本与出错的几率。</p><p>&nbsp;</p><p>在美国主要有四家主要的云服务商：AWS，Azure，Google和Oracle。甲骨文公司副总裁及中国区云平台总经理<a href=\"https://www.infoq.cn/article/9q9ouKhZNZ0sl3vEbvWr\">吴承杨</a>\"表示，甲骨文和AWS在云上的策略是不一样的。甲骨文提供的是从SaaS到PaaS、IaaS的整个解决方案，而AWS几乎不提供SaaS的应用。甲骨文有更强的数据能力，OCI也更加开放。&nbsp;</p><p>&nbsp;</p><p>甲骨文和英伟达&nbsp;(NVIDIA)进一步深化合作，OCI将加入数万个&nbsp;NVIDIA GPU。结合&nbsp;OCI包括裸金属、集群网络和存储的AI云基础设施，可为企业提供海量且易于访问的&nbsp;AI训练和深度学习推断产品组合。</p><p>&nbsp;</p><p>甲骨文在中国的战略是要帮助客户在云端里继续发展，同时助力全球化企业的发展。甲骨文公司高级副总裁及亚洲区董事总经理李翰璋表示，与其他友商比，甲骨文中国优势在于：</p><p>&nbsp;</p><p>多云战略。每个企业的上云路径是不一样的，一家云厂商无法解决所有问题。成本优势。Oracle&nbsp;创始人Larry Ellison曾公开表示，迁移到&nbsp;Oracle 云基础设施（OCI）上会节省大量的成本。同时，Larry表示下个季度将对外宣布更多从其他公有云迁移到OCI的品牌和公司。数据安全。甲骨文在数据安全方面经验丰富。</p><p>&nbsp;</p><p>值得注意的是，会议的名称是从原来的“Oracle OpenWorld”改成了现在的“Oracle CloudWorld”，这也意味着甲骨文越来越重视云的发展。</p><p>&nbsp;</p><p>当然，甲骨文在大会期间也宣布了其在数据库方面的重要进展。甲骨文推出了<a href=\"https://www.mysql.com/why-mysql/white-papers/mysql-heatwave-lakehouse/\">MySQL HeatWave Lakehouse</a>\"，该产品能够帮助客户处理和查询对象存储中400&nbsp;TB量级的数据，支持各种文件格式，包括CSV、Parquet以及Aurora和Redshift备份格式。</p><p>&nbsp;</p><p>MySQL HeatWave Lakehouse采用大规模并行横向扩展MySQL HeatWave架构，能够将事务处理、分析、机器学习和基于机器学习的自动化结合在单一MySQL数据库中。甲骨文还推出新的MySQL Autopilot功能，可提高性能并让MySQL HeatWave Lakehouse方便易用。</p><p>&nbsp;</p><p>MySQL HeatWave支持多种云平台，包括Oracle云基础设施(OCI)、AWS和Microsoft Azure。对于不愿将数据库工作负载迁移到公有云的企业，MySQL HeatWave可作为Oracle专用区域的一部分进行本地部署。据悉，目前Lakehouse的Beta版供正客户试用，正式版将于2023上半年发布。</p><p>&nbsp;</p><p>“这意味着大大简化了整个公有云未来在做数据库方面的工作。凭借MySQL&nbsp;HeatWave&nbsp;Lakehouse，整个分析交易、应用编写和管理都会大大地简单化。\"吴承杨说道。</p><p>&nbsp;</p><p>另外，甲骨文还推出了新版融合数据库Oracle数据库23c Beta，支持所有数据类型、工作负载和开发风格。Oracle数据库23c的代码名称是“App Simple”，可帮助开发人员在使用JSON、图形或微服务编写应用时实提高工作效率，同时增强SQL使其更易于使用并将JavaScript添加为存储过程语言。</p><p>&nbsp;</p><p>吴承杨表示，Oracle数据库的发展方向就是让整个应用以及分析简单化，即简化客户的IT。对此，甲骨文提出了融合数据库，旨在让Oracle数据库解决所有数据的类型、分析手段和负载。另外，甲骨文也更加提倡Autonomous（自治）数据库，自治背后就是让甲骨文来做所有底层的工作。</p><p>&nbsp;</p>",
    "publish_time": "2022-10-27 11:05:33",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "京东自有品牌启动 “百大质造工厂计划”，3年内要打造500个品质示范工厂",
    "url": "https://www.infoq.cn/article/dupRjKqSK0BUOsDS4HvK",
    "summary": "<p>InfoQ&nbsp;获悉，10&nbsp;月&nbsp;26&nbsp;日，京东自有品牌宣布围绕产业带启动“百大质造工厂计划”。未来三年内，将着力打造超过500个产业带品质示范工厂、推动工厂销售额增长超600%，为合作伙伴提供更稳定和长久的供应链服务，助力特色产业带和制造业高质量发展。</p><p></p><p>据介绍，围绕产业合作，京东自有品牌将和产业带工厂打造一种新型的伙伴关系，通过“你做工厂，我做市场”的分工定位，让优秀制造企业专心做生产，其他部分由京东自有品牌来补足和服务。</p><p></p><p>具体来说：首先，京东自有品牌通过C2M模式深度参与产品研发与设计，帮助工厂缩短新品研发周期，提高新品的存活率；其次，京东自有品牌以直连产销的极短链路，助力工厂效率不断提升；第三，京东自有品牌还承诺为合作工厂提供严格的“刚兑”保证，遵循“不退货”、“不延迟付款”、“不让供应商亏钱”的“三不原则”。</p><p></p><p>京东最早在2015年开始尝试独立运作自有品牌，2018年上线了首个自有品牌“京东京造”，随后又陆续上线了惠寻、佳佰、LATIT。从定位来看，京东京造主打全品类，佳佰主打居家生活品类，LATIT专注运动品牌，惠寻目标为下沉市场。</p><p></p><p>京东打造自有品牌优势在于京东的供应链体系。通常来说，在传统供应链之下，上游产业带工厂离消费者很远，很难精准洞悉消费者需求，因此产品研发成功率较低，供应链韧性较弱。而京东自有品牌向上连接供应链，向下连接消费者，基于京东集团的资源整合能力，将为产业带工厂提供涵盖数据洞察、新品开发、产品质控、数字化转型等定制化支持方案。</p><p></p><p>用京东集团高级副总裁、京东自有品牌业务负责人王笑松的话说，通过这一方式，京东自有品牌把自己与工厂的合作，从交易模式变成了共生模式。其初心，是通过产品定义的数字化、生产制造的智能化、库存管理的线上化以及渠道销售的精准化，推动制造业供应链的全流程现代化，帮助产业端降本增效提质的同时，为消费者带来更好的产品和服务体验。</p><p></p><p>根据“百大质造工厂计划”，未来三年内，京东自有品牌将着力打造超过500个产业带品质示范工厂，助推制造业品质升级，加速国内优质产能释放；带动工厂销售额增长超600%，产业带经济效益大幅提升；工厂外省销售额占比超85%，产业带优质产品辐射范围更广泛；工厂新品孵化SKU数量增长超800%，产业带创新能力加速提升；工厂生产成本降低15%、商品库存周转天数下降30%，推动产业带供应链进一步降本增效。</p>",
    "publish_time": "2022-10-27 12:25:38",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "字节跳动开源BitSail：重构数据集成引擎，走向云原生化、实时化",
    "url": "https://www.infoq.cn/article/MgtX24f3ZjTtgxGS4LvS",
    "summary": "<p>&nbsp;自年初成立开源委员会以来，字节跳动开源动作频频。公开信息显示，字节跳动近五个月新开源了不少项目，包括Shuffle框架<a href=\"https://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;mid=2651137229&amp;idx=3&amp;sn=db6b048b7078caafc6e6c15f2ab6b03e&amp;chksm=bdb8dc9e8acf558820d1bcd8dc91c9caf9c01061e4499b658722b95fc003592a16dfa33e5bc4&amp;token=508070348&amp;lang=zh_CN#rd\">Cloud Shuffle Service</a>\"、基于Rust的RPC框架<a href=\"https://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;mid=2651138875&amp;idx=2&amp;sn=15f3232a192fc4ac6e7b333dec569393&amp;chksm=bdb8d3688acf5a7eb35cb5ac730953a59bf48001440876ec1ed518722923d17c0e515b47aaf2&amp;token=508070348&amp;lang=zh_CN#rd\">Volo</a>\"等。</p><p>&nbsp;</p><p>10月26日，字节宣布开源自研数据集成引擎BitSail，采用Apache 2.0开源许可。据悉，BitSail支持多种异构数据源间的数据同步，并提供离线、实时、全量、增量场景下的全域数据集成解决方案，目前服务于字节内部几乎所有业务线，包括抖音、今日头条等大家耳熟能详的应用，同时也支撑了火山引擎多个客户的数据集成需求。</p><p>&nbsp;</p><p>BitSail开源项目GitHub链接：<a href=\"https://github.com/bytedance/bitsail\">https://github.com/bytedance/bitsail</a>\"&nbsp;</p><p>&nbsp;</p><p>在得知BitSail即将开源的第一时间，InfoQ就独家采访了字节跳动数据平台开发套件技术负责人王宇飞和数据平台数据集成方向负责人罗齐，本文将带你深入了解BitSail开源的背景、它在字节内部演进的历程，以及它与行业内其他数据集成项目有何不同。</p><p>&nbsp;</p><p></p><h2>开源的时机</h2><p></p><p>&nbsp;</p><p>BitSail源自字节跳动数据平台团队（下文简称“团队”）自研的数据集成引擎DTS（全称Data Transmission Service，即数据传输服务），最初基于Apache Flink实现，至今已经服务于字节内部业务接近五年，是数据平台开发套件DataLeap的重要组件之一。</p><p>&nbsp;</p><p>其实早在2020年初团队就有过将其开源的想法，但是当时内部业务发展带来的挑战和压力还比较大，同时产品本身也需要进一步打磨，团队觉得那不是一个好时机。近两年，团队积累了更多来自内外部的需求，产品也得到进一步沉淀。今年上半年，团队重新提出来讨论和思考要不要把整个产品开源出去。</p><p>&nbsp;</p><p>既然DTS最初基于Apache Flink，可能有读者会产生疑问，是不是可以把相关改进直接贡献回社区，而不是把项目单独开源出来？</p><p>&nbsp;</p><p>针对这个问题，罗齐解释道，团队在自研过程中针对Flink内核做了非常多改进工作，其中大部分都已经贡献回社区了，比如针对批式Flink作业、解决资源无法释放问题的改进，等等。但对于集成框架本身，团队经过多次讨论觉得还是应该独立开源。</p><p>&nbsp;</p><p>罗齐表示，Flink作为一个通用计算框架，虽然优点很多，但在特定垂直领域还会有一些独特的问题。以数据集成领域为例，像字节这种业务线特别多、数据量极大且SLA要求很高的情况，仅仅依靠Flink框架本身并不足以把集成这件事做到极致。在开发过程中，团队也发现会有很多深度定制工作，甚至是重写。这进一步促使团队加大了BitSail的研发投入。</p><p>&nbsp;</p><p>而从内部看，经过这几年字节各类业务的打磨，DTS在稳定性、数据传输质量和运维成本三个方面都已经做得比较好，且足够成熟可靠，目前支持20余种数据源类型，每天有超过20万任务稳定运行在这套数据集成引擎之上。</p><p>&nbsp;</p><p>除此之外，团队结合数据集成市场现状，也做了深度的考量。</p><p>&nbsp;</p><p>据Gartner数据，2021年数据集成全球市场规模达38.5亿美元。王宇飞认为，目前数据集成的市场需求正在快速增长，一方面是因为随着硬件成本降低，传统的ETL模式开始转变为EL（T）模式，而现代数据技术栈中的数据集成产品解决的恰恰就是EL的问题；另一方面，由于历史原因，数据生态系统已经发展得相当复杂，存在各种不同的数据源、数据系统，如何把这么多不同来源的数据高效地收集聚合到湖或仓中，也是数据集成重点要解决的问题。因此从外部看，数据集成的市场空间和需求足够大，如果团队将自研的数据集成工具开源出去，应该能产生比较大的社会价值。</p><p>&nbsp;</p><p>团队希望现在把它开源出来，一方面帮助外部企业客户解决数字化转型或上云第一步的问题，同时也借助社区的力量共同打造一个在全球都比较有竞争力的数据集成产品。</p><p>&nbsp;</p><p>在决定将项目开源后，团队针对项目名称做了一次外部调研，发现DTS这个名字不论在产品名称层面还是商标名称层面都存在同名，经过一番讨论最终定下新名称BitSail。据罗齐介绍，BitSail中文直译是比特航行，希望这个项目能帮助“比特”（即数据）畅通无阻地航行到有价值的地方。</p><p>&nbsp;</p><p></p><h2>自研数据集成引擎的演进</h2><p></p><p>&nbsp;</p><p>在2017年以前，字节内部主要使用开源的数据集成工具，比如基于Canal或Spark做一些简单的开发。自2018年开始，随着字节业务场景日益变得复杂，数据源越来越多、数据量越来越大，原来的简单工具已经无法支撑后续发展。字节跳动数据平台团队开始考虑自研一套新的数据集成工具。</p><p>&nbsp;</p><p>当时团队主要有三点诉求：第一是希望这个工具能够线性、分布式地去支撑大数据场景；第二是希望用一个框架支撑流批一体的传输；第三是如果要基于一个开源框架来开发，希望这个框架能够和字节当时基于Hadoop的整个生态比较好地集成，并且社区要处于比较活跃的状态，这样后续整体迭代会更快一些。基于这三点诉求，当时业内比较流行的数据集成开源项目如DataX、Sqoop和Flume基本就被排除在考虑范围之外了。其中，主要用于在关系型数据库和Hadoop之间传输数据的Sqoop，虽然属于Hadoop生态，但社区一直不太活跃，同时Sqoop基于EMR架构，本身效率要差一些，且只支持批式传输、不支持实时传输。</p><p>&nbsp;</p><p>最终团队决定基于Flink自研实现流批一体的数据集成服务，终极目标是用一套统一的技术架构覆盖数据集成场景内的所有需求。</p><p>&nbsp;</p><p>回顾这套自研的数据集成引擎在字节内部的演进历程，大致可以分为三个阶段。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/55/550926efbe3cf486c571aa3472a06bf0.png\" /></p><p></p><p>图：字节跳动数据平台全域数据集成演进历程</p><p>&nbsp;</p><p>2018-2019年是V1.0版本，团队基于 Flink Batch 构造了异构数据源之间的批式同步通道，主要用于将在线数据库导入到离线数仓，和不同数据源之间的批式传输。</p><p>&nbsp;</p><p>V1.0相当于起步阶段，团队主要遇到的困难在于，当时的Flink 1.5版本在批处理这块还不是很成熟，存在诸如批资源无法及时释放等问题。为此团队深入了解Flink项目源码和内核，对批处理相关的机制做了大量改进，才让批作业得以比较平稳地跑起来。</p><p>&nbsp;</p><p>2020-2021年数据集成引擎演进到V2.0版本，团队基于 Flink 构造了 MQ-Hive 的实时数据集成通道，用于将消息队列中的数据实时写入到 Hive 和 HDFS，在计算引擎上做到了流批统一。</p><p>&nbsp;</p><p>在这个阶段，团队遇到的一个比较关键的挑战是，大数据量下Flink Checkpoint可靠性表现不符合预期。当时抖音的数据流量已经非常大，单任务Flink并发超过5000，这在业内都是比较少见的数据量。面对如此大的数据量，基于HDFS的checkpoint成功率会明显下降，导致数据产出延迟。针对这一问题，团队联合Flink社区引入了Flink Regional Checkpoint机制，使整个checkpoint 的成功率大幅提升：在大并发任务下，极端情况成功率从60%提升到了90%。</p><p>&nbsp;</p><p>现在字节跳动数据集成引擎已经演进到V3.0版本，增加了流式CDC和实时数据湖集成，完成了湖仓一体的数据集成引擎的构建。与此同时，在架构层面也开启了面向云原生和开源的演进，针对K8s云原生调度做了比较多的定制优化。</p><p>&nbsp;</p><p>在数据湖选型上，团队基于对Flink和Hudi的技术积累和风险预判，最终选择了用Flink+Hudi的流式集成方案。但在做技术选型的2021年这个时间节点，这套方案尚不成熟，所以过去一年团队联合Flink和Hudi社区，以及公司其他团队做了很多自研改进，如今这套实时数据湖集成方案已经开始在字节内部落地应用并得到了一定收益。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/09/0995546ed0d65b4dbba8a4486828d1b9.png\" /></p><p></p><p>图：字节跳动数据集成引擎技术架构图</p><p>&nbsp;</p><p>目前字节跳动数据集成引擎支持了几十条不同的数据传输管道，涵盖线上数据库，例如 MySQL、Oracle 和 MongoDB等；消息队列，例如 Kafka、RocketMQ等；以及大数据生态系统的各种组件，例如 HDFS、Hive 和 ClickHouse等。</p><p>&nbsp;</p><p>整个引擎支持三类同步模式——批式集成、流式集成和增量集成，能够覆盖离线、实时、全量、增量全场景的数据集成需求。</p><p>批式集成模式基于 Flink Batch 模式打造，将数据以批的形式在不同系统中传输，目前支持了 20 多种不同数据源类型；流式集成模式主要是从 MQ 将数据导入到 Hive 和 HDFS，任务的稳定性和实时性都受到了用户广泛的认可；增量模式即 CDC 模式，用于支持通过数据库变更日志 Binlog，将数据变更同步到外部组件的数据库。这种模式目前支持 5 种数据源，虽然数据源不多，但是任务数量非常庞大，其中包含了很多核心链路，例如各个业务线的计费、结算等，对数据准确性要求非常高。</p><p>&nbsp;</p><p>这套数据集成引擎如今在字节内部服务于众多产品线，每天的任务量超过20万，传输的数据行数超过百万亿行。其中单批任务达到千亿行、单流任务达到千万QPS；支持10分钟级延迟SLA。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/a7/a7d959ddddaef1edf27bc5c2686477ae.jpeg\" /></p><p></p><p>图：字节跳动数据集成现状</p><p></p><h2>走向实时化和云原生化</h2><p></p><p>&nbsp;</p><p>数据集成并非新词。早在2005年，Gartner就在其<a href=\"https://www.gartner.com/en/documents/480884\">ETL魔力象限报告</a>\"中提出：ETL工具市场正在向更广泛的数据集成平台市场过渡。</p><p>&nbsp;</p><p>前文提及的数据集成老牌开源项目Apache Sqoop最初开源于2009年，已经在2021年6月被移至Apache Attic目录（等同于退役）。对照来看，BitSail现在才开源会不会有点晚？</p><p>&nbsp;</p><p>对此罗齐表示，一个开源项目的退役并不意味着行业发展停滞，反而可能意味着这个行业已经具备一定的成熟度，已经能跨越一个项目周期了。从行业发展来看，这两年数据集成领域涌现了很多新的开源玩家，比如国外的Airbyte（开源数据集成平台独角兽）、国内的Apache SeaTunnel和Apache InLong。罗齐认为，这些项目其实都是伴随着ELT模式的流行以及云原生趋势涌现出来的，这也是数据集成领域新生命力的一个表现。因此BitSail开源并不算晚，而是顺应领域技术发展趋势的结果——数据集成逐步走向实时化和云原生化。</p><p>&nbsp;</p><p>那么与目前新兴的数据集成项目（如Apache SeaTunnel和Apache InLong）相比，BitSail有何差异？</p><p>&nbsp;</p><p>对于这个问题，罗齐做了比较详细的解答。首先，Apache InLong在消息存储上的积累更深一些，目前开源的架构中包含比较多如SDK采集、消息队列缓存等能力。这与典型的基于ELT模式的数据集成框架（如Airbyte、DataX或Sqoop）存在一些区别，因此定位也有所不同。而Apache SeaTunnel是一个相对还在快速变化的项目，它的架构基于Spark和Flink之上，也提供一些基于引擎的ETL transform能力。这与BitSail抽象底层、不绑定计算引擎、专注于ELT模式不太一样。如何基于两个计算引擎提供稳定一致的能力可能会是SeaTunnel一个待解决的问题。</p><p>&nbsp;</p><p>罗齐认为，不同的开源项目都有自己的特点，大家是在解决数据集成领域下面的不同子问题。综合来说，BitSail可能给大家带来相对更多收益的点在于：</p><p>首先BitSail在字节内部经历了百亿级别的大流量考验，并且在火山引擎的云原生环境和客户专有云环境等各种场景都锤炼过，因此在功能细节、稳定性和性能上积累了大量优化，在成熟度上可能相对更有保障；其次在技术层面，BitSail支持分布式水平扩展和流批一体架构，在各种数据量和各种场景下，都能够用一个框架解决数据集成需求；再次，BitSail采用的是插件式架构，支持运行时解耦，其中各个数据源connector之间是解耦的、connector与底层的运行引擎也是解耦的，这就提供了极大的灵活性，用户能够很低成本地接入新connector，并且无须担心被connector耦合；目前BitSail的底层Runtime依赖于Flink，但团队正在计划自研一个消耗更少资源、更灵活的本地runtime，未来Flink可能仅仅作为BitSail的运行时之一；最后但也非常关键的一点是，BitSail具备字节自身在数据集成领域积累的大量基础能力，比如内置20+种数据源、支持各种复合类型的自动转换、脏数据处理、流控，还有支持流式的归档、数据湖集成、自动并发度推断等等。这些功能已经支撑起字节复杂的业务场景，因此在外部用户使用的时候，也能覆盖他们绝大部分使用场景，不需要额外花时间做自研和开发工作。</p><p>&nbsp;</p><p></p><h2>写在最后</h2><p></p><p>&nbsp;</p><p>作为领域内新的开源力量，字节数据平台团队希望在BitSail正式对外开放源代码前，能够在更多外部业务场景得到应用验证，打造一些真正有行业价值的标杆案例，因此在接受InfoQ采访到最终项目正式开源这段时间，团队重点围绕种子用户获取和培养做了不少工作。</p><p>&nbsp;</p><p>技术层面，BitSail短期内会持续夯实基础能力，包括引擎开箱即用、支持的Connector数量、接入成本和运维可观测性等方面都会持续提升；中长期，团队则会结合字节内部的业务情况，在比如流式数据湖、多运行时支持、弹性伸缩等创新特性上做更多研发和输出，未来也期待能够收获更多讨论和建议。</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/1c/4b/1c9167383eccac617a53e6cc0b701f4b.jpeg\" /></p><p></p><p></p><blockquote>每一位开源参与者、每一个开源项目都可以成为舞台上的主角。新的一波开源浪潮正在席卷中国，【开源聚光灯】是 InfoQ 重点打造的开源主题栏目，旨在通过新闻、系列访谈、用户调查、迷你书、视频等形式深入观察开源运动，围绕开源的价值和开源开发模式，与投身开源的每一个个体共同探讨开源发展现状，照亮每一个开源舞台上的参与者。如果你有开源故事或对开源的深刻观点想要分享、或开源项目想要寻求报道，欢迎联系微信 caifangfang_wechat（请注明姓名和来由）。</blockquote><p></p>",
    "publish_time": "2022-10-27 13:30:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "Tap4Fun总经理兼技术VP刘一：游戏是一种简化的生活体验",
    "url": "https://www.infoq.cn/article/0BrBtuMBoQ5HbjydLDDt",
    "summary": "<p>嘉宾介绍：刘一，Tap4Fun 成都工作室总经理兼集团技术 VP， <a href=\"https://tgo.infoq.cn/join\">TGO 鲲鹏会</a>\"（成都）负责人。从事移动游戏行业超过 15 年，目前就职于 Tap4Fun，负责集团的技术迭代和成都工作室的整体业务推进，团队超过 300 人。刘一在技术平台搭建，团队管理，业务决策，组织建设上，拥有较为丰富的经验。</p><p></p><p>人生如戏，戏如人生，<a href=\"https://mp.weixin.qq.com/s?__biz=MzU1NDA4NjU2MA==&amp;mid=2247488150&amp;idx=3&amp;sn=43cd42c7c0c2c9ca4d03bcb31982bc0a&amp;chksm=fbe9ab59cc9e224fa806a11a5515f5cff41978950fdefd744139878bdf12350fbfeb2225ff11&amp;scene=27#wechat_redirect\">游戏</a>\"是一种简化的生活体验。</p><p></p><p>游戏由大量经简化后的真实生活体验的元素构成，比如世界观、社区规则、行为目标、过程体验等。在游戏中，我们可以去做不同的尝试，体验不同的生活。现实生活中没有机会体验到的生活方式，在游戏中我们都有机会实现。</p><p></p><p>游戏的实现感和真实体验除了直叩玩家心弦，令其回味无穷之外，还能激发从业者的创造力、自由意识，为其带来满足感和愉悦感，使得一批批游戏人愿意投身其中。</p><p></p><p>Tap4Fun 成都工作室总经理兼集团技术 VP 刘一就是其中一员，喜欢《魔兽世界》的他，在研究生毕业后就决定进入游戏行业。在这里，刘一不仅成就了事业，也收获了家庭。现在的他追求的不是做一款更好玩儿的游戏，而是在极度“内卷”的游戏行业里，做出一款能够让玩家愿意持续玩很久的一款游戏。刘一认为，“只有玩家真正热爱，我们的游戏产品才能创造出更大的价值。”</p><p></p><p></p><h1>“腹背受敌”的市场环境</h1><p></p><p></p><p>伴随着游戏市场份额的不断扩大，行业“内卷”也开始愈发严重。过去的游戏制作准入门槛不算太高，初期有一个 10 左右的团队足矣。且一旦产品被玩家认可，市场收益非常可观，使得大批从业者涌入，导致游戏产品竞争、人才争夺都十分激烈；此外，Meta、Google 的竞价模式让游戏发行商买量成本逐渐升高，产业红利受到压缩。</p><p></p><p>资料显示，游戏产业竞争加剧，产品市场的“马太效应”愈发明显。头部企业的技术研发能力、渠道运营能力、产品推广能力、用户规模和市场份额等方面都具有较为明显的优势。相对而言，中小游戏企业的产品市场竞争环境更为严峻，随着运营成本的不断提高，生存空间受到挤压，进一步加剧企业间的竞争烈度。</p><p></p><p>受市场竞争、业务扩张影响，游戏行业人才呈现“结构性内卷”。对于优秀人才，企业不仅要以超出平均薪资水平“高价”抢夺，而且还会通过股票、高额项目分红等方式将其留住，客观上提升从业者待遇和福利；而普通的游戏从业者，则面临着裁员潮的压力，全行业人才呈现结构性矛盾和复杂多变的现象。</p><p></p><p>大型互联网广告平台早已实现了竞价撮合，游戏公司想要迅速获得用户，非出高价不可。此外，后 IDFA 时代，全球游戏市场整体付费规模不断走高，游戏广告获客成本、视频广告素材投放均大幅提升。</p><p>在行业竞争加剧的背景下，游戏厂商推进游戏品质化、创新化正在成为行业获取市场份额的共识，业内优胜劣汰态势愈加凸显，如何推出符合市场需求、具备市场竞争力的产品考验着企业综合实力与创新能力，而优质的新游、新内容、新活动的持续稳定产出将会是游戏厂商的核心竞争力。</p><p></p><p>刘一表示，Tap4Fun 继续聚焦在具有更强社交属性、更贴近真实世界的策略性游戏，不仅要做一款更好玩儿的游戏，更要借助优秀的创意、策略性游戏在玩家体验层面的优势，做出一款能持久的让玩家愿意去玩的游戏，创造更大的社会价值。</p><p></p><p></p><h1>行业内卷下的突围策略</h1><p></p><p></p><p>2011 年 Tap4fun 确立了业务“全球化”、“针尖化”的发展方针。全球化路线，能让开发者能够把产品研发放在主导的地位，而不是把渠道放在重心，有利于小型团队压缩团队规模节约成本；另外，全球化也更易于在产品数量有限的情况下实现收入的规模化。</p><p></p><p>目前，Tap4fun 已成功研发并上线全球游戏有《猿族时代》《野蛮时代》、《战地风暴》、《银河传说》、《银河帝国》、《王者帝国》、《斯巴达战争》等。其中《银河帝国》和《王者帝国》在 2012 年 3 月和 4 月分别登上苹果 App Store 美国区和中国区畅销榜第一名；《战地风暴》获评 2015facebook“年度最佳手游”，名列 2017 中国手游出海收入榜 20 强；《野蛮时代》连续多月进入出海手游收入榜 20 强；新游《猿族时代》测试阶段即获得 Google 全球免费推荐。</p><p></p><p>做“针尖化”的业务，是指把业务缩小和聚焦到像一根针一样的业务类型当中，Tap4fun 选择聚焦在策略游戏（SLG）领域。通过业务聚焦，tap4fun 是目前产出全球爆款最多的中国手游公司之一，产品成为公司自身最强大的竞争优势。</p><p></p><p>据刘一介绍，做全球化的策略游戏，符合海外玩家对陌生人社交的需求。外国人更多是以家庭为中心，陌生社交很少，像 Facebook 之类的社交软件也是在解决熟人社交，外国人对陌生人社交有需求，但他们的生活模式、社会组织形态，并没有给提供太多满足这类社交需求的空间。</p><p></p><p>而策略性游戏具有对社交强模拟的特点，贴近真实世界的情景。不仅如此，Tap4Fun 的策略游戏，更注重社交沙盒设计，满足玩家对“潜意识身份”的体验诉求。玩家可以在通过游戏的各种社区组织，比如公会、联盟中，扮演盟主、军师、将军等不同的角色，充分享受”积极自由“带来的快乐。</p><p></p><p>Tap4fun 不同时追两只兔子，而是更专注在产品上的提升。刘一表示，在产品经营上不能只看短期的目标，还要结合长期目标一起去做思考。过去 Tap4fun 很重视商业化，而现在更关注游戏的用户的体验。只有玩家真正热爱我们的游戏，才能创造出更大的价值，成都工作室最近砍掉了几个项目，砍项目的导向并不全是盈利与否，更关键的是玩家是否愿意长期留在这个产品上。Tap4fun 希望把精力投入到更有创新的产品中，做有长期价值的产品。</p><p></p><p></p><h1>游戏是未来生活的预演</h1><p></p><p></p><p>游戏从来就不只是娱乐，更有其重要的社会功能，它能够将人们从糟糕的“情绪饥荒”中解放出来，从而更好地投入现实生活。人类参与游戏也是在为真实的工作、生活、体验做预演。</p><p></p><p>摔跤游戏指向的是战场或竞技场上的格斗；塔防游戏看似是为了娱乐，但也是一种学会隐蔽的训练；操控无人机的士兵面对屏幕，在千里之外击杀敌军，与电子游戏中的很多场景也极为贴近。同时，游戏被称是第九艺术，是人为构造出来的虚拟空间和虚拟空间里发生的故事，可以和电影、音乐、戏剧一样并列的艺术形式，是人类精神层面的刚需。</p><p></p><p>游戏还带动相关产业的发展，产生“蜂鸟效应”——一种技术的进步带来其他技术共同进步。比如，玩家对游戏画面和性能的追求推动了显卡和 <a href=\"https://xie.infoq.cn/article/ccd284a48b77dd2af7aebde53\">GPU </a>\"的进步，而 GPU 的进步又称为深度学习的算力基础，间接推动了人工智能的进步。如今，游戏的高保真技术推动了虚拟人产业的发展，游戏引擎的进步开始成为“工业设计软件”，游戏渲染技术逐渐在数字孪生、工业数字化、智能协同、仿真模拟等领域得到了广泛的应用。</p><p></p><p>游戏助推技术发展的同时，也创造了无数种可能性，很有可能就包含了我们未来的生活模式。在《游戏改变世界》一中写到：“游戏”二字正在发生历史性的蜕变，游戏将不仅是游戏，它可能是我们未来生活的全部图景。这意味着虽然未来生活的途径有成千上万种，但是成千上万款游戏很可能已经将未来生活囊括其中。在科幻电影《头号玩家》、《失控玩家》、《创战纪》等影片中可以看到对未来世界的想象，就是用游戏模拟人生，将游戏映射到真实生活中。</p><p></p><p>从更宏观的视角，人生如戏，这个“戏”在今天我们可以理解为游戏。随着基础技术的进步，虚拟和现实边界会变得越来越模糊，人类向游戏世界的大迁徙进程在过去、现在和未来都不会停止。刘一与很多游戏从业者正在推动这一历史的进程，他们不仅是在打造着一款款引人入胜的产品，更是为人们对向往的未来生活提供更多探索的机会与可能性。</p><p></p><h1>关于 TGO 鲲鹏会</h1><p></p><p></p><p>TGO 鲲鹏会是极客邦旗下科技领导者聚集和交流的组织，学员由 CTO、架构师、技术 VP、具有技术背景的 CEO 等组成，目前已经在北京、上海、深圳、广州、杭州、成都、硅谷、南京、台北、厦门、武汉、苏州等 12 个城市定期举办学习活动。</p><p>TGO 鲲鹏会采用了“学员共建”的组织形式，希望通过“共建、自治”的方式维护各城市的健康发展，为学员提供必要的服务，帮助学员个人更好地学习和成长，助力学员企业之间更好地合作与交流。加入 TGO 鲲鹏会，全方位提升自身价值，成为卓越科技领导者！</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/4c/4c5129d041d7023b2c328ccaa1b96277.png\" /></p><p></p>",
    "publish_time": "2022-10-27 13:58:26",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "从食品生鲜场景，看数字化技术如何重构供应链",
    "url": "https://www.infoq.cn/article/8WZkpiIXVklS84sGowMW",
    "summary": "<p></p><blockquote>编者按&nbsp;过去，传统供应链面临着缺少实时性，信息滞后等问题。一方面，上下游产业链信息孤岛问题严重，物料信息、需求信息难以实现环节间的跨越；另一方面，面对层出不穷的新业务，传统供应链上下游产业协同程度低，各企业分散化运营，无法及时响应，形成联动。&nbsp;而进入<a href=\"https://www.infoq.cn/theme/144\">数字化时代</a>\"，侯高阳认为企业可以利用数字化技术，利用数据组成的数字世界来指导物理世界更好地进行运作，对供应链进行精细化升级，更细致全面地感知企业的人、事、物、财各个要素的实时变化，然后根据这些变化的状态，综合来考虑企业的应对方式，积极协同上下游产业链，让整个链条的运行效率更高，也更富有弹性。</blockquote><p></p><p></p><p>本期InfoQ《超级连麦.数智大脑》，我们邀请到了原九曳供应链联合创始人兼CTO/现骐原智能创始人侯高阳，和极客邦科技创始人兼&nbsp;CEO&nbsp;霍太稳（Kevin），InfoQ&nbsp;极客传媒数字化主编高玉娴，从食品生鲜场景出发，聊聊数字化技术如何重构供应链。内容有删减，感兴趣的同学可进入“霍太稳视频号”观看直播回放。</p><p></p><h2>后疫情时代，企业急需构建数字化供应链</h2><p></p><p></p><h4>疫情期间，食品生鲜行业主要受到的影响有哪些？</h4><p></p><p>&nbsp;</p><p>侯高阳：疫情对整个供应链与食品行业影响还是很大的，以生鲜行业为代表，它有两个层面的影响。</p><p>&nbsp;</p><p>第一是信息层面，当外部环境快速发生变化时，出现的第一个问题是信息差，换句话说，顾客需要商品，商家也有商品，这需要一个需求匹配的过程。</p><p>&nbsp;</p><p>第二是组织层面，在整个供应链的运作中，很多原有的链条会因为外界原因被迫中断，比如一些仓库被关闭，车辆、人员不能投入到工作中，在这个资源快速变化的环境下，企业的供应链如何能够进行快速的组织？单纯依靠人的沟通是很难进行的，这时就需要企业有良好的信息化系统进行支撑。</p><p>&nbsp;</p><p>举个例子，当时我们有一个客户，他的仓库原本是做商品存储的，疫情发生时，这个仓库就变成了中转站，在这个地方可以进行货物的中转、清点、交接、发运等，他的作用就变成了组织资源、调度资源。</p><p></p><h4>为什么传统供应链模式难以应对这种快速变化？它的弊端有哪些？</h4><p></p><p>&nbsp;</p><p>侯高阳：传统供应链的一些弊端，更多的是体现在两个层面：</p><p>&nbsp;</p><p>第一个层面是体现在新业态的响应上，比如当团购、新零售等各种新业态出现以后，企业背后原本的组织体系能否支持新业态，新业务的接入对传统供应链的影响是很大的。</p><p>&nbsp;</p><p>第二个层面是在企业的组织能力上。如今，企业单打独斗已经变得很难，更多的是跨企业之间的合作，形成全链条的竞争。但传统供应链很难满足这种跨企业的协同，只有当企业的传统供应链变成数字供应链以后，才能增强企业的全链条协同，其竞争优势也才会加强。</p><p>&nbsp;</p><p>反过来说，如果企业有好的数字化供应链，就如同拥有一个训练有素的、多兵种的军团。当你出去作战的时候，就可以实时感知整个战场的态势，发展各个方面的情报，快速部署、应对。作战完成后还可以做战场的复盘评估，这是整体的掌控。</p><p>&nbsp;</p><p>因此，对于没有数字化供应链能力的企业来讲，如果跟拥有数字化供应链企业进行竞争，那就是降维打击，所以<a href=\"https://www.infoq.cn/article/PV03IOu8CgoNldNzGG7Z\">数字化建设</a>\"是各行业、各企业非常重视的板块。数字化带来的更多是企业综合能力的提升。</p><p></p><h4>对比传统供应链，数字化供应链的核心策略和思路具体发生了哪些变化?</h4><p></p><p>&nbsp;</p><p>侯高阳：传统的供应链主要是基于信息化的。在信息化层面上，更多的是流程的信息化、自动化，即每个环节要按既定的规则完成既定的事情，确保整个流程可以高效地流转。而数字化供应链并没有推翻原来的信息化，更多的是在信息化的基础上进行细化、升级，做得更细致、全面。</p><p>&nbsp;</p><p>数字化供应链基本的思想是要全面地感知企业的人、事、物、财各个方面的要素，感知这些要素的实时变化，并且根据这些变化的状态综合来考虑企业的应对方式。</p><p>&nbsp;</p><p>举个例子，曾经我们做过一个这样的案例，在仓库内有大量B2C的包裹，比如牛排、羊肉、水果等等这样的订单，我们需要把这些订单捡出来打包，送到消费者家里去。</p><p>&nbsp;</p><p>但是生鲜需要保鲜，根据商品种类、数量的不同，就会需要泡沫箱、冰袋等各种耗材来保鲜。那么问题来了，每一笔订单应该用何种规格的箱子，放多少的耗材？</p><p>&nbsp;</p><p>通常而言，这些都是人依靠经验来操作的，大家放置冰板的数量可能不统一，甚至有些人为了保证质量就放得多一点。一个冰袋4毛钱的成本，多放一个相当于损失4毛钱，长此以往，海量的订单所累积的成本是非常大的。另一方面，由于是人进行决策的，有些时候放得少了，又会出现质量问题，整个控制是非常痛苦的。</p><p>&nbsp;</p><p>后来我们通过数字化的方式，考虑商品的属性、配送的距离、天气、组合以及运输等各方面的因素，通过数据计算出来一套配送方案。订单需要用什么样的耗材，系统会直接推荐给包装人员，包装人员不需要做任何思考，只需要按照屏幕上的提示进行操作即可。</p><p>&nbsp;</p><p>我们用数据的方式解决了这个问题，所以说数字供应链的本质仍是供应链，只不过是利用<a href=\"https://www.infoq.cn/article/mfcsP6wws312tLTcrPCl\">数据</a>\"组成的数字世界来指导物理世界更好地进行运作。</p><p></p><h4>如何确保计算的耗材数据，或者说模型是相对准确的呢？</h4><p></p><p>&nbsp;</p><p>侯高阳：首先，我们对不同的品类做时间测试，比如放了几块冰袋、冰板，能坚持多长时间，这都是有精细的数据的。</p><p>&nbsp;</p><p>其次，在计算之前，我们有一套业务规则。比如说，消费者下单了三个商品，有常温的，有冷藏的，还有冷冻的，我们的包装方案是会按照冷冻的高标准去包装的。它不像所谓<a href=\"https://www.infoq.cn/article/ayJaapeYP720G6gcx40K\">人工智能</a>\"的概率判断，不是一个单纯的数学模型，而是有一系列的业务规则进行框定，从而确定最终的方案是可行的。</p><p></p><h2>企业构建数字化供应链的难点和解法</h2><p></p><p></p><h4>从供应链的场景出发，如何理解信息化跟数字化的差别？</h4><p></p><p>&nbsp;</p><p>侯高阳：举个数字化应用场景的例子，在接待一个<a href=\"https://xie.infoq.cn/article/9a0aac7640e822a8b45f9c7bc\">冷链物流</a>\"企业客户的时候，我们要来评估客户，根据客户的体量、业务形态、它的商品属性、作业难度进行综合考虑。同时我们还要考虑自身内部的情况，考虑自己的资源、现在的负荷以及满负荷的情况。当客户进来以后，我们还要考虑再加多少资源、我们目前的成本是多少、接下来需要增加多少成本、能够带来多少利润贡献，甚至包括客户未来的订单量互动。</p><p>&nbsp;</p><p>比如达到每日一万单会给我们经济上带来怎样的影响，这些数据不能是拍脑袋进行判断的，而需要去实行数字化，进行全方位的测算。如果企业以前没有全面的数字化，只是流程化作业，以后就可能会给企业造成比较大的负担，甚至亏钱。</p><p>&nbsp;</p><p>总之，我更喜欢把<a href=\"https://xie.infoq.cn/article/aa0128ae2bc12de82ab1a58ce\">信息化</a>\"定位在执行的层面，一次规划然后持续执行，它的迭代优化以及变化调整是比较少的，而现在的数字化是在原来规划执行的基础之上，快速地在各个层面去做决策、优化。</p><p>&nbsp;</p><p>霍太稳：用一个形象化的比喻来去解释信息化和数字化的这两个概念的区别，假设在一大块地上，建了一栋楼，两栋楼，三栋楼，每一栋楼都是一个信息化的案例，但是如果把每个楼宇之间连接起来，互相走动，它整个的效率会变得更高，这就是数字化。也就是说，数字化是通过数据把不同的信息化系统连接在一起，它会让你的数据产生更大的效果。</p><p>&nbsp;</p><p>当然还有另外一个层面上的理解，企业要做数字化，前面一定要有信息化的支撑。我认为信息化是产生数据的必由之路，如果没有这些数据，也谈不上所谓的数字化，他们之间是有前后关系的。</p><p>&nbsp;</p><p>第三层含义，就要看信息化和数字化的不同使用效果。信息化是企业提升工作效率的重要手段。但数字化是用来找到公司的第二发展曲线，比如我原来只是做传统供应链的，但是现在我把供应链进行数字化之后，我的整个业务形态可能都变化了。</p><p>&nbsp;</p><p>分享一个数字化的定义，所谓数字化就是一个企业去利用新技术，去优化或者创建一个新的业务模式，然后要以客户为中心，以数据为驱动，去打破企业现在组织效能的边界、行业的边界，提升整个企业的价值，去创造更大的价值。</p><p>&nbsp;</p><p>数字化一定是帮助企业优化和创建新的业务模式的，如果没有这一条，也谈不上数字化了。</p><p></p><h4>企业在打造数字化供应链时，一般会遇到什么难题？</h4><p></p><p>&nbsp;</p><p>侯高阳：各个行业、各个板块、各个细分领域的数字化供应链的发展速度不同，比如汽车行业可能发展得快速一些，食品行业发展得相对弱一些。企业打造数字化供应链时，常遇到的挑战存在于以下几个方面：</p><p>&nbsp;</p><p>第一，专业的人才太少。既懂供应链，又懂管理，又懂技术，甚至还要再懂数据分析，这样的<a href=\"https://www.infoq.cn/article/h8I3yhi8JkLffu25C2Cd\">复合型的人才</a>\"太少了。比如安全库存这个概念，这是供应链里面非常基础的理论，之前我随机调查了一百家企业，能准确地理解和应用安全库存概念的仅有个位数，所以说整个供应链的人才本来就非常稀缺。</p><p>&nbsp;</p><p>第二，缺少专业的解决方案和智能化系统。其中，最核心的是管理思想，在这个核心之外的一层是工具，在这个工具之外的一层是基于这个工具所搭建起来的企业管理系统、运作系统。但是目前国内做得好的软件更多还是功能性的，也就是工具的定位，通常记录、填删改查这种功能性的软件居多，再上一层的智能化解决方面还是比较少的。</p><p>&nbsp;</p><p>第三，企业认知不到位。现在，很多时候企业对数字化的建设取决于老板的个人认知。因为信息化本身就是长期的建设过程，当信息化建设一轮以后，要和运营体系融合在一起，在提升企业能力的同时，还要再进行下一轮建设。这是一个持续的、螺旋的提升状态，整个过程周期是比较长的。</p><p></p><h4>您自己在数字化供应链建设的过程中，遇到过哪些坑？</h4><p></p><p>&nbsp;</p><p>侯高阳：很多时候企业的选择是在目标、成本、时间等各种因素里面做平衡的。曾经我们为了快速地接入更多的客户、更多的业务，做了一个选择——先接业务，再对接数字化系统。当时我们的系统跟客户之间还是断开的，并没有数字化对接，仅仅依靠人工导入客户订单。但是，人进行操作总归会有错误，比如Excel的列错了，结果地址就全错了；数字变成科学计数法了；上游客户的订单都取消了，但导入到我们系统里面的订单又没有办法及时取消。</p><p>&nbsp;</p><p>错误数据一旦进来以后，后续所有的作业环节都会出错，库存出错，客服那边拿到的数据也出错，我们需要花大量的精力跟客户去处理这些数据异常，如此一来，看似好像加快了推进进度，实则是减慢了进程。所以，后来我们要求所有的业务开展必须做系统对接，整个流程数据规范了，作业也高效了。</p><p>&nbsp;</p><p>综合来看，到底是业务先行，还是系统先行，我们是要分场景去考虑的，要权衡时间、效果，同时也要有风险意识。关于避坑，我认为没有什么太好的办法，我很认可稻盛和夫说的观点：扎下心来，深入一线，然后去研究、去处理各种问题。</p><p></p><h4>那么，企业究竟如何更好的去规划数字化供应链的建设路径？</h4><p></p><p>&nbsp;</p><p>侯高阳：这并没有统一的方法论。但是有几点经验可供大家借鉴：</p><p>&nbsp;</p><p>首先，企业的业务需要一定的规划。数字化一定是服务于企业业务的，所以企业一定要有业务的发展规划。因为，数字化建设成本比较高，投入周期也是比较长的，如果业务的方向在不停地变化，数字化的建设是非常困难的。变化和不变，本身是一个平衡的过程，可能企业业务的大方向不变，但里面的细节在变，这是正常的。</p><p>&nbsp;</p><p>第二，数字化的建设还是要分步走，小步快跑，用迭代的方式进行。这也是现在很多创新型企业，或者互联网公司常用的方式，快速地完成一个小目标，来看它整体落地执行的效果，再决定下一个迭代，这样对企业来讲会更好一些，供应链体系已经相对成熟，可参考的内容也比较多，我的建议是，企业整体规划落地要小步快跑，用迭代的方式，这样既可以减少重复造轮子，也可以规避一定的风险。</p><p></p><h4>在具体执行过程中，如何让数据，技术、业务充分融合，发挥数字化供应链的价值？</h4><p></p><p>&nbsp;</p><p>侯高阳：首先，从收集数据的角度，要看企业的要素有哪些，比如客户视角的数据，这些客户的数据从哪里来？包括物品的数据的收集，比如像RFID这些技术；还有一些<a href=\"https://www.infoq.cn/article/Dx3Jov25cFcUKvPL0sjv\">IOT</a>\"，比如说人带的一些手环等；还有传统信息化就可以掌握的数据，比如说钱，它在各个渠道里的成本、利润都是什么样子的。</p><p>&nbsp;</p><p>从数据收集的角度来看，最重要的一点是，要清楚企业的要素都有哪些。比如车辆的GPS，因为冷链要考虑全程不断链，那么车辆的位置信息是如何采集的？假如车辆移动20米就会采集一条数据，或者它没有移动20米，但是时间过了5秒钟，也会采集一条数据，这就是从多维度进行数据采集，确保数据的精细度。</p><p>&nbsp;</p><p>其次，如何将供应链管理知识与数据分析进行融合，我认为最核心的基础还是供应链管理知识，因为数字供应链管理本质上还是供应链管理，管理知识的理论体系是框架，只有在框架下通过技术手段，收集回来的数据才能体现在该体系下的人、事、物的状态数据的真实情况。之后，企业再进行数据分析，诊断原来供应链理论体系中哪些运作环节有问题，哪些环节需要去优化。所以数字化供应链的管理理论体系是根本。</p><p>&nbsp;</p><p>而数据分析这门课，现在的学习渠道资源比较多，也有很多常用的模型应用工具，都可以直接拿来用，所以数据分析也是一项可以快速补齐的技能。当然在企业里面，这些事情并不是由一个人都扛下来，也可以通过团队协作的方式，比如说某个人可能擅长业务知识，有的人可能擅长数据分析加技术或者技术加业务，这样又会形成一个团队，互相去碰撞，用团队的能力去解决这些事情。</p><p></p><h2>建设数字化供应链生态，企业和人才需双向奔赴</h2><p></p><p></p><h4>企业构建数字化供应链需要什么类型的人才参与？</h4><p></p><p>&nbsp;</p><p>侯高阳：在数字供应链里面，数字人才需要考虑的有这几点：</p><p>&nbsp;</p><p>首先是供应链管理的理论知识。比如什么是推式供应链、拉式供应链、安全库存、EOQ订货模式、报童模型等，这些传统的供应链理论依然有效。数字人才需要考虑包括企业的管理知识，数据分析的知识，结合大数据的底层的这些技术，他们需要有这样的综合能力。</p><p>&nbsp;</p><p>我认为，单纯的大数据，或者数据，它们的价值是发挥不出来的。只有将这些数据和供应链管理知识结合起来，才能发挥它的作用。</p><p>&nbsp;</p><p>举个例子，比如库存数据显示今天剩了50件，如果只看到这个数据，并没有太大的意义。真正的意义在于结合供应链管理知识，判断这50件是多了，还是少了，接下来企业该去采购还是去促销。</p><p>&nbsp;</p><p>总结来看，企业第一步需要拿出数据；第二步要分析解释数据，发现问题在哪里；第三步要考虑应对策略。比如，我的客户线索数据在下降，分析完数据以后，要判断到底是什么样的原因导致的？那接下来该怎么样去应对？比如说分析出来发现企业仓库的空置率比较高，原因是大客户流失或者是某些服务方面出现了问题，那么，接下来我们怎样去快速应对，这是重要的。</p><p></p><h4>面向这种复合型的人才培养，极客邦有什么经验可以分享？</h4><p></p><p>&nbsp;</p><p>霍太稳：举例来说，我们极客时间企业版，服务了3500多家的企业，不论是金融领域、制造、软件互联网还是电信领域，数据分析都属于一个必选项目。</p><p>&nbsp;</p><p>当我们和企业沟通时，经常会问到：为什么企业一定要让员工去学习难度比较高的技术课程？他们的答案是，虽然企业员工学习数据分析难度高，但是企业请外面的人，让这些人去学习企业业务的难度更高。两权相利取其重，两权相害取其轻，企业不可能从外面招聘大量的人，希望他能快速地理解企业的业务，一个人在一个公司里面不呆个两三年，是不可能对它有深刻的了解的。有些企业刚开始还是希望从外面招人，来学习企业的业务，后来发现这条道路确实行不通，所以他们后来选择给一些同学学习数据分析技能的机会。</p><p>&nbsp;</p><p>极客时间企业版就是帮助想要进行<a href=\"https://www.infoq.cn/topic/1160\">数字化转型</a>\"的企业的，给他们提供一个比较方便的工具，在这个平台上通过一套研、测、学、考、评的体系，让业务的人员快速掌握数字化技能。</p><p></p><h4>对于想进入供应链生态的人才，您有什么建议？</h4><p></p><p>&nbsp;</p><p>侯高阳：数字化供应链相当于修炼企业自身的能力，企业要用数字化把各方面能力武装起来。举个例子，当企业有很好的数字化体系以后，就很容易与前端的团购业务对接，从后端的供应到前端的消费实现了全链条的运作。</p><p>&nbsp;</p><p>当然，我们也看到很多企业，由于前端的团购和后端的供应链是断开的，这样会导致大量发错货、漏发货、客户投诉等现象出现，大家会在团里不停地问团长，今天送不送货，送到哪里了？</p><p>&nbsp;</p><p>其实，大量的问题通过信息透明就可以解决，所以数字化对未来各个行业的影响一定是非常深远的。</p><p>&nbsp;</p><p>供应链的知识在全球已经积累了很多年，但是国内企业能够将供应链理论进行落地的还是少数。如果大家想加入数字供应链这个行业，我的建议是首先要学习供应链的理论知识。</p><p>&nbsp;</p><p>供应链管理很多时候都是一些苦哈哈的、很细枝末节的事情，这都需要长时间去研究、去设计、去实践、去优化。如果大家对这个领域感兴趣，我建议大家先从这个苦的差事开始。</p><p></p><h4>传统企业如何吸引、培养和留住人才？</h4><p></p><p>&nbsp;</p><p>霍太稳：目前来看，我个人认为整个中国数字化的主战场，一定不是在互联网行业，而是在那些数字化基础相对比较薄弱的大中型的国、央、民企。过去一二十年，整个中国的互联网发展得确实比较快，也造成了人才的泡沫。但是，实体经济的企业家对投入产出比计算得相当精准，一个人来了之后，到底能够给企业带来多大的价值，他一定要计算好。</p><p>&nbsp;</p><p>同时对于从互联网企业出来的人才来讲，必须正视一个问题——互联网行业正处在从高地往下走的阶段。而实体企业虽然处在洼地，但是正在往上走。</p><p>&nbsp;</p><p>所以说，用数字化的手段去改造实体行业，三五年之后你可能成为这个行业里面的领头羊，或者是你不仅拥有非常好的数字化技能，而且对这个企业的业务有非常多的了解，这时，你就真正地变成了一个复合型人才。</p><p>&nbsp;</p><p>我觉得任何的事情要想成功，都是一个双向奔赴的过程，如果传统企业不去提升数字人才的待遇，只是不停地在喊：我们非常重视数字化，你们赶紧来，我们这里有很多的机会，但没有实质上的动作，没有把这些人的收入提升上来，也是不行的。</p><p>&nbsp;</p><p>另外对于数字人才，如果你看不到未来的发展趋势，不愿意调整你的姿态，甚至不愿意去降低你的待遇，也很难融入到实体经济行业里面去。</p><p>&nbsp;</p><p>总之，双方都要调整一下自己的期望值，最终才能有相对比较完美的融合。</p><p>&nbsp;</p><p>侯高阳：第一，传统企业做数字化，考验的是老板的格局，考验老板对数字化的认知。老板必须足够重视这件事情，才会在比如待遇、资源的投资上有所体现。</p><p>&nbsp;</p><p>第二，传统企业想要建设数字化的能力，除了建自己的数字化团队，也要借助外部的力量。对企业来说，建设自己专业团队的进度要慢一些，而且后续也会充满挑战，企业要为此做好准备。</p><p>&nbsp;</p><p>第三，传统企业想要拥有互联网团队的能力，一定要创建互联网运作的氛围。有一个理论是说，大家的行为不是由思想决定的，而大多时候是由环境决定的。传统企业组织数字化团队的时候，要有这样的氛围。</p><p>&nbsp;</p><p>最后，互联网公司的技术人员要去传统行业发挥更大价值的时候，我的建议还是要能吃苦，要能深入一线。有一个例子，就是我们所有的IT团队在双十一、双十二、年货节的时候，全部要去仓库里面拣货，去最艰苦的地方进行锻炼，使用自己开发的系统帮助业务团队去做事情。因为，只有深入一线，你才能真正地体会到自己做的系统是不是足够好，是不是还能提升，是不是能够给业务、运营带来真正的价值。</p><p>&nbsp;</p><p></p><h4>嘉宾介绍</h4><p></p><p></p><p>侯高阳，原九曳供应链联合创始人兼CTO/现骐原智能创始人；同济大学MBA；17年供应链数字化建设经验；国际供应链CIPS会员、PMI会员。</p><p>&nbsp;</p><p>霍太稳，极客邦科技创始人兼&nbsp;CEO，InfoQ&nbsp;中国创始人，极客时间创始人，TGO&nbsp;鲲鹏会发起人。2007&nbsp;年创立&nbsp;InfoQ&nbsp;中国，2014&nbsp;年创立极客邦科技，2015&nbsp;年发起&nbsp;TGO&nbsp;鲲鹏会，2017&nbsp;年创立在线职业教育学习品牌极客时间，2019&nbsp;年开创极客时间企业版，拓展企业服务市场。</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>",
    "publish_time": "2022-10-27 14:48:05",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "元宇宙太烧钱！今年以来Meta Reality Labs已亏损94亿美元，扎克伯格称还将加大投入",
    "url": "https://www.infoq.cn/article/osyKjMrRykrkOoFpugg7",
    "summary": "<p>美东时间10月26日，Facebook母公司Meta发布了2022年第三季度财报。财报显示，报告期内，公司营收下降4%至277.14亿美元。</p><p>&nbsp;</p><p>这是Meta连续第二个季度出现营收同比下滑。2022年二季度，Meta史上首次营收下滑。</p><p>&nbsp;</p><p>财报显示，Meta第三季度净利润43.94亿美元，同比大幅下降52%，连续四个季度下降；每股收益（EPS）1.64美元，同比下降49%，低于分析师预期的1.98美元。</p><p>&nbsp;</p><p>《华尔街日报》称，近十年以来，Meta从未出现过连续第四个季度净利润下降的情况。</p><p>&nbsp;</p><p>在应用家族方面，包括脸书、Instagram、Messenger、WhatsApp和其他服务等的应用家族，第三季度实现收入274.29亿美元，同比下降3.6%。Instagram和Whatsapp的每月活跃用户均超过20亿。</p><p>&nbsp;</p><p>最新财报发布后，Meta 的股票今天下跌了惊人的 20%。</p><p>&nbsp;</p><p>值得一提的是，在2022年第三季度业绩财报电话会议上，扎克伯克回应了外界对公司<a href=\"https://www.infoq.cn/article/5m5afBSrqT4ipYqxCwDi\">元宇宙</a>\"投资的质疑。</p><p>&nbsp;</p><p>“我知道很多人可能不同意这项投资，但据我所知，我认为这将是一件非常重要的事情，”他扎克伯克说。“人们将在十年后回顾过去，谈论在这里所做工作的重要性。”</p><p>&nbsp;</p><p>但问题是，从现在算起，十年是很长的时间。投资者并没有这么长的耐心。一位华尔街分析师在电话会议上表示：“我认为总结投资者现在的感受是，实验性赌注与经过验证的赌注相比太多了。”</p><p>&nbsp;</p><p>就在几天前，一位大股东公开向该公司施压以控制其支出。Meta的长期股东之一Altimeter Capital对Meta的巨额元宇宙投资感到不满，Altimeter Capital的CEO&nbsp;Brad Gerstner公开致信扎克伯格，希望Meta限制对现实实验室的投资，最好不超过50亿美元。此前Meta曾宣布，今年计划投资约100亿美元研发元宇宙相关技术。</p><p>&nbsp;</p><p>Meta 在元宇宙上的亏损是惊人的。财报显示，Meta 的 <a href=\"https://mp.weixin.qq.com/s?__biz=MzA4NTU2MTg3MQ==&amp;mid=2655218722&amp;idx=1&amp;sn=a8dd65af97711d4f0140135e1347fb29&amp;chksm=8461cb42b31642548900ba53c566af14d2cf4c95bfbb0f1c70355c835d42117f6b37164922d1&amp;scene=27#wechat_redirect\">Reality Labs </a>\"在上个季度亏损了 37 亿美元，今年以来已累计亏损了 94 亿美元。2021年亏损超100亿美元。</p><p>&nbsp;</p><p>第三季度， Reality Labs 部门的收入仅为 2.85 亿美元，下降了近 50%，这主要是由于 Quest 2 耳机销售疲软，<a href=\"https://www.theverge.com/2022/7/26/23279272/meta-quest-2-occulus-100-price-increase\">而 Quest 2 耳机在 8 月份价格上涨了 100 美元</a>\"。该耳机的下一个版本目前计划在明年下半年发布，Meta<a href=\"https://www.theverge.com/2022/10/11/23397328/meta-quest-pro-vr-headset-price-release-shipping\">本周刚刚发布了它的 Quest Pro</a>\"，售价 1,499 美元。</p><p>&nbsp;</p><p>“我们预计 Reality Labs 2023 年的运营亏损将同比大幅增长，”Meta 在其收益新闻稿中表示。</p><p>&nbsp;</p><p>扎克伯格在电话会议上表示，2023年Meta将持续加大对元宇宙项目的投入。扎克伯格说，“显然，元宇宙是我们长期努力的目标”，他表示长期投资元宇宙业务“最终将会得到回报”。</p><p>&nbsp;</p><p>扎克伯格承认，开发元宇宙业务的部分原因是，为了在未来拥有一个平台，可以免受苹果等竞争对手影响。但最主要的原因是，元宇宙能够为科技公司在构建支撑计算平台方面，提供更多创新性。</p>",
    "publish_time": "2022-10-27 15:17:27",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "成立6年吸金200多亿元，这家L4自动驾驶公司官宣倒闭，福特和大众曾为其站台",
    "url": "https://www.infoq.cn/article/bucqgwcQO7KSPctEc3oV",
    "summary": "<p></p><h2>Argo AI 倒闭，福特和大众“接盘”其部分业务</h2><p></p><p></p><p>10 月 27 日，据外媒报道，这家由<a href=\"https://www.infoq.cn/article/76gYqPA2YU0YXCDHFvIE\">谷歌</a>\"和优步自动驾驶汽车项目的资深人士创立的自动驾驶公司 Argo AI 已经失去了福特和大众的财务支持。</p><p></p><p>Argo AI 是由 Salesky 和 Rander 于 2016 年创办，作为卡内基梅隆大学的衍生公司，其于 2017 年在接受了福特投资的 10 亿美元，此后这家年轻的企业便走入公众视野。随后它又筹集了 26 亿美元，这些资金主要来自福特和大众，用于开发、测试其自动驾驶系统并实现技术商业化。此外，它还与沃尔玛和 Lyft 建立了合作伙伴关系。</p><p></p><p>据知情人士透露，目前，这家<a href=\"https://www.infoq.cn/article/juifybjFERQvkbNCV8GL\">自动驾驶</a>\"汽车初创公司即将关停，部分业务将被两大主要出资方福特和大众所吸纳。</p><p></p><p>根据多位不愿透露姓名的消息人士称，在周三的一次全体会议上，Argo AI 发布通知称福特与大众两家汽车制造商将接收部分部分员工。目前还不清楚福特和大众具体会雇用多少人，Argo 技术成果的分配方式也仍是个未知数。</p><p></p><p>Argo AI 公司的员工将拿到一笔遣散费，其中包括保险和两份单独的奖金——年度奖金加上与福特 / 大众达成交易时的交易奖金。这笔遣散费将覆盖全体 Argo 员工。至于那些未被福特或大众聘用的员工，还能额外得到解雇与遣散费和健康保险。处理方案由公司创始人直接向 2000 多名员工公布，据称赔偿金额相当慷慨。</p><p></p><p>Argo 公司在一份声明中表示，“在与我们的股东协商之后，现已决定 Argo AI 不再继续以独立企业保持运营。许多员工将有机会继续在福特或大众汽车负责自动驾驶技术方面的工作，但很遗憾，其他员工的这段职业历程将就此结束。”</p><p></p><p>福特在周三发布的第三季度收益报告中提到，该公司已做出一项战略决定，将资源转向开发先进的驾驶员辅助系统，同时抛弃用于机器人出租车的<a href=\"https://www.infoq.cn/article/mCULd4WW6Vi7LfXpYVVy\">自动驾驶技术</a>\"。</p><p></p><p>之所以做出这样一个艰难的决定，主要是因为 Argo 已经无法吸引到新的投资者。福特公司 CFO Jim Farley 坦言，Argo 当初曾计划在 2021 年向市场广泛推出自动驾驶技术。</p><p></p><p>“但实际情况发生了变化。福特现在有着巨大的机会，可以将现代生活中最有价值的事物——时间，送还给数百万车主。对福特来说，开发出强大且差异化的 L2+ 及 L3 级自动驾驶技术将非常重要，同时也能提升运输安全性。”</p><p></p><p>Farley 还暗示，福特可能会考虑直接购买自动驾驶技术，而不一定要进行内部自研。</p><p></p><p>作为 Argo 的另一位主要支持者，大众集团最近也表示将转移资源，不再投资 Argo AI。大众方面表示，其将利用旗下软件部门 Cariad 与博世一道推动高度自动化及自动驾驶技术的发展，并在未来与中国地平线公司合作。</p><p></p><p>Lyft 虽然参与度不高，但同样持有 Argo 公司 2.5% 的股份。Lyft 今年早些时候宣布，计划未来五年内在迈阿密和奥斯汀等多个城市的约车网络上，推出至少 1000 辆自动驾驶汽车。</p><p></p><p>这家网约车公司还在一份声明中指出，Argo 一直是家良好的合作伙伴，而且此次关停不会影响到 Lyft 的自动驾驶战略。</p><p></p><p>Lyft 公司发言人在一封邮件声明中表示，“我们将继续与其他合作伙伴联手，推动自动驾驶技术的安全增强与商业化进程。Lyft 是目前北美有偿自动驾驶网约车领域的领导者，已经完成了超 10 万次接送。通过将我们的混合网络、市场引擎与车队管理能力结合起来，我们已经做好了在自动驾驶转型中取胜的准备。”</p><p></p><p>Lyft 还与自动驾驶厂商 Motional 及 Waymo 建立了合作伙伴关系。</p><p></p><h2>关停 Argo AI，福特遭受巨额损失</h2><p></p><p></p><p>福特的早期投资，恰逢自动驾驶行业的炒作顶峰。当时，不少从谷歌自动驾驶项目出走的先驱者都拿到了令人瞠目结舌的巨额风险投资。但之后几年，行业内出现了大规模并购：通用汽车于 2016 年以 10 亿美元买下 Cruise；Aptiv（原名 Delphi）以 4.5 亿美元收购了 nuTonomy；<a href=\"https://www.infoq.cn/article/IuL0NdXKhNLAhZv0LUKv\">亚马逊</a>\"也将 Zoox 收入囊中。</p><p></p><p>事实证明，自动驾驶技术的商业化应用远比预期困难得多。一波并购浪潮之下，相关企业纷纷倒闭，最终成为传统技术巨头商业版图上的小小碎片。当然，也有像 TuSimple 这样选择传统 IPO，或者像 Aurora 那样认真规划合并，从而继续在技术探索的道路上前进的厂商。</p><p></p><p>据福特第三季度财报显示，2022 年第三季度福特汽车业务收入为 372 亿美元，总收入为 392.5 亿美元，增长 10%，该公司调整后的每股收益也超出预期，但净亏损仍是避无可避。</p><p></p><p>放弃对 Argo AI 的投资对福特本季度的盈利能力产生了重大影响。福特将对 Argo AI 的投资计提 27 亿美元的非现金税前减值，导致福特在本季度产生了 8.27 亿美元的净亏损。</p><p></p><p>福特股价在盘后交易中下跌 1.6%。</p><p></p><p>福特在其收益报告中写道，它正在将资本支出从 Argo AI 开发的 L4 级自动驾驶系统转移到内部开发的“L2+/L3”高级驾驶辅助技术。</p><p></p><p>福特首席财务官约翰·劳勒 (John Lawler) 在周三的投资者电话会议上表示：“福特正在将这笔投资投入到一项我们认为短期内将获得可观回报的业务，而不是一个长期业务上。”</p><p></p><h2>全自动驾驶技术，太难了</h2><p></p><p></p><p>过去一年来，Argo 似乎取得了不错的进展。该公司的自动驾驶福特蒙迪欧汽车和新一代锐际混动汽车，已经在奥斯汀、底特律、迈阿密、帕洛阿尔托和匹兹堡等地的公共道路上进行测试。在欧盟方面，Argo 则选择用纯电大众 ID 系列车型在汉堡和慕尼黑开展测试。另外，Argo 还与 Lyft、沃尔玛、412 Food Rescue 在奥斯汀、迈阿密和匹兹堡合作开展了多个试点项目。</p><p></p><p>就在上个月，该公司还宣布建立用于支持商业配送和机器人出租车运营的产品加服务生态系统。其中涵盖的车队管理软件、数据分析、高清地图及云通信工具等元素，已经远远超出了常规自动驾驶的范畴。该系统允许车辆在无需人类驾驶员的监督下在市区街道上行驶。Argo 似乎在用实际行动告诉全世界，自己的技术马上就要落地了。</p><p></p><p>Salesky 和 Rander 在声明中表示，“我们非常感谢 Argo AI 团队的奉献精神，也为我们共同取得的种种成就感到自豪。Argo 团队不断超越自我，也希望大家能在接下来的事业上继续取得成功，特别是在福特和大众提供的自动驾驶技术岗位上再创辉煌。”</p><p></p><p>尽管 Argo AI 公司两位创始人认为他们已经不断超越了自己，但在福特 CEO 吉姆·法利 (Jim Farley) 看来，全自动驾驶这项技术，太难了。Jim甚至说：“我们对<a href=\"https://www.infoq.cn/article/ieqsEOaplV4GQOMdl03j\"> L4 级自动辅助驾驶</a>\"的未来持乐观态度，但也必须承认，距离能大规模实现盈利的全自动驾驶汽车还有很长的路要走，我们不一定要自己研发这项技术。”</p><p></p><p>福特首席高级产品开发和技术官 Doug Field 在电话会议上表示：“L4 自动驾驶的大规模商业化将需要比我们之前预期的更长的时间。” “L2+ 和 L3 驾驶辅助技术拥有更大的、更加明确的客户群，这将使其能够更快地扩展和盈利。”</p><p></p><p>参考链接：</p><p></p><p>https://techcrunch.com/2022/10/26/ford-vw-backed-argo-ai-is-shutting-down/</p><p>https://techcrunch.com/2022/10/26/ford-takes-2-7b-hit-on-argo-shutdown-shifts-its-bet-to-driver-assist-tech/</p>",
    "publish_time": "2022-10-27 15:18:42",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "又一巨头从Java迁移到Kotlin：关键应用全部开始切换、安卓代码库超过千万行Kotlin代码",
    "url": "https://www.infoq.cn/article/mLxce8grDPv30D6XkZTO",
    "summary": "<p>Facebook 母公司 Meta 正在将其 Android 应用的 Java 代码迁移到 Kotlin。根据 Meta 的官方博客<a href=\"https://engineering.fb.com/2022/10/24/android/android-java-kotlin-migration/\">所述</a>\"，截至今天，其 Android 代码库已经有超过 1000 万行 Kotlin 代码，旗下包括 Facebook、Instagram、Messenger、Portal 和 Quest 在内的应用都已经开始从 Java 转向 Kotlin。</p><p></p><h2>将代码库转换为 Kotlin</h2><p></p><p>Kotlin是一种更年轻的编程语言，也依赖于 Java 虚拟机。Kotlin 由软件工具制造商 JetBrains 创建，于 2011 年首次亮相，2016 年发布 1.0 版本。次年，它被 Google 采用为 Android 开发的一级语言，并由其基金会管理，该基金会由 JetBrains 和 Google 资助。</p><p></p><p>到 2019 的Google I/O 大会，Google 正式<a href=\"https://www.infoq.cn/article/qt51vqATE7jf_bpw5ggJ\">宣布</a>\"，Kotlin 编程语言已成为 Android 应用开发人员的首选语言，并在当年年底表示前 1000 个 Android 应用程序中有近 60% 包含 Kotlin 代码。</p><p></p><p>从 Google 自身来看，明面上它说自己选择 Kotlin 的理由是它更简洁、更安全、支持结构化并发，能更轻松地编写异步代码，并且可以与 Java 互操作。不过，另一个业界推测是可能跟那宗与 Oracle 旷日持久的 Java 侵权案有关—— Oracle 花了十多年的时间追究 Google 在 Android 中使用 Java API 的侵权索赔，最终 Oracle 败诉。</p><p></p><p>回到 Meta，Facebook 软件工程师 Omer Strulovich 对选择 Kotlin 如此解释道：“Kotlin 通常被认为是一种比 Java 更好的语言，在年度 Stack Overflow 开发人员调查中，<a href=\"https://insights.stackoverflow.com/survey/2021#technology-most-loved-dreaded-and-wanted\">其受欢迎程度高于 Java</a>\"，”他还指出，由于近年来 Kotlin 已成为 Android 开发的流行语言，“因此，在努力使我们的开发工作流程更加高效的过程中，我们在Meta的安卓开发中转向 Kotlin 是非常合理的……”</p><p></p><p>除了受欢迎之外，Meta 认为 Kotlin 拥有的主要优势包括可空性、函数式编程、代码更短、以及领域特定语言（DSL）等等。</p><p></p><p>不过，Strulovich 指出，过渡到 Kotlin 也有一些不可忽视的缺点，比如混合代码库可能难以维护，以及 Kotlin 虽然流行，但与 Java 相比还是有比较大的差距，工具集还不够成熟。所有 Kotlin 工具都需要考虑 Kotlin 和 Java 的互操作性，这使得它们的实现变得复杂。</p><p></p><p>但 Meta 最大的担忧还是构建时间。“我们从一开始就知道 Kotlin 的构建时间会比 Java 的要长。该语言及其生态系统更加复杂，Java 在优化其编译器方面领先了 20 年。由于我们拥有多个大型应用程序，较长的构建时间可能会对我们的开发人员体验产生负面影响。”</p><p></p><h4>为什么不只用 Kotlin 来写新代码</h4><p></p><p>Strulovich 没有透露 Meta 何时开始这种转变。Meta 本来可以选择只用 Kotlin 编写新代码，但它最终还是决定将所有的 Android 应用程序都转换过来。</p><p></p><p>根据 Strulovich 的说法，如果是只使用Kotlin来编写新代码，继续保留大部分现有Java代码的话，工作量明显更低，但相应的也有两个缺点：首先就是要在Kotlin和Java代码之间实现互操作性，就需要引入Kotlin中的platform类型。Platform类型会导致运行时中的空指针取消引用，进而引发崩溃，这就破坏了纯Kotlin代码提供的静态安全优势。在某些复杂情况下，Kotlin的空检查省略可能会漏掉空值，意外引发空指针异常。例如，如果Kotlin代码调用由Java接口实现的Kotlin接口，就会发生这种情况。其他的问题还包括Java无法将类型参数标记为可空（最近才刚刚修复）；Kotlin的重载规则考虑到了可空性，Java的重载规则却没有考虑到。</p><p></p><p>第二个缺点是，这种方式要求对Meta已经开发的大多数软件进行代码修改。如果继续把大部分代码保留为Java形式，那开发人员就没法充分发挥Kotlin的优势。</p><p></p><h2>Kotlin迁移大法</h2><p></p><p>如今，Meta 旗下的Android 版 Facebook、Messenger 和 Instagram 应用都拥有超过百万行 Kotlin 代码，而且转换率也一路走高。纵观整个Android 代码库，其中的 Kotlin 代码量已经超过千万行。</p><p></p><h4>起步阶段</h4><p></p><p>事实上，在尝试为现有应用程序引入 Kotlin 时，Meta 遇到了不少麻烦。例如，团队得更新 Redex 才能支持 Java 无法生成的字节码模式。另外，其使用的某些内部库要求在编译期间进行字节码转换来获取更好的性能。而在将这些库纳入 Kotlin 编译过程时，这部分代码无法正常起效。为此，Meta 针对这些问题构建了专门的解决工具。</p><p></p><p>Meta 还发现，现有工具之间存在不少冲突。例如，代码审查和wiki工具无法对 Kotlin 语法进行高亮显示。“我们还更新了之前使用的Pygments库，确保其体验与处理Java代码时一致。我们更新了一些内部代码修改工具，使其能够支持Kotlin。我们也构建了Ktfmt，一款基于google-java-format编码理念的确定性Kotlin格式化程序。”</p><p></p><h4>迁移加速阶段</h4><p></p><p>在工具准备齐全之后，Meta 现在已经能将代码中的任意部分转换为Kotlin。但每次迁移都需要大量样板设计工作，只能由员工们手动完成。J2K 是一种通用工具，并不会去理解所转换的代码是在表达什么。因此，某些特定部分就只能进行手动调整。</p><p></p><p>最典型的例子就是Junit测试规则的使用。假设使用ExpectedException规则，来验证是否抛出了正确的异常：</p><p></p><p><code lang=\"java\">@Rule public ExpectedException expectedException = ExpectedException.none();</code></p><p></p><p>当J2K将这部分代码转换成Kotlin时，得到的就是：</p><p></p><p><code lang=\"kotlin\">@Rule var expectedException = ExpectedException.none()</code></p><p></p><p>这段代码乍看之下与原先的Java代码等价，但由于Kotlin使用了site注解，所以其实际上等价于：</p><p></p><p><code lang=\"kotlin\">@Rule private ExpectedException expectedException = ExpectedException.none();\n\npublic ExpectedException getExpectedException() {\n  return expectedException\n}</code></p><p></p><p>尝试运行后，此测试会失败并返回一个错误：“The @Rule expectedException must be public”，这是因为Junit发现了一条带有@Rule注解的私有字段。这是个常见问题，论坛上面也已经有成熟答案：要么在字段中添加“@JvmField”；要么在注解中添加注解use-site，也就是“@get:Rule”：</p><p></p><p><code lang=\"kotlin\">// 方案一：使用“get”作为注解的use-site\n@get:Rule var expectedException = ExpectedException.none()\n\n// 方案二：只为没有getter的Java字段生成JVM代码\n@JvmField @Rule var expectedException = ExpectedException.none()</code></p><p></p><p>由于J2K无法（可能也不应该）感知JUnit的复杂性，所以没能正确完成转换。但即使JUnit不存在这个问题，J2K在处理其他小众框架的时候也肯定会掉类似的坑。</p><p></p><p>例如，很多Android Java代码会使用android.text.TextUtils中的实用方法，例如isEmpty，来简化对某些字符串的检查。但在Kotlin中，其实是有内置的标准库方法String.isNullOrEmpty的。该方法之所以更好，是因为它能通过契约来告知Kotlin编译器如果它返回false，则被测试的对象不得再为null，并将其智能转换为String。</p><p></p><p>Java 代码也有不少类似的辅助方法，也有很多库都实现了相同的基本方法。这一切都需要替换成标准的Kotlin方法，借此简化代码并保证编译器能正确检测出不可为空的类型。</p><p></p><p>Strulovich 表示，内部发现了许许多多类似的小小修复实例。有些难度不大（例如替换isEmpty），有些则需要研究一番才能搞明白（例如JUnit规则）。还有一些其实属于J2K出的错，可能导致构建错误、运行时行为错乱等问题。</p><p></p><p>为了解决这些问题，Meta 团队将 J2K 转换流程划分成三个步骤：</p><p></p><p>首先，取一个Java包并准备将其转换为Kotlin。这个步骤主要解决错误，并完成相应的内部工具转换。第二步就是运行J2K。团队已经能够以无头模式运行Android Studio并调用J2K，由此将整个管道作为脚本来运行。最后一步，对新的Kotlin文件进行后处理。具体包括大部分自动重构与修复步骤，例如将JUnit规则标记为@JvmField。在此步骤中，团队还应用了自动更新linter，并在无头模式下应用各种Android Studio建议。“当然，自动化并不足以解决所有问题，但至少能帮我们优先处理那些最常见的问题。”Strulovich 说。</p><p></p><p>在Java重构方面，Meta 使用的是JavaASTParser等工具，它能帮助解析某些类型。而在Kotlin这边，团队还没有找到能够解析类型的好办法，所以选择使用Kotlin编译器API。</p><p></p><p>Meta 还发布了一组自动重构方法（<a href=\"https://github.com/fbsamples/kotlin_ast_tools\">https://github.com/fbsamples/kotlin_ast_tools</a>\"）。虽然不是很多，但希望能帮助更多开发者利用Kotlin编译器解析器高效完成工作。</p><p></p><h2>下一步</h2><p></p><p>平均而言，Meta 发现迁移后的代码行数减少了 11%。尽管<a href=\"https://www.infoq.cn/article/gnjlqi68kmqmikmbnq5k\">网上各种案例引用的数字往往要比这高得多</a>\"，但他们还是对这个数字感到满意。</p><p></p><p>Strulovich 说，Meta 向 Kotlin 的迁移仍在进行中并在加速。“Kotlin仍然缺乏一些我们在使用Java时已经习惯了的工具和优化，但我们正在努力缩小这些差距。随着我们取得的进展和这些工具和库的成熟，我们也将努力把它们反馈给社区。”</p><p></p><p>参考链接：</p><p><a href=\"https://www.theregister.com/2022/10/25/meta_java_kotlin/\">https://www.theregister.com/2022/10/25/meta_java_kotlin/</a>\"</p><p><a href=\"https://engineering.fb.com/2022/10/24/android/android-java-kotlin-migration/\">https://engineering.fb.com/2022/10/24/android/android-java-kotlin-migration/</a>\"</p>",
    "publish_time": "2022-10-27 17:37:57",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "Chrome浏览器将停止支持 Windows 7/8/8.1",
    "url": "https://www.infoq.cn/article/69gYeXQIyAbJ5ytfHahM",
    "summary": "<p>近日，Google <a href=\"https://support.google.com/chrome/thread/185534985/sunsetting-support-for-windows-7-8-1-in-early-2023?hl=en\">宣布</a>\"，随着Chrome 110 的发布（暂定于 2023 年 2 月 7 日）， 届时，Chrome 浏览器将停止支持 Windows 7 / 8.1。</p><p></p><p>通知显示，用户设备需要运行 Windows 10 及以上版本才能接收未来的 Chrome 更新。Google 终止支持的决定与微软 Windows 生命周期政策一致——微软将于 2023 年 1 月 10 日<a href=\"https://support.microsoft.com/en-us/topic/you-received-a-notification-your-windows-7-pc-is-out-of-support-3278599f-9613-5cc1-e0ee-4f81f623adcf\">终止</a>\"对 Windows 7 ESU（扩展安全更新）和 Windows 8.1 的支持。</p><p></p><p>根据 Statcounter GlobalStats 的<a href=\"https://gs.statcounter.com/os-version-market-share/windows/desktop/worldwide\">数据</a>\"，目前 Windows 7 在Windows操作系统市场的占有率仍然逾 10%，而 Windows 8.1 仅占 2.7%&nbsp; 。</p><p></p><p>从全球来看，Chrome 浏览器的市场份额超过 65%，其次是 Safari，约占 18%，Microsoft Edge 为 4.32%（使用 Chromium 内核）。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/32/32c1735731f9ba3ba6278949a63379b1.png\" /></p><p></p><p>Chrome 支持经理表示，旧版本的 Chrome 将继续工作，但不会为使用Windows 7 / 8.1 的用户发布更多更新，建议用户迁移到受支持的 Windows 版本，以确保能收到最新的 Chrome 功能和安全补丁。否则一旦这些系统不再获得技术帮助或软件更新，其计算机和数据将会面临安全风险。</p><p></p><p>Windows 7 于 2009 年 10 月进入市场并于 2020 年初正式退出。Windows 8 于 2012 年推出，其继任者 8.1 将在 2023 年 1 月停止获得支持。同样地，Windows 10 在 2015 年出现并计划在 2025 年退出。不过有观点认为，由于升级 Windows 11 的硬件要求太高，当下 Windows 11 的采用速度非常缓慢，到 2025 年那会大家的电脑硬件是否准备好大规模迁移到 Windows 11，还有待观察。</p><p></p><p>参考链接：</p><p><a href=\"https://www.bleepingcomputer.com/news/google/google-chrome-to-drop-support-for-windows-7-81-in-feb-2023/\">https://www.bleepingcomputer.com/news/google/google-chrome-to-drop-support-for-windows-7-81-in-feb-2023/</a>\"</p>",
    "publish_time": "2022-10-27 18:35:36",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]