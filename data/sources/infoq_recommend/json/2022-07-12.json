[
  {
    "title": "Uber 如何实现 Go 代码中的动态数据竞争检测",
    "url": "https://www.infoq.cn/article/S4QqJIDa40dwg9WUlNdH",
    "summary": "<p></p><blockquote>本文是Uber在Go代码中数据竞争经验两篇文章中的第一篇。详细版本将在 2022 年 ACM SIGPLAN 编程语言设计与实现（Programming Languages Design and Implementation，PLDI）中发表。在本文系列的第二部分，我们将介绍关于 Go 中竞争模式的学习。</blockquote><p></p><p></p><p>Uber 已将 Go 作为主要编程语言，广泛用于开发微服务。我们的 Go 单体仓库由大约 5000 万行代码组成，包含大约 2100 个独特的 Go 服务。Go 使并发性成为一流公民；在函数调用前加上 go 关键字，就会异步运行调用。在 Go 中，这些异步函数调用被称作 goroutines。开发人员通过在单个运行的 Go 程序中创建 goroutines，从而隐藏了延迟（例如，对其他服务的 IO 或 RPC 调用）。goroutines 被认为是 “轻量级的”，Go 的运行时上下文在操作系统（OS）线程上切换它们。Go 程序员经常随意使用 goroutines。两个或多个 goroutines 可以通过消息传递（通道）或共享内存进行数据通信。共享内存恰好是 Go 中最常用的数据通信方式。</p><p></p><p>在 Go 中，如果两个或更多的 goroutines 访问同一个内存地址时，那么至少有一块是写入的，而且它们之间没有排序，这就是 Go 内存模型所定义的数据竞争。在我们的微服务中，由于数据竞争而导致的 Go 程序的中断是一个反复出现的、令人头疼的问题。由于上述问题，我们关键的、面向客户的服务总共瘫痪了数个小时，造成客户的不便，也影响了我们的收益。在本文中，我们将会讨论 Go 的一个默认动态竞争检测器，它将会在 Go 的开发环境中不断检测数据竞争。这一部署实现了对 2000 多个竞争的检测，使两百多名工程师修复了约 1000 个数据竞争。</p><p></p><p></p><h2>动态检测数据竞争</h2><p></p><p></p><p>动态竞争检测包括通过检测共享内存访问和同步构造来分析程序的执行。在 Go 中进行单元测试，生成多个 goroutine，这是一个很好的开始，可以进行动态竞争检测。Go 有一个内置的竞争检测器，可以用来在编译时检测代码，以及检测执行过程中的数据竞争。在内部，Go 的竞争检测器采用了 ThreadSanitizer 运行时库，通过结合锁集和基于之前的算法来报告数据竞争。</p><p></p><p>与动态竞争检测相关的重要属性如下：</p><p></p><p>由于动态竞争检测依赖于分析的执行，所以不会报告源代码中的所有竞争。检测到的竞争集依赖于线程交错，甚至程序的输入没有变化，但会在多次运行中发生变化。</p><p></p><h2>何时部署动态数据竞争检测器？</h2><p></p><p></p><p>我们在仓库中使用了超过 10 万个 Go 单元测试来执行代码和检测数据竞争。然而，我们面临着一个具有挑战性的问题，即何时部署竞争检测器。</p><p></p><p>在拉取请求（pull request，PR）时，运行动态数据竞争检测器存在以下问题：</p><p></p><p>竞争检测具有不确定性。这样，拉取请求所引起的竞争可能不会被曝光，并且可能不会被检测到。这种行为的后果是，随后的良性拉取请求可能会受到检测到的休眠竞争的影响，从而被错误地阻止，进而影响开发人员的生产力。此外，由于在我们 5000 万行的代码库中存在预先存在的数据竞争，这也是一件不可能的事情。动态数据竞争检测器占用的空间是 2~20 倍，内存开销是 5~10 倍，这可能导致违反我们的 SLA，或者增加硬件成本。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/bf/bfb5ba570d13e4e58662a2f544d13af3.jpeg\" /></p><p>图 1：动态竞争检测工作流的架构</p><p></p><p></p><p>基于这些考虑，我们决定在事后定期在代码快照上部署竞争检测器，这包括以下步骤：</p><p></p><p>(a) 通过执行仓库中的所有单元测试来进行动态竞争检测。</p><p>(b) 通过向适当的 bug 所有者提交任务来报告所有未解决的竞争。</p><p></p><p>一个检测到的竞争报告包含以下细节：</p><p></p><p>冲突的内存地址。2 个冲突访问的调用链（又称调用上下文或堆栈跟踪）。与每个访问相关的内存访问类型（读取或写入）。</p><p></p><p>我们解决了几个问题，通过对报告的堆栈竞争进行散列，并应用启发式方法来确定负责修复该错误的潜在开发人员，这样就可以避免重复的竞争。尽管我们已经选定了这种部署路径，但是，如果所检测到的竞争不会妨碍构建，并作为警告通知开发人员，或者对动态竞争检测进行了改善，使得 CI 时间的确定性检测是可行的，那么 CI 时间的部署是可以实现的。</p><p></p><h2>部署的效果</h2><p></p><p></p><p>我们在 2021 年 4 月推出了这一部署，并在 6 个月里收集数据。我们的方法帮助检测了单体仓库中的 2000 个数据竞争，每天有数百名 Go 开发人员提交的数据。在报告的 2000 个竞争中，有 1011 个竞争被 210 个不同的工程师修复。我们观察到，有 790 个独特的补丁来修复这些竞争，这表明了独特的根源数量。我们还收集了 6 个多月期间未解决的故障总数的统计数据，并将其报告如下：</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/35/35dc0b58ef2ddbc23ecf92987f1f348b.jpeg\" /></p><p>图 2：6 个月内未解决的数据竞争的数量（2021 年 4 月~2021 年 9 月）</p><p></p><p></p><p>在推出的初始阶段（2~3 个月），我们向受让方提供了关于解决数据竞争问题的建议。在这一阶段，未解决的竞争已经出现了明显的减少。后来，随着指导工作的减少，我们注意到，未解决的竞争总数在逐渐增加。该图还表明，未解决的竞争数的波动，这是由于对竞争的修复、新竞争的引入、开发人员对测试的启用和禁用，以及动态竞争检测的基本非确定性。在报告了所有预先存在的竞争后，我们还观察到，工作流平均每天会创建大约 5 个新的竞争报告。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/37/37caefe7eaae2a58a95cc0d36fbe088b.jpeg\" /></p><p>图 3：提交和修复的 Jira 任务的数量说明</p><p></p><p>就运行我们的离线数据竞争检测器的开销而言，我们注意到，在没有数据竞争检测的情况下，在所有的测试中，95% 的运行时间是 25 分钟，而在启用数据竞争之后，增加了 4 倍，达到约 100 分钟。在数十名工程师的调查中，大约在推出该系统 6 个月后，52% 的开发人员认为该系统有用，40% 的人没有参与该系统，8% 的人认为该系统没有用。</p><p></p><h2>展望未来</h2><p></p><p></p><p>我们在这次部署中的经验表明有以下进展：</p><p></p><p>需要建立可在持续集成（CI）期间部署的动态竞争检测器。这需要新的检测器有效解决由于非确定性和开销带来的挑战。在这之前，设计算法为检测到的数据竞争寻找根源并确定适当的拥有者，有助于加速数据竞争的修复。我们已经确定了与 Go 中的数据竞争有关的基本编码模式（在本博客系列的第二部分中将会介绍），而 CI 时间的静态分析检测可能会捕捉到其中一个子集。所检测的竞争集依赖于输入的测试套件。能够在其他类型的测试（除单元测试外）上运行竞争检测，如集成测试、端到端测试、黑盒测试，甚至生产跟踪，都能帮助检测更多的竞争。我们还认为，对输入测试套件的时间表进行模糊处理的程序分析工具可以暴露出线程交错，从而增强检测到的竞争集。最后，目前的方法依赖于通过单元测试的多线程执行的可用性，而手动构建此类测试时，不一定能考虑到所有可能的情况。自动生成多线程执行，其中包含 racy 行为，并且利用检测器来验证竞争，这是一种高效的调试工具。</p><p></p><p>作者介绍：</p><p></p><p>Murali Krishna Ramanathan 是一名高级软件工程师，负责 Uber 工程的多项代码质量计划。他是 Piranha 的架构师，Piranha 是一个重构工具，可以自动删除因特性标记过期而导致的代码。他的兴趣是开发工具来解决软件开发的挑战，包括特性标记、自动代码重构和开发人员的工作流，以及自动测试生成以提高软件质量。</p><p></p><p>Milind Chabbi 是 Uber 编程系统研究团队的一名员工研究员。他领导整个 Uber 在编译器优化、高性能并行计算、同步技术和性能分析工具方面的研究计划，使大型复杂的计算系统变得可靠和高效。</p><p></p><p>原文链接：</p><p></p><p>https://eng.uber.com/dynamic-data-race-detection-in-go-code/</p>",
    "publish_time": "2022-07-12 09:09:36",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "Java近期新闻：Payara平台、JReleaser、Quarkus、Hibernate、Spring Cloud和Apache Beam",
    "url": "https://www.infoq.cn/article/yHdjimHkDKlM1VWpJT0B",
    "summary": "<p>最近，Java社区相对比较平静，本期的新闻包括JDK 19、JDK 20、Spring Cloud 2020.0.6、Quarkus 2.10.1、Payara平台企业版5.40.0、JReleaser 1.1.0、Hibernate ORM 6.1.1、Apache Beam 2.40.0和Apache Camel 3.14.4。</p><p></p><h3>JDK 19</h3><p></p><p>JDK 19<a href=\"https://jdk.java.net/19/\">早期访问构建</a>\"版本的<a href=\"https://github.com/openjdk/jdk/releases/tag/jdk-19%2B29\">Build 29</a>\"发布，该版本是对Build 28的<a href=\"https://github.com/openjdk/jdk/compare/jdk-19%2B28...jdk-19%2B29\">更新</a>\"，包括对<a href=\"https://bugs.openjdk.java.net/issues/?jql=project%20%3D%20JDK%20AND%20fixversion%20%3D%2019%20and%20%22resolved%20in%20build%22%20%3D%20b29%20order%20by%20component%2C%20subcomponent\">各种问题</a>\"的修复。更多细节可以在<a href=\"https://jdk.java.net/19/release-notes\">发布说明</a>\"中找到。</p><p></p><h3>JDK 20</h3><p></p><p>JDK 20<a href=\"https://jdk.java.net/20/\">早期访问构建</a>\"版本的<a href=\"https://github.com/openjdk/jdk/releases/tag/jdk-20%2B4\">Build 4</a>\"发布，它是对Build 3的<a href=\"https://github.com/openjdk/jdk/compare/jdk-20%2B3...jdk-20%2B4\">更新</a>\"，包括对各种<a href=\"https://bugs.openjdk.java.net/issues/?jql=project%20%3D%20JDK%20AND%20fixversion%20%3D%2020%20and%20%22resolved%20in%20build%22%20%3D%20b04%20order%20by%20component%2C%20subcomponent\">问题</a>\"的修复。目前它还没有发布说明。</p><p></p><p>对于<a href=\"https://openjdk.java.net/projects/jdk/19/\">JDK 19</a>\"和<a href=\"https://openjdk.java.net/projects/jdk/20/\">JDK 20</a>\"，鼓励开发者通过<a href=\"https://bugreport.java.com/bugreport/\">Java Bug数据库</a>\"报告缺陷。</p><p></p><h3>Spring框架</h3><p></p><p><a href=\"https://spring.io/projects/spring-cloud\">Spring Cloud</a>\"&nbsp;2020.0.6版本<a href=\"https://spring.io/blog/2022/06/30/spring-cloud-2020-0-6-is-available\">发布</a>\"，它为所有Spring Cloud子项目提供了缺陷修复和升级，特别是<a href=\"https://spring.io/projects/spring-cloud-commons\">Spring Cloud Commons</a>\"、<a href=\"https://spring.io/projects/spring-cloud-openfeign\">Spring Cloud OpenFeign</a>\"和<a href=\"https://spring.io/projects/spring-cloud-netflix\">Spring Cloud Netflix</a>\"。该版本还修复了之前2021.0各版本所发现的问题。关于这个版本的更多细节，可以在<a href=\"https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2020.0-Release-Notes\">发布说明</a>\"中找到。</p><p></p><h3>Quarkus</h3><p></p><p>在Quarkus 2.10.0<a href=\"https://quarkus.io/blog/quarkus-2-10-0-final-released/\">发布</a>\"一周后，Red Hat提供了一个<a href=\"https://quarkus.io/blog/quarkus-2-10-1-final-released/\">维护版本</a>\"，即Quarkus 2.10.1.Final，其中包括缺陷修复、文档改进以及依赖升级，如SmallRye Fault Tolerance 5.4.1、Keycloak 18.0.1、Scala Maven Plugin 4.6.3和Flyway 8.5.13。关于这个版本的更多细节，可以在<a href=\"https://github.com/quarkusio/quarkus/releases/tag/2.10.1.Final\">更新日志</a>\"中找到。</p><p></p><h3>Payara</h3><p></p><p>Payara<a href=\"https://blog.payara.fish/whats-new-in-the-june-2022-payara-platform-release\">发布</a>\"了2022年6月版的<a href=\"https://www.payara.fish/\">Payara平台</a>\"，这是一个企业专有版。Payara平台企业版5.40.0版提供了三个缺陷修复、一个组件升级和两项改进，包括对<a href=\"https://jakarta.ee/specifications/concurrency/3.0/\">Jakarta Concurrency 3.0</a>\"的增强，增加了<a href=\"https://jakarta.ee/specifications/platform/8/apidocs/javax/enterprise/concurrent/managedexecutorservice\">ManagedExectorService</a>\"接口的功能；企业版文档的改进；安全性和稳定性的提高，以及对<a href=\"https://www.igniterealtime.org/projects/smack/\">Smack</a>\"&nbsp;4.4.6的依赖性升级。这个版本还包括Payara 5企业版的向后更新。关于这个版本的更多细节可以在<a href=\"https://docs.payara.fish/enterprise/docs/Release%20Notes/Release%20Notes%205.40.0.html\">发布说明</a>\"中找到。</p><p></p><h3>JReleaser</h3><p></p><p><a href=\"https://jreleaser.org/\">JReleaser</a>\"&nbsp;1.1.0版<a href=\"https://andresalmiray.com/jreleaser-1-1-0-has-been-released/\">发布</a>\"，这是一个简化项目发布的Java工具，该版本的特性包括：在assemble、announce和download中添加active属性；下载组装或发布时所需资产的选项；HTTP认证，以及对下载和上传的FTP支持。关于这个版本的更多细节可以在<a href=\"https://github.com/jreleaser/jreleaser/releases/tag/v1.1.0\">更新日志</a>\"中找到。</p><p></p><h3>Hibernate</h3><p></p><p>Hibernate ORM 6.1.1.Final是一个<a href=\"https://in.relation.to/2022/07/01/hibernate-orm-611-final/\">维护版本</a>\"，其特性包括缺陷修复，优化了<a href=\"https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/persister/entity/AbstractEntityPersister.html\">AbstractEntityPersister</a>\"类中resolveDirtyAttributeIndexes()方法的内存占用，并解除了在使用嵌入式ID或ID类时选择对一（to-one）关联的限制。</p><p></p><h3>Apache Beam</h3><p></p><p>Apache软件基金会<a href=\"https://www.mail-archive.com/announce@apache.org/msg07409.html\">发布</a>\"了Apache Beam 2.40.0，其特性包括：针对<a href=\"https://go.dev/\">Go SDK</a>\"的新功能；对<a href=\"https://hive.apache.org/\">Apache Hive</a>\"&nbsp;3.1.3的依赖性升级；以及新的<a href=\"https://s.apache.org/inference-sklearn-pytorch\">RunInference API</a>\"，这是面向Apache Beam的机器学习推理。破坏性的变更包括最低需要Go SDK 1.18，以支持泛型。关于这个版本的更多细节可以在<a href=\"https://github.com/apache/beam/releases/tag/v2.40.0\">发布说明</a>\"中找到，关于Apache Beam的更深入介绍可以参阅InfoQ的<a href=\"https://www.infoq.com/articles/apache-beam-intro/\">技术文章</a>\"。</p><p></p><h3>Apache Camel</h3><p></p><p>Apache Camel 3.14.4<a href=\"https://camel.apache.org/blog/2022/06/RELEASE-3.14.4/\">发布</a>\"，其中包括缺陷修复、模块升级至camel-spring-boot&nbsp;2.6.8、依赖升级至<a href=\"https://jakarta.ee/specifications/mail/1.6/\">Jakarta Mail 1.6.7</a>\"，以及修正camel-karaf模块中camel-azure-storage-datalake特性的错误定义。关于这个版本的更多细节可以在<a href=\"https://camel.apache.org/releases/release-3.14.4/\">发布说明</a>\"中找到。</p><p></p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2022/07/java-news-roundup-jun27-2022/\">Java News Roundup: Payara Platform, JReleaser, Quarkus, Hibernate, Spring Cloud, Apache Beam</a>\"</p>",
    "publish_time": "2022-07-12 09:15:48",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "案例研究：Apache DolphinScheduler的云原生之路",
    "url": "https://www.infoq.cn/article/ysqf8pBg813zH7qa7ajj",
    "summary": "<p>&nbsp;</p><p><a href=\"https://dolphinscheduler.apache.org/\">DolphinScheduler</a>\"是由易观开源的一个分布式可伸缩的可视化工作流任务调度平台。</p><p>&nbsp;</p><p>在我所工作的领域，DolphinScheduler可以快速解决企业数据开发的十大痛点：</p><p>&nbsp;</p><p>多源数据连接和访问：可以访问常见的数据源，不需要进行太多的修改就可以添加新数据源；多样化、专业化、海量数据任务管理：围绕大数据（Hadoop家族、Flink等）任务调度问题展开，与传统调度器有明显的区别；图形化的任务安排：提供了便捷的用户体验，可与商业产品竞争，尤其是针对大多数国外开源产品无法通过拖放直接生成数据任务的情况；任务详情：丰富的任务查看、日志、时间运行轴显示，满足开发人员对数据任务精细化管理的需求，可帮助快速定位慢SQL和性能瓶颈；支持各种分布式文件系统：丰富了用户可选择的非结构化数据选项；原生多租户管理：满足大型组织的数据任务管理和隔离需求；全自动分布式调度算法，均衡所有调度任务；原生集群监控：可监控CPU、内存、连接数、ZooKeeper状态，适合中小型企业的一站式运维；原生任务告警功能：最大限度降低任务操作风险；强大的社区运营：倾听用户真实的声音，不断添加新功能，持续优化用户体验。</p><p>&nbsp;</p><p>DolphinScheduler以早期微服务技术为基础，采用了服务注册表的概念，使用ZooKeeper对集群进行分布式管理（很多大数据技术都使用ZooKeeper进行去中心化集群管理）。Worker主节点可以任意添加，也可以单独部署API管理和告警管理。作为企业级技术模块，它实现了微服务隔离、独立部署、模块化管理等技术特点。然而，在容器化云原生应用快速发展的时代，这种技术模式存在一些不足：</p><p>&nbsp;</p><p>需要从头部署，无论是安装在物理机器还是虚拟机器上。一个DolphinScheduler节点需要数百个shell操作，一个包含多个节点的集群可能需要数千个shell操作；标准的企业级DolphinScheduler涉及大量的基础设施环境管理，通常需要8个以上的节点、主机和IP地址。这些基础设施信息给管理带来了一定的困难；添加节点需要执行一系列操作，如安装Java、配置主机、设置DS Linux用户、设置无密码登录、修改安装节点配置文件，而且需要停止并重启整个集群；大型企业通常有多个集群用于支持不同的业务，这会造成大量的重复性工作；调度器具有一定的可观测性功能，但不能与主流工具集成；总的说来，调度器仍然需要进行日常的检查，例如诊断Java核心进程异常退出问题；对于不同需求和场景下的调度器配置，没有有效的管理机制或工具。</p><p>&nbsp;</p><p>解决这些技术缺陷的核心想法是：</p><p>&nbsp;</p><p>如何将DolphinScheduler集成到当今主流的云原生技术中；如何以较少的人力资源部署DolphinScheduler，能否实现全自动集群安装部署模式；如何拥有一个完全无服务器的DolphinScheduler，并大大降低配置管理成本；如何标准化技术组件实现规范；是否能在无人监督的情况下运行，系统是否能自我修复；如何将其集成到现有的可观测平台中。</p><p></p><h2>利用Kubernetes技术</h2><p></p><p>&nbsp;</p><p>作为云原生技术的事实上的标准，Kubernetes给整个IT应用技术体系带来了革命性的改变。Kubernetes主要以服务注册和发现、负载均衡、自动发布和回滚、容器隔离、软件自我修复和分布式配置管理等核心技术为基础。</p><p>&nbsp;</p><p>不仅仅是Kubernetes，我们的团队还集成了来自CNCF（云原生计算基金会）的许多优秀项目，开展了以下工作：</p><p>&nbsp;</p><p>对DolphinScheduler的部署技术进行了改进。我们使用Helm和Argo CD来极大简化一键式部署。使用Argo CD实现了GitOps配置内容管理机制，使DevOps具备了完整的审计能力。Kubernetes的Pod水平自动伸缩技术大大降低了伸缩应用程序的操作难度。Kubernetes标准化的健康探测技术让调度器的所有技术组件具有强大的自我修复能力。Kubernetes和Argo CD的滚动发布技术让DolphinScheduler工具实现了优雅而简单的升级。Kube-Prometheus技术的使用为DolphinScheduler带来了标准化的可观测性。强大的UI技术简化了CMDB可视化管理、基于Kubernetes的组件配置管理、应用程序日志管理等。</p><p>&nbsp;</p><p>我们还向DolphinScheduler引入了更强大的工具，以获得更丰富的云原生功能：</p><p>&nbsp;</p><p>通过Kubernetes服务注册发现和摄入技术实现了更容易的服务访问；引入的Linkerd为DolphinScheduler带来了服务网格功能，提高了所有API的管理和监控能力；将DolphinScheduler与Argo工作流或标准Kubernetes作业相结合；引入了对象存储技术MinIO，统一了非结构化数据存储技术。</p><p>&nbsp;</p><p>我们所做的工作都是为了使DolphinScheduler更强大、运行更稳定、要求更少的运营时间、具备更好的可观测性、更丰富更完整的生态。</p><p></p><h2>向云原生平台的初步过渡</h2><p></p><p>&nbsp;</p><p>为了完全拥抱云原生技术，DolphinScheduler首先需要快速实现云原生部署和操作，即将大多数企业应用程序迁移到Kubernetes环境中。</p><p>&nbsp;</p><p>感谢开源社区的贡献，我们快速构建了DolphinScheduler的JAR包Docker镜像，并使用Helm工具包实现了基于Kubernetes的声明式部署脚本。成为Kubernetes托管对象是集成到云原生最重要的一步。这些不仅让云原生用户和组织更方便、更快地使用工具，而且大大提高了DolphinScheduler用户的工作效率。</p><p>&nbsp;</p><p>要在Kubernetes上部署DolphinScheduler，你可以这么做：</p><p>&nbsp;</p><p>从GitHub下载<a href=\"https://github.com/apache/dolphinscheduler/archive/refs/tags/1.3.9.tar.gz\">dolphinscheduler-1.3.9.tar.gz</a>\"，在./dolphinscheduler-1.3.9/docker/kubernetes/dolphinscheduler文件夹中找到Helm包。</p><p>&nbsp;</p><p>使用下面的命令部署DolphinScheduler实例：</p><p><code lang=\"null\">kubectl create ns ds139\nhelm install dolphinscheduler . -n ds139</code></p><p>&nbsp;</p><p>有时候，为了进行ETL和连接数据库，DolphinScheduler用户需要集成DataX、MySQL JDBC驱动程序或Oracle JDBC驱动程序。我们可以下载必要的组件，构建新的Docker镜像，并升级DolphinScheduler实例：</p><p><code lang=\"null\">#Download the additional components\nhttps://repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.49/mysql-connector-java-\n5.1.49.jar\nhttps://repo1.maven.org/maven2/com/oracle/database/jdbc/ojdbc8/\nhttps://github.com/alibaba/DataX/blob/master/userGuid.md\n\n\n#Create a new docker image with new tag by this Dockerfile\nFROM apache/dolphinscheduler:1.3.9\nCOPY *.jar /opt/dolphinscheduler/lib/\nRUN mkdir -p /opt/soft/datax\nCOPY datax /opt/soft/datax\n\n\n#Edit image tag of helm value.yaml file, and execute helm upgrade.\nhelm upgrade dolphinscheduler -n ds139</code></p><p>&nbsp;</p><p>一般来说，我们建议在生产环境中使用独立部署的外部PostgreSQL作为管理数据库。我们发现，在切换到外部数据库后，即使完全删除并重新部署Kubernetes中的DolphinScheduler，也不需要重新创建DolphinScheduler的应用程序数据（例如，用户定义的数据处理任务）。这再次证明了系统具备高可用性和数据完整性。此外，我们建议为DolphinScheduler组件配置PersistentVolume，因为如果Pod重启或升级，DolphinScheduler的历史应用程序日志将会丢失。</p><p>&nbsp;</p><p>与传统模型中使用上百个shell命令的操作相比，我们只需要修改一个配置文件，再加上一行安装命令，就可以自动安装DolphinScheduler的8个组件，节省了大量的人工成本，减少了大量的操作错误。如果有多个DolphinScheduler集群，这将大大降低人力成本，业务部门的等待时间将从几天减少到不到一小时，甚至可能是十分钟。</p><p></p><h2>加入GitOps（Argo CD）</h2><p></p><p>&nbsp;</p><p>Argo CD是一种声明式的<a href=\"https://about.gitlab.com/topics/gitops/\">GitOps</a>\"持续交付工具，它基于Kubernetes和CNCF的孵化项目，是GitOps的最佳实践工具。</p><p>&nbsp;</p><p>GitOps可以为DolphinScheduler带来以下的好处。</p><p>&nbsp;</p><p>图形化和一键式安装集群软件；Git可以记录完整的发布过程，并支持一键回滚；方便的DolphinScheduler工具日志查看。</p><p>&nbsp;</p><p>然后，我们可以看到由Argo CD自动部署的Pod、configmap、secret、service、ingress和其他资源，它还会显示提交信息和用户名，完全记录了所有的发布事件信息。与此同时，你还可以一键回退到历史版本。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/52/528c5818c7470ffbb602325b7ff74b5a.png\" /></p><p></p><p>&nbsp;</p><p>通过kubectl命令可以查看相关的资源信息：</p><p><code lang=\"null\">[root@tpk8s-master01 ~]# kubectl get po -n ds139\n                           NAME                               READY   STATUS  RESTARTS           AGE\nDolphinscheduler-alert-96c74dc84-72cc91/1Running022m\nDolphinscheduler-api-78db664b7b-gsltq1/1Running022m\nDolphinscheduler-master-01/1Running022m\nDolphinscheduler-master-11/1Running022m\nDolphinscheduler-master-21/1Running022m\nDolphinscheduler-worker-01/1Running022m\nDolphinscheduler-worker-11/1Running022m\nDolphinscheduler-worker-21/1Running022m\n\n\n[root@tpk8s-master01 ~]# kubectl get statefulset -n ds139\n              NAME                                READY              AGE\nDolphinscheduler-master3/322m\nDolphinscheduler-worker3/322m\n\n\n[root@tpk8s-master01 ~]# kubectl get cm -n ds139\n          NAME                                     DATA                AGE\nDolphinscheduler-alert1523m\nDolphinscheduler-api123m\nDolphinscheduler-common2923m\nDolphinscheduler-master1023m\nDolphinscheduler-worker723m\n\n\n[root@tpk8s-master01 ~]# kubectl get service -n ds139\nNAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE\nDolphinscheduler-apiClusterIP10.43.238.5 12345/TCP 23m\nDolphinscheduler-master-headless ClusterIP None 5678/TCP 23m\nDolphinscheduler-worker-headless ClusterIP None  1234/TCP,50051/TCP 23m\n\n\n[root@tpk8s-master01 ~]# kubectl get ingress -n ds139\n      NAME                               CLASS                       HOSTS ADDRESS\nDolphinschedulerds139.abc.com</code></p><p>&nbsp;</p><p>你还可以看到，所有的Pod部署在Kubernetes集群的不同主机上，例如，worker 1和worker 2位于不同的节点上。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/83/8305337e0f7b78be4d22733f281fdc38.png\" /></p><p></p><p>&nbsp;</p><p>在配置好了ingress后，我们就可以使用域名来访问公司内网中的DolphinScheduler Web UI。我们以DNS子域名abc.com为例：<a href=\"http://ds139.abc.com/dolphinscheduler/ui/#/home\">http://ds139.abc.com/dolphinscheduler/ui/#/home</a>\"。我们可以在Argo CD上查看DolphinScheduler每个组件的内部日志：</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/e8/e8663c1f364f8ff618c4e0f46e13f895.png\" /></p><p></p><p>有了Argo CD，我们就可以非常方便地修改组件（如master、worker、API或alert）的副本数量。DolphinScheduler的Helm配置还保留了CPU和内存的设置信息。我们修改了value.yaml文件中的副本设置。修改好之后，我们将其推送到公司内部的源代码系统：</p><p><code lang=\"null\">master:\n  podManagementPolicy: \"Parallel\"\n  replicas: \"5\"\nworker:\n  podManagementPolicy: \"Parallel\"\n  replicas: \"5\"\nalert:\n  replicas: \"3\"\napi:\n  replicas: \"3\"</code></p><p>&nbsp;</p><p>只需在Argo CD上点击“同步”即可开始同步，并根据需要添加相应的Pod。</p><p><code lang=\"null\">[root@tpk8s-master01 ~]# kubectl get po -n ds139\n                   NAME                                      READY   STATUS              RESTARTS            AGE\nDolphinscheduler-alert-96c74dc84-72cc91/1Running043m\nDolphinscheduler-alert-96c74dc84-j6zdh1/1Running02m27s\nDolphinscheduler-alert-96c74dc84-rn9wb1/1Running02m27s\nDolphinscheduler-api-78db664b7b-6j8rj1/1Running02m27s\nDolphinscheduler-api-78db664b7b-bsdgv1/1Running02m27s\nDolphinscheduler-api-78db664b7b-gsltq1/1Running043m\nDolphinscheduler-master-01/1Running043m\nDolphinscheduler-master-11/1Running043m\nDolphinscheduler-master-21/1Running043m\nDolphinscheduler-master-31/1Running02m27s\nDolphinscheduler-master-41/1Running02m27s\nDolphinscheduler-worker-01/1Running043m\nDolphinscheduler-worker-11/1Running043m\nDolphinscheduler-worker-21/1Running043m\nDolphinscheduler-worker-31/1Running02m27s\nDolphinscheduler-worker-41/1Running02m27s</code></p><p>&nbsp;</p><p>不仅是Helm，基于Argo CD的GitOps技术也为整个DolphinScheduler工具提供了图形化、自动化、可跟踪、可审计的强大DevOps、回滚和监控功能，而无需对DolphinScheduler进行任何代码修改。</p><p></p><h2>为DolphinScheduler添加自我修复能力</h2><p></p><p>&nbsp;</p><p>众所周知，当今的IT环境总是处于一个不稳定的状态。换句话说，我们的技术系统将服务器、操作系统和网络的各种故障视为发生在集群中的常规事件。当用户无法通过浏览器正常访问DolphinScheduler的任务管理页面，或者当DolphinScheduler无法正常运行大数据任务时，为时已晚。</p><p>&nbsp;</p><p>在DolphinScheduler迁移成云原生之前，它只能依靠日常监控来检查master/worker/API和其他组件是否正常运行，比如使用DolphinScheduler的管理UI，或通过jps检查Java进程是否存在。当一家企业有数百个调度环境时，不仅成本会很高，更重要的是，系统的可用性也会面临巨大的风险。</p><p>&nbsp;</p><p>值得注意的是，Kubernetes本身可以为部署类型标准化的有状态应用程序进行自动重启和恢复，甚至CRD（定制资源定义）本身也可以自动重启和恢复。当应用程序出现故障时，一个异常事件会被记录下来，然后重新拉取应用程序并重启，Kubernetes会记录Pod重启的次数，帮助技术人员快速定位故障。</p><p>&nbsp;</p><p>除了标准化的自我修复能力外，还有主动健康监测方法，即构建一个服务接口，通过livenessProbe主动探测正在运行DolphinScheduler的Pod，当检测到的故障超过重试次数后将自动重启Pod。此外，通过使用readinessProbe，Kubernetes集群可以在探针捕获到异常时自动切断到异常Pod的流量，并在异常事件消失后自动恢复到异常Pod的流量。</p><p><code lang=\"null\">livenessProbe:\n  enabled: true\n  initialDelaySeconds: \"30\"\n  periodSeconds: \"30\"\n  timeoutSeconds: \"5\"\n  failureThreshold: \"3\"\n  successThreshold: \"1\"\nreadinessProbe:\n  enabled: true\n  initialDelaySeconds: \"30\"\n  periodSeconds: \"30\"\n  timeoutSeconds: \"5\"\n  failureThreshold: \"3\"\n  successThreshold: \"1\"</code></p><p></p><h2>增强DolphinScheduler的可观测性</h2><p></p><p>&nbsp;</p><p>我们知道，Prometheus已经是云原生系统中监控工具的事实上的标准，将DolphinScheduler的标准监控纳入Prometheus系统对我们来说意义重大。Kube-Prometheus技术可以监控Kubernetes集群中的所有资源。有状态集合、命名空间和Pod是DolphinScheduler的三个主要资源特性。借助Kube-Prometheus技术可以自动实现对CPU、内存、网络、IO、复制等资源的日常监控，无需任何额外的开发和配置。</p><p>&nbsp;</p><p>我们利用Kubernetes中的Kube-Prometheus操作技术，在部署后自动监控DolphinScheduler各个组件的资源。但需要注意的是，<a href=\"https://github.com/prometheus-operator/kube-prometheus\">Kube-Prometheus的版本</a>\"需要与Kubernetes的主版本相对应。</p><p></p><h2>服务网格集成</h2><p></p><p>&nbsp;</p><p>作为数据服务提供者，DolphinScheduler将服务网格技术集成到内部服务治理系统中，实现了服务链接的可观察性管理。</p><p>&nbsp;</p><p>DolphinScheduler不仅需要一般的资源监控，还需要对服务调用链进行监控的技术。借助服务网格技术，实现了DolphinScheduler内部服务调用和DolphinScheduler API外部调用的可观测性分析，优化了DolphinScheduler产品的服务。</p><p>&nbsp;</p><p>此外，作为数据工具的服务组件，DolphinScheduler可以通过服务网格工具无缝集成到企业内部的服务模式中。它可以在不修改DolphinScheduler代码的情况下启用TLS服务通信、客户端服务通信重试和跨集群服务注册发现等功能。</p><p>&nbsp;</p><p>我们集成了Linkerd，将其作为我们的服务网格，它也是CNCF的一个优秀的项目。通过修改value.yaml文件中的annotations，并重新部署，就可以为master、worker、API、警报和DolphinScheduler的其他组件快速注入网格代理边车。</p><p><code lang=\"null\">annotations:\n  linkerd.io/inject: enabled</code></p><p>&nbsp;</p><p>你还可以观察组件之间的服务通信质量，包括每秒请求数。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/fd/fd770a6244435fb7c39d99505f28c0e0.png\" /></p><p></p><p></p><h2>加入云原生工作流调度能力</h2><p></p><p>&nbsp;</p><p>要成为真正的云原生调度工具，DolphinScheduler需要能够调度云原生作业流。</p><p>&nbsp;</p><p>由DolphinScheduler调度的任务都是在固定的Pod中执行的。在这样的模式下，对任务开发技术的隔离性具有较高的要求。</p><p>&nbsp;</p><p>特别是在Python语言环境中，一个团队中会有不同版本的Python基本包和依赖包，版本之间的差异甚至可能出现数百种组合。一个细小的依赖包差异将导致Python程序运行错误。这也是阻止DolphinScheduler运行大量Python应用程序的障碍。我们推荐下面的方法，快速将DolphinScheduler与Kubernetes作业系统集成，具有强大的任务隔离性和并发能力：</p><p>&nbsp;</p><p>使用标准的Kubernetes API提交作业。你可以直接通过kubectl命令或REST API提交任务。将kubectl命令文件上传到DolphinScheduler，并通过DolphinScheduler的shell任务来提交。使用Argo Workflows的Argo CLI命令或Rest API命令提交作业。</p><p>&nbsp;</p><p>无论是Kubernetes还是Argo Workflows，都需要添加watch功能，因为Kubernetes是异步的，需要等待任务完成。</p><p>&nbsp;</p><p>这里我们使用了Argo Workflows，我们可以在DolphinScheduler创建一个新的shell任务或步骤，并粘贴下面的命令。我们可以将普通的数据作业（如数据库SQL作业、Spark作业或Flink作业）和云原生作业组合在一起，执行一个更加全面的作业流。例如，这是一个Hive SQL任务，用于导出Web应用程序的用户点击数据：</p><p><code lang=\"null\">beeline -u \"jdbc:hive2://192.168.1.1:10006\" --outputformat=csv2 -e \"select * from database.user-click\" &gt; user-click.csv </code></p><p>&nbsp;</p><p>这个示例作业是一个Python Tensorflow任务，通过训练数据来构建机器学习模型。这个作业通过HTTP来运行。首先，我们运行作业：</p><p><code lang=\"null\">#通过HTTP执行Python Tensorflow作业\ncurl --request POST -H \"Authorization: ${ARGO_TOKEN}\" -k \\\n       --url https://argo.abc.com/api/v1/workflows/argo \\\n       --header 'content-type: application/json' \\\n       --data '{\n                \"namespace\": \"argo\",\n                \"serverDryRun\": false,\n                \"workflow\": {\n                \"metadata\": {\n                    \"name\": \"python-tensorflow-job\",\n                    \"namespace\": \"argo\"\n                },\n                \"spec\": {\n                    \"templates\": [\n                    {\n                        \"name\": \"python-tensorflow\",\n                        \"container\": {\n                        \"image\": \"tensorflow/tensorflow:2.9.1\",\n                        \"command\": [\n                            \"python\"\n                        ],\n                        \"args\": [\n                            \"training.py\"\n                        ],\n                        \"resources\": {}\n                        }\n                    }\n                    ],\n                    \"entrypoint\": \"python-tensorflow\",\n                    \"serviceAccountName\": \"argo\",\n                    \"arguments\": {}\n                   }\n                }\n               }'</code></p><p>&nbsp;</p><p>然后我们可以查看作业的信息和状态：</p><p><code lang=\"null\">#通过HTTP查看Python Tensorflow作业的和状态\ncurl --request GET -H \"Authorization: ${ARGO_TOKEN}\" -k \\\n       --url https:/argo.abc.com/api/v1/workflows/argo/python-tensorflow-job</code></p><p></p><h2>将文件系统从HDFS升级到S3</h2><p></p><p>&nbsp;</p><p>分布式算法是云原生赋能的一个领域，例如谷歌的Kubeflow技术，它完美地结合了TensorFlow和Kubernetes。分布式算法通常会使用文件，而S3是存储易于访问的大数据文件的事实上的标准。当然，DolphinScheduler还集成了MinIO技术，通过简单的配置即可实现S3文件管理。</p><p>&nbsp;</p><p>首先修改value.yaml文件的configmap部分，指定MinIO服务器。</p><p><code lang=\"null\">configmap:\n  DOLPHINSCHEDULER_OPTS: \"\"\n  DATA_BASEDIR_PATH: \"/tmp/dolphinscheduler\"\n  RESOURCE_STORAGE_TYPE: \"S3\"\n  RESOURCE_UPLOAD_PATH: \"/dolphinscheduler\"\n  FS_DEFAULT_FS: \"s3a://dfs\"\n  FS_S3A_ENDPOINT: \"http://192.168.1.100:9000\"\n  FS_S3A_ACCESS_KEY: \"admin\"\n  FS_S3A_SECRET_KEY: \"password\"</code></p><p>&nbsp;</p><p>MinIO中保存文件的桶的名字叫“dolphinscheduler”。用户通过DolphinScheduler UI上传的共享文件都保存在这个文件夹中。</p><p></p><h2>结论</h2><p></p><p>&nbsp;</p><p>作为新一代云原生大数据工具，DolphinScheduler有望在未来集成Kubernetes生态系统中更多优秀的工具和功能，以满足更多多样化用户群体和场景的需求。我们目前路线图中的一些项目包括：</p><p>&nbsp;</p><p>利用边车定期删除worker作业日志，实现轻松的操作和维护；与Argo Workflows进行更多的集成，用户可以通过API、CLI等方式在DolphinScheduler中调用Argo Workflows进行单个作业、DAG作业和周期性作业；使用HPA（水平Pod自动伸缩）自动伸缩DolphinScheduler组件，以实现更有弹性的运行环境和处理不确定的工作负载；集成Spark 和Flink Operator，实现全面的基于云原生的分布式计算；实现多云、多集群的分布式作业调度，强化无服务器和FAAS的架构属性。</p><p>&nbsp;</p><p>想要了解更多关于DolphinScheduler的信息，或者想要加入开发者社区，请通过我们的<a href=\"https://s.apache.org/dolphinscheduler-slack\">Slack</a>\"频道联系我们。</p><p></p><p>作者简介：</p><p>&nbsp;</p><p>Yang Dian是深圳城市交通规划中心的副总工程师。他目前的技术专长主要是关于数据算法平台实现和云原生转型。他曾参与中国顶级物流企业的IT架构咨询项目。</p><p>&nbsp;</p><p>原文链接：</p><p><a href=\"https://www.infoq.com/articles/cloud-native-apache-dolphinscheduler/\">Embracing Cloud-Native for Apache DolphinScheduler with Kubernetes: a Case Study</a>\"</p>",
    "publish_time": "2022-07-12 09:27:41",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "押注.NET是件好事",
    "url": "https://www.infoq.cn/article/UctWIdgVtkt5gUrFrL7w",
    "summary": "<p></p><p>作为一个在.NET上构建了不止一个流行平台的人，我经常被问到它的相关性，以及它是不是一个值得投入的生态系统。这个问题在旧金山湾区的技术世界里尤为流行，这里的技术潮流就像四季一样变更交替，但.NET始终是一个坚定、持续流行的平台。而在我看来，它还是最具整体生产力、最令人愉快和最易访问的平台。</p><p></p><p>这个世界上确实还有其他很棒的编程语言，比如Rust；还有其他很棒的App UX平台，比如Flutter。但说到全面的生产力和优雅，可能没有能与.NET一较高下的了。</p><p></p><p>今天的.NET已经不是老一辈的.NET了，在一年一度的StackOverflow开发者调查中，它连续3年成为最受喜爱的平台，这是有原因的。事实上，.NET Framework和新.NET Core的结合远远超过了其他所有东西。甚至可以说，在这些问卷调查的所有框架当中，.NET体现了最强烈的爱与恐惧的正面情绪。</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/0a/21/0a3f019bbedbe5205524e6d38f1ee221.png\" /></p><p></p><p></p><p>为了理解为什么开发者如此热爱.NET，让我们全面考察一下.NET的开发者体验。</p><p></p><p></p><h1>一流的工具</h1><p></p><p></p><p>首先是工具。Windows和Mac的Visual Studio为.NET提供了一流的支持，VS Code也为其提供了有限的支持（微软的一个疏忽，我们将在下面讨论）。它们代表了世界上使用率最高的IDE，事实上，VS Code是IDE的绝对统治者，使用人数是Visual Studio（位居第二）的两倍多。</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/48/a5/48ff1ef584a3e31a3b8b7646a566fca5.png\" /></p><p></p><p>JetBrains Rider被许多人认为是现有最好的IDE，它不仅与Visual Studio一样为.NET提供支持，而且在此基础上进行了相当大的改进，带来了可能是所有工具中最好的.NET工具体验。</p><p></p><p>工具本身是基于底层的平台功能（如健壮的一键式构建和部署系统）而构建的，提供了轻松的首次运行体验，开发者能够在几分钟内完成从平台安装到应用程序部署的过程。事实上，无需纠缠于复杂的工具链、构建文件或平台版本控制就能从零开始使用.NET来部署应用程序，这种能力已经为其他平台树立了标准，并提升了开发者对平台的忠诚度。</p><p></p><p></p><h1>随处运行</h1><p></p><p></p><p>就像20世纪90年代的Java梦一样，.NET也运行在所有的主流平台上，并拥有定制的集成工具来充分利用每一个平台。虽然它最初被锁定在Windows上，但在今天，它已经可以运行在Windows、macOS、iOS、Android、Linux、大型机甚至微控制器上。它也运行在云端，Azure、AWS和谷歌云都提供了内置的.NET应用程序支持。</p><p></p><p></p><h1>一系列优雅的编程语言</h1><p></p><p></p><p>公共语言运行时(CLR)是.NET的一个核心特性，开发者可以使用超过25种语言编写应用程序，包括C#和F#——世界上最好的两种编程语言，以及VB.NET——虽然人们喜欢调侃它，但它本身确实非常强大。</p><p></p><p></p><h1>强大的社区和开发者</h1><p></p><p></p><p>根据具体的计算方式，活跃的开发者数量在200万到250万之间。而根据我们自己的研究，世界上将近一半的活跃开发者知道或者正在用.NET。</p><p></p><p>自.NET诞生以来，开发者生态系统每年都在增长。因此，在难以招到开发人员的时候，你可以放心，.NET是最大的开发人才库之一。</p><p></p><p>它还在快速增长。最新的TIOBE编程语言指数显示，在过去的一年中，C#的受欢迎程度增长最快，有望进入前三，取代C语言。事实上，如果与VB.NET一起，它将轻松位居榜首。</p><p></p><p></p><h1>技术之美</h1><p></p><p></p><p>2016年的.NET Core重构对.NET进行了彻底的改造，提供了一种现代的、轻量级的、可组合的、点菜式的方式，直接通过Nuget从它的现代包生态系统中获取必要的平台库。它放弃了传统的Win32平台连接，融合了Mono和Xamarin团队在运行时和工具上带来的创新，为真正的跨平台体验铺平了道路。</p><p></p><p>.NET Core也带来了更好的性能。通过打破旧有.NET Framework运行时的限制，微软带来了一系列性能改进。</p><p></p><p>说到性能，Xamarin的预先编译器（现在已被纳入.NET）让开发人员可以直接在构建时为特定芯片架构的汇编代码编译出二进制文件，从而在内存托管的应用程序中实现原生的C/C++性能。</p><p></p><p>这种内在的内存托管方式也为可靠性和安全性带来了好处。从可靠性角度来看，它实际上消除了非托管应用程序（如用C/C++编写的应用程序）中常见的内存泄漏所造成的不稳定和崩溃。从安全性角度来看，内存托管平台的安全性消除了由内存使用引起的一系列安全问题，谷歌的安全数据显示，内存使用引起的Bug大约占所有非托管安全性的三分之二。</p><p></p><p></p><h1>百分百开源</h1><p></p><p><img src=\"https://static001.infoq.cn/resource/image/ff/ee/ff6ec962c8809127fc2b59f6137ba3ee.png\" /></p><p></p><p>.NET的所有东西都是开源的，可以免费使用，包括类库、运行时、编译器、编程语言和应用程序框架。你可以在GitHub上的<a href=\"https://github.com/dotnet?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NTc1OTI3NTcsImZpbGVHVUlEIjoiZnl1REI1UGlKN1F4a1pyNyIsImlhdCI6MTY1NzU5MjQ1NywidXNlcklkIjoyNDM2MDc5MH0.tK2xbjYpDDnb4guyXsPdgdxRLmHEt5PZK6nWKJ75RWg\">DotNet</a>\"存储库中找到所有的源代码。</p><p></p><p></p><h1>一流的生态系统</h1><p></p><p></p><p>除了微软的投入之外，第三方生态系统也非常庞大，拥有大量高质量的库、插件、工具和框架。</p><p></p><p>下面列出了几个非常引人注目的第三方集成的例子：</p><p></p><p><a href=\"https://platform.uno/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NTc1OTI3NTcsImZpbGVHVUlEIjoiZnl1REI1UGlKN1F4a1pyNyIsImlhdCI6MTY1NzU5MjQ1NywidXNlcklkIjoyNDM2MDc5MH0.tK2xbjYpDDnb4guyXsPdgdxRLmHEt5PZK6nWKJ75RWg\">Uno Platform</a>\"和<a href=\"https://avaloniaui.net/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NTc1OTI3NTcsImZpbGVHVUlEIjoiZnl1REI1UGlKN1F4a1pyNyIsImlhdCI6MTY1NzU5MjQ1NywidXNlcklkIjoyNDM2MDc5MH0.tK2xbjYpDDnb4guyXsPdgdxRLmHEt5PZK6nWKJ75RWg\">Avalonia</a>\"——两个成熟的MAUI替代解决方案，Uno Platform和Avalonia提供了一个优雅的、令人愉快的、高性能、跨平台UX框架。<a href=\"https://www.wildernesslabs.co/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NTc1OTI3NTcsImZpbGVHVUlEIjoiZnl1REI1UGlKN1F4a1pyNyIsImlhdCI6MTY1NzU5MjQ1NywidXNlcklkIjoyNDM2MDc5MH0.tK2xbjYpDDnb4guyXsPdgdxRLmHEt5PZK6nWKJ75RWg\">Meadow</a>\"——由Wilderness Labs开发，可以用它为运行在微控制器上的.NET构建物联网解决方案。<a href=\"https://www.telerik.com/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NTc1OTI3NTcsImZpbGVHVUlEIjoiZnl1REI1UGlKN1F4a1pyNyIsImlhdCI6MTY1NzU5MjQ1NywidXNlcklkIjoyNDM2MDc5MH0.tK2xbjYpDDnb4guyXsPdgdxRLmHEt5PZK6nWKJ75RWg\">Telerik</a>\"——几乎在任何平台上都可以使用的可插拔UI控件。</p><p></p><p>还有其他无数的咨询公司、解决方案提供商和.NET商店，它们都获得了构建.NET解决方案的认证和资格。</p><p></p><p></p><h1>受企业信任</h1><p></p><p></p><p>众所周知，.NET是企业的中流砥竿，虽然微软没有公开发布.NET的采用情况，但有95%的财富500强企业都在使用Azure。而且，我私下里也被告知，至少80%的财富500强企业在使用.NET，但实际数字可能更高，因为遥测技术经常会被关闭。</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/74/9e/7436a1eecd9aea6326ef69b06405c89e.png\" /></p><p></p><p>.NET尤其适用于关键任务型应用程序，在这些应用程序中，.NET的可靠性和久经考验的运行时让人心情舒畅。事实上，美国国防部在广泛使用.NET。</p><p></p><p></p><h1>它并不完美</h1><p></p><p></p><p>尽管.NET有这些神奇之处，但它并不完美。我要指出的是，尽管微软用它提供了这么多好东西，但它也有缺点。其中，大部分直接归因于微软内部优先级的转变，以及领导团队一直在艰难地跟上一线的开发者文化。</p><p></p><p>MAUI是微软的旗舰跨平台UI库，Xamarin的继承者，同时也结合了之前的Windows UI框架WPF，但长期以来资金不足，这使得Flutter成为当今最好的跨平台UX平台。在Linux平台上尤其如此，因为Linux目前还不支持MAUI。</p><p></p><p>同样是这些领导团队，他们有时候也错误地处理了与社区的关系，缺失方向感的.NET基金会和Hot-Reload的惨败就足以证明。</p><p></p><p>优先级转变也可能是限制为VS Code提供支持的原因，虽然有了基本的.NET支持，但仍然缺少适当的插件来处理.NET的多项目解决方案格式，而这对于支持更复杂的项目来说是必要的。这是由于微软一直以来优先将.NET开发者引向Visual Studio的销售，以此来实现变现，而不是为他们提供免费的VS Code。</p><p></p><p>话虽如此，很明显，微软内部的优先级正在转移到提供更好的跨平台工具支持上，而且我听说一个完整的VS Code解决方案正在进行当中。</p><p></p><p></p><h1>结束语</h1><p></p><p></p><p>然而，即使有一些小缺点，.NET仍然可以轻松地成为世界上最高效、最值得信赖的开发者平台生态系统。没有什么比.NET更完整、更开放、更高效的平台了。</p><p></p><p>所有迹象表明，在可预见的未来，.NET将继续保持这种态势，因为它将继续发展，团队和生态系统将继续创新。因此，把赌注押在.NET上是件好事！</p><p></p><p>原文链接：</p><p></p><p><a href=\"https://medium.com/@bryancostanich/its-good-to-bet-on-net-c22853f501c7?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NTc1OTI3NTcsImZpbGVHVUlEIjoiZnl1REI1UGlKN1F4a1pyNyIsImlhdCI6MTY1NzU5MjQ1NywidXNlcklkIjoyNDM2MDc5MH0.tK2xbjYpDDnb4guyXsPdgdxRLmHEt5PZK6nWKJ75RWg\">https://medium.com/@bryancostanich/its-good-to-bet-on-net-c22853f501c7</a>\"</p>",
    "publish_time": "2022-07-12 10:42:58",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "Apache EventMesh 如何解决SaaS组合式应用集成标准化问题",
    "url": "https://www.infoq.cn/article/SveE8wdobh3jKB7GOwNJ",
    "summary": "<p><strong>直播简介</strong><br />\n在 SaaS 新时代下，业务适应性需求引导企业转向支持快速、安全和高效应用变化的技术架构。组合式应用作为加速数字化的关键技术，是 Gartner 在 2022 年的重要战略技术趋势之一，它由以业务为中心的模块化组件构建而成，使技术和业务团队可以更敏捷、更有效地重用代码。组合式应用需要面临的一个难题是如何解决各个应用之间的集成标准问题，比如应用可能仅支持 HTTP、TCP 等协议中的一种，而缺乏统一的通讯标准就给业务落地该架构带来了困难。本次公开课，我们将着重介绍 Apache EventMesh 如何解决这一问题。</p>\n<p><strong>听众受益</strong></p>\n<p>探讨云计算的主流技术，洞察 IT 行业方向<br />\n认识和了解 SaaS 集成数字化新时代下，如何利用统一协议更好实现组合式应用，如何利用事件驱动架构解决 SaaS 应用集成问题。</p>\n<p><strong>适合人群</strong><br />\n云原生和微服务应用开发者</p>",
    "publish_time": "2022-07-12 15:20:03",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "Apache EventMesh 如何解决SaaS组合式应用集成标准化问题 | InfoQ《公开课》",
    "url": "https://www.infoq.cn/article/SveE8wdobh3jKB7GOwNJ",
    "summary": "<p><strong>直播简介</strong><br />\n在 SaaS 新时代下，业务适应性需求引导企业转向支持快速、安全和高效应用变化的技术架构。组合式应用作为加速数字化的关键技术，是 Gartner 在 2022 年的重要战略技术趋势之一，它由以业务为中心的模块化组件构建而成，使技术和业务团队可以更敏捷、更有效地重用代码。组合式应用需要面临的一个难题是如何解决各个应用之间的集成标准问题，比如应用可能仅支持 HTTP、TCP 等协议中的一种，而缺乏统一的通讯标准就给业务落地该架构带来了困难。本次公开课，我们将着重介绍 Apache EventMesh 如何解决这一问题。</p>\n<p><strong>听众受益</strong></p>\n<p>探讨云计算的主流技术，洞察 IT 行业方向<br />\n认识和了解 SaaS 集成数字化新时代下，如何利用统一协议更好实现组合式应用，如何利用事件驱动架构解决 SaaS 应用集成问题。</p>\n<p><strong>适合人群</strong><br />\n云原生和微服务应用开发者</p>",
    "publish_time": "2022-07-12 15:20:03",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "OneFlow创始人袁进辉：要获得机会，需要颠覆式创新",
    "url": "https://www.infoq.cn/article/lX9Qm6fFuNuYx3ZCOUqp",
    "summary": "<p></p><p>经过多年发展，全球开源项目数量呈指数级增长。GitHub年度报告显示，截止2019年GitHub的托管仓库有1.4亿量，2012年新增仓库4400万个，预计2026年数量会超过3亿。</p><p>&nbsp;</p><p>截止2021年，GitHub上来自中国的开发人数达到了755万。开源正在向各行业渗透，其中占比最多的行业分别是互联网、网络安全、制造业、工业与机器人行业。但综合企业参与度、开发者投入、社区成熟度、开源法制建设的完善程度等方面来看，我国开源软件处于起步阶段。</p><p>&nbsp;</p><p>因此，九合创投与「清华五道口全球创业者项目」近期联合举办了线上私享会，共同探讨了开源带来的创新和商业机会。</p><p>&nbsp;</p><p>在分享会上，身处AI领域的一流科技OneFlow创始人袁进辉表达了自己的观点。他表示，目前人工智能行业的基础设施软件基本是大公司主导。国外是谷歌的TensorFlow，获得了开源社区认可，击败了微软和亚马逊，却又因为同样的原因被&nbsp;Facebook的Pytorch后来者居上。在国内，则有百度、华为、旷视和一流科技OneFlow相继开源了自己的项目。</p><p>&nbsp;</p><p>袁进辉认为，国内已经有了一些深度学习框架的解决方案，但是市场竞争的问题始终没有解决。“在全球范围内，主流框架还是Facebook和谷歌的，国内框架要在市场上‘杀’出来，还有很长的一段路要走。”</p><p>&nbsp;</p><p>过去几年，国内绝大部分公司的定位是做AI算法供应商，即凭借自己在某些AI算法上的优势提供技术和服务。但这种方式在近两年暴露出了很多问题，其中突出的就是可能公司上市后仍没有解决的商业盈利问题。</p><p>&nbsp;</p><p>由于算法涉及大量的领域知识，需要定制开发，所以很多企业会选择外包模式。但AI技术是通用技术，越来越普惠化，特别是开源打破了很多技术壁垒。现在，越来越多的人相信基础设施层面蕴藏着巨大的商机，AI产业也不外如是。</p><p>&nbsp;</p><p>基础设施的壁垒足够大，而且越往底层标准化程度越高，意味着开发一套基础设施软件就能服务各种场景和地域的用户。</p><p>&nbsp;</p><p>但在袁进辉看来，新项目如果没有创新就一点机会都没有。比如在TensorFlow存在的前提下，做一个和TensorFlow类似的开源产品，投入巨大不说，可能也不会成功。其次，微小的创新是不够的。比如，某项目仅在某一点上做得比TensorFlow好不足以扭转生态局势，因为生态强大的TensorFlow很容易学会这个微小的创新，其他人也会将其拷贝到TensorFlow上。</p><p>&nbsp;</p><p>要获得机会，需要颠覆式创新。“在PyTorch崛起之前，大部分人都觉得这就是谷歌的市场了，但PyTorch还是用自己颠覆式的创新证明了市场还没有收敛，终态还没有出现。只要更有创新、前瞻性、突出性，还是能够打败像谷歌这么强大的对手的。”</p><p>&nbsp;</p><p>基于以上思考，袁进辉认为，OneFlow的未来在分布式，而其在分布式上最大杀手锏就是通过技术创新彻底解决深度学习框架的效率问题。</p><p>&nbsp;</p><p>&nbsp;</p>",
    "publish_time": "2022-07-12 16:06:02",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "在我们看来，数字化转型之路已经明晰",
    "url": "https://www.infoq.cn/article/xcGOTqX6kvWPcczM1uaN",
    "summary": "<p>过去几年里，有很多关于数字化转型的文章和讨论。人们普遍认为，它能使企业拓宽线上业务，在现有和新兴市场中变得更具颠覆性。然而，作为实践领域的数字化转型究竟是什么，人们在认识上还有很大的模糊性，而且也不一致。对于在数字化转型环境中，什么样的技术创新是它和自动化解决方案的主要区别，人们也还没有一个清晰的认识。</p><p>&nbsp;</p><p>如果实践、模式和技术架构都没有具体的定义，组织就很难确定他们正在计划或正在进行的到底是不是真正的数字化转型。</p><p>&nbsp;</p><p>这一点很重要，因为数字化转型举措通常成本高昂、影响深远，需要在自动化、基础设施、培训、通信及业务流程重组和优化方面进行投资和变革。在进行这些投资时，利益相关者对数字化转型工作应带来的好处和改进会有一定的期望。</p><p>&nbsp;</p><p>这些期望可能源于媒体的炒作、供应商的宣传或对组织业务需求及其市场和可实现目标的合理分析和评估。通常情况下，期望来自这些因素及其他因素的综合作用。问题是，如果对如何进行或应该如何进行数字化转型存在一定程度的不确定性，那么达到预期效果的概率就会很低。</p><p>&nbsp;</p><p>好消息是，数字化转型领域已经成熟。现在，已经有了明确的目标、标准和模型，<a href=\"https://youtu.be/JM7LWKi7iNc\">准确地指出了“平常”的数字化转型是什么以及不是什么</a>\"。这就设定了一个起点，让我们可以据此确定总体目标、标准和模型的哪些部分和我们有关，可以适用于自己企业独有的业务目标、约束条件和发展潜力。</p><p></p><h2>数字化转型不仅仅是业务和技术的转型</h2><p></p><p>已经有充分的证据表明，数字化转型引入的新技术，使我们能够改善和优化业务运营自动化的方式。这是许多此类举措的主要关注点，寻求业务改进时通常会强调：</p><p>扩大和改善组织的线上版图增强客户体验&nbsp;精简运营流程，更快速地提供更便宜的产品和服务</p><p>&nbsp;</p><p>人们往往忽视的是，其他形式的内部转型对于实现这些目标的必要性。</p><p>&nbsp;</p><p>改善和发展公司在现有数字市场上的在线业务，在很大程度上依赖于优质数据智能的创建和数据科学系统的成功应用（下文有解释）。这些改善要求我们大幅改变使用、获取、管理和存储数据的方式。</p><p>&nbsp;</p><p>通常，为了真正地提高客户体验，使我们在已处于高度竞争状态的数字市场中更具竞争力，我们内部需要实现从以产品为中心向以客户为中心的过渡。这可能会推动企业走出舒适区，改变内部组织结构和等级制度，打破以产品为中心的部门孤岛，以便在新的业务和自动化流程中真正达到以客户为中心所需的协同合作水平。</p><p>&nbsp;</p><p>例如，一家拥有一系列金融产品的银行提供了其中几个相互独立的产品。客户可以登录他们的网上银行门户，查看自己的账户信息以及相关的信用卡活动。这很好，因为一目了然，客户可以看到什么时候需要从账户中转移资金来支付信用卡欠账。</p><p>&nbsp;</p><p>然而，他们从银行获得的另一款产品是退休储蓄计划，他们需要全年都向里面存钱。他们还可以从银行购买的另一款产品是面向有可支配收入群体的投资产品。这些产品都不能通过他们的储蓄账户门户访问，甚至都看不到。</p><p>&nbsp;</p><p>这是因为银行要求客户为这些产品中的每一种创建单独的在线账户，并使用单独的登录凭证。此外，这些门户网站是由不同（以产品为中心的）部门设计的，它们各自提供的在线体验也不同于储蓄账户门户网站。这对客户来说是一种负担，同时也浪费了银行提高客户中心化能力和产品交叉营销的机会。</p><p>&nbsp;</p><p>正如采用以客户为中心的理念可能需要组织文化和思维方式的转变一样，随数字化转型举措而来的技术提升也是如此。因为它们可以极大地提高组织的业务自动化程度，那些已经成为既定操作流程一部分的人类工作者会发现，他们的角色受到了影响甚至被淘汰了。</p><p>&nbsp;</p><p>行动项：组织转型通常是数字化转型中最被低估的部分。一个关键的成功因素是仔细规划如何将组织文化转变为支持数字化的文化。这是领导层的责任。它需要人力资源部门的预先规划和强有力的沟通活动，以获得员工的早期认同，以及一个可靠的计划，将受影响的员工重新分配到更有意义的角色上。对于组织结构需要向什么方向转变，它也要有明确的预期。</p><p></p><h2>数字化转型依赖于新旧技术的结合</h2><p></p><p>通常，有一些特定的自动化技术与数字化转型相关，包括云计算、机器人流程自动化（RPA）、物联网（IoT）和区块链。还有三个核心的数据科学系统（常用于数据处理、分析）会被纳入数字转型解决方案。这包括大数据分析、机器学习和人工智能（AI）系统。</p><p>&nbsp;</p><p>其中，有几项技术是在数字化转型成为主流话题之前就已经在使用的成熟技术。这是件好事，因为它们已经发展成为强大的、功能丰富的平台，现在可以为支持数字化转型目标的解决方案打下坚实的基础。</p><p>&nbsp;</p><p>在构建数字化转型解决方案时，实际上只需要那些与企业业务需求相关的技术。数字化转型解决方案的不同之处，不在于它采用了哪些技术，而在于如何将它所需要的技术组合起来，形成一个能够实现既定业务目标的解决方案架构，其中许多目标将与强化以客户为中心有关。</p><p>&nbsp;</p><p>例如，组织决定通过使用RPA将更多的业务任务自动化。它还希望将一些低风险的决策责任委托给人工智能系统，优化关键业务流程，从而提高面向客户的在线环境的客户中心化水平。然而，这引发了安全方面的担忧，即我们是否已经清楚地了解了与人工智能相关的所有潜在风险，特别是大部分决策将是对（可能无法预测的）客户互动的反应，其中还有一些可能是欺诈性的。商业收益似乎仍然超过了安全风险，但需要考虑到不恰当的决策可能造成的损失。</p><p>&nbsp;</p><p>除了采取其他网络安全措施外，该组织还建立了一个不可变的分布式账本，作为私有区块链实现的一部分，目的是记录涉及人工智能决策逻辑的每个客户互动和交易。然后定期对该记录日志进行审计，为评估过去的人工智能决策提供输入（以确定人工智能系统是否因决策不当而造成不合理的损失），并帮助识别和评估可能发生的潜在欺诈行为（同时确定这些行为对人工智能决策逻辑造成的损失）。</p><p>&nbsp;</p><p>行动项：作为数字化转型举措的一部分，技术采用的规模和影响通常比大多数人所习惯的要大，主要是因为我们不仅要改造IT企业的某些部分，而且还要引入由重型系统组合而成的全新技术架构环境。除了在规划和引入新技术创新时做好调查之外，对于数字化转型举措，我们需要格外小心，不要被过度自动化所诱惑。为了提高生产力和客户中心化水平，在对业务流程进行重新设计和优化时，要考虑实际问题，并且要抓住机会首先证明某项改进对客户确实有效，然后再在此基础上进行改进。如果我们过早地实现了自动化，那么无论从财务上还是从组织上来说，回退都将非常痛苦。制定一个分阶段的方法可以避免这种情况。</p><p></p><h2>成功的数字化转型对数据科学有多大的依赖</h2><p></p><p>也许，数字化转型最突出的特点是，与之前的任何业务运营和IT企业实体相比，我们构建的解决方案和环境更加以数据为中心，更加依赖于数据驱动。</p><p>&nbsp;</p><p>我们使用的数据范围也不再局限于内部存储库。大量的数据是从外部数据源收集的，有的单独处理，有的和我们自己的数据一起处理，为的是生成非常有洞察力而又容易理解的分析结果。有了适当的技能组合，在加上对数据科学技术的合理整合，我们最终会得到一种新型的企业资产，即数据智能。</p><p>&nbsp;</p><p>我们生成的数据智能可能会被提供给决策者，不仅提供事实和选项，而且还提供基于深度分析的准确预测和建议。数据智能进一步为我们提供了将更多业务决策委托给数据科学逻辑的机会。具体来说，我们可以授权人工智能系统自主执行决策，从而将由最新数据智能生成的指令实时发送到我们的自动化解决方案中。</p><p>&nbsp;</p><p>我们的解决方案能够独立做的决策更多了，而且，有高质量的数据智能提供保障，损失风险也在合理范围内，这就提供了超越他人的机会。数据智能为人类决策者提供指导，如果能正确地生成并恰当地解释，就会成为数字化组织管理的无价之宝。</p><p>&nbsp;</p><p>例如，一家传统上只向零售商店销售玩具的玩具公司现在瞄准了教育领域。该公司相信，得益于其在数字化转型方面的投资，他们不仅可以在网上向学校销售搭建玩具，而且还计划推出一款在线应用，让孩子们利用他们的玩具分享和合作搭建。</p><p>&nbsp;</p><p>传统上，教育市场对该公司来说是很难进入的，因为这个市场由较大的组织主导，与学术界有着长期的关系。然而，这家玩具公司新成立的数据科学部门从数据智能报告中获得了深刻的见解，他们看到了自己公司可以填补的关键市场缺口，以及现有教育供应商在明年会继续忽视这一缺口的预测。这些信息给了玩具公司信心，当它带着自己的产品进入市场时，不仅会取得初步的成功，而且竞争对手也没做好回应准备，这将给玩具公司进军这一市场提供良好的开端。</p><p>&nbsp;</p><p>行动项：数据科学增强极具吸引力。我们可能形成对数据智能的深度依赖，因为它改变了我们管理和运营企业的方式，并进一步改变了客户体验及与我们互动的方式。这种依赖源于我们将数据科学技术作为业务自动化技术架构的核心部分，并进一步作出长期承诺，保证我们现在构建的东西可以成功地治理和发展。如若不然，这种依赖会将我们的业务引向错误的方向。因此，一个关键的成功因素是确保团队具有适当的技能，可以恰当、成功地集成（和维护）数据科学技术，并生成（和演进）准确的数据智能。</p><p></p><h2>数字业务市场的客户中心化是什么</h2><p></p><p>最终，我们在数据科学方面的大部分投资可能会集中在客户数据智能上。关于客户喜欢什么、做了什么、他们的行为方式以及趋势、他们的兴趣以及全球性事件可能对他们产生什么影响。虽然我们投入了大量的精力，转变我们的组织结构，设计自动化解决方案以实现更高程度的客户中心化，但所有这一切都将依赖于成功地收集和维护以客户为中心的数据。</p><p>&nbsp;</p><p>我们从客户数据智能获得的洞察力会影响业务的许多方面。我们专注于增强业务流程，减少交易类步骤，增加关系价值行为，有助于促进客户的长期忠诚。我们希望在每次客户互动中加入不同类型的“温暖”，从而进一步确保关系的长期保持。沟通式温暖、主动式温暖、奖励式温暖以及超越式温暖，这些都是精心设计的客户互动工作流的特色，而依据是数据科学系统以及它们持续生成的客户数据智能。</p><p></p><h2>数字化转型要实现什么</h2><p></p><p>本节谈下期望。很多关于数字化转型的宣传其实都是有道理的。它能真正改变我们的业务、我们的组织、我们的文化以及我们的客户关系。本文只涉及了那些具体而合理的构建块，我们现在可以组装这些模块来发展和维护由这些转换产生的数字赋能环境。</p><p>&nbsp;</p><p>但是，我们能做什么，不能做什么，在很大程度上取决于时机。成功实现数字化转型的组织主要有两类。</p><p>在所在行业中率先进行数字化转型的公司——在这种情况下，数字化转型可以使该公司的市场表现优于其他公司，并以自己的方式打入新市场。无论是哪种情况，这样的公司都是在成功地颠覆现状。这就是数字化转型的标志。在已经存在活跃的、具有数字化能力的竞争对手的市场上进行数字化转型的公司——如果一家处于追赶者地位的公司找到了比其他公司更成功的数字化转型和创新方法，它仍然可以具有颠覆性。然而，更常见的情况是，它赶上了竞争对手，或至少有能力保留足够的客户以保持活力。</p><p>&nbsp;</p><p>数字化市场的严酷现实是，那些在转型方面做得比较好的企业将胜过其他没有转型的企业。这表明，不仅要通过数字化转型变成颠覆性组织，而且还要通过持续的转型来保持甚至随着时间推移获得更多的市场份额。</p><p></p><h2>数字化转型前路漫漫</h2><p></p><p>尽管我们现在知道，数字化转型已经成熟，但毫无疑问，它还会继续发展，我们要为此做好准备。这是一个涉及面非常广的领域，包括许多实践、策略和技术，而且，所有这些都将继续得到加强和优化。</p><p>&nbsp;</p><p>那些数字化转型的先锋企业要继续进行数字创新，挖掘利用数据智能的机会，以保持他们的地位和市场。那些后进的企业现在可以成为更积极的开拓者，在那些可能已经自满的企业面前大步前进。</p><p>&nbsp;</p><p>商业市场的竞争并不新鲜。但我们现在知道，在数字商业市场中，我们可以变得更有竞争力。对许多人来说，这是一种非常具有建设性的认识。</p><p></p><p>作者简介：</p><p>Thomas Erl是一位IT畅销书作家，也是<a href=\"http://informit.com/authors/bio/f8d115ad-20cc-4d42-ad99-7e349d34f90d\">Pearson Digital Enterprise Series from Thomas Erl</a>\"的系列编辑。Thomas已经撰写和与人合著了15本图书，由Pearson Education和Prentice Hall出版（致力于当代商业技术和实践）。Thomas的最新著作《数字化转型实战指南》也被正式引入了数字化转型专业课程。</p><p>&nbsp;</p><p>你可以观看<a href=\"https://www.youtube.com/channel/UCMNVDTGTs8z5WoJpeEvlbXg\">Thomas Erl的YouTube频道</a>\"。他是<a href=\"http://open.spotify.com/show/1YYsRLCxJQHBgOTUSMQnJ7\">“真正的数字化转型”系列播客</a>\"的主持人。他会定期在<a href=\"https://www.linkedin.com/newsletters/the-digital-enterprise-6909573501767028736/\">LinkedIn每周简讯《数字化企业》</a>\"上发表文章。</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>原文链接：</p><p><a href=\"https://www.infoq.com/articles/digital-transformation-clarity/\">What We Now Know: Digital Transformation Reaches a Point of Clarity</a>\"</p>",
    "publish_time": "2022-07-12 16:12:14",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "亿万富翁给妻子捐5亿美元科研经费；印度冻结vivo资金近4亿元；马云赴荷兰学“种地” ；红客联盟宣布解散|AI一周资讯",
    "url": "https://www.infoq.cn/article/CG7EIqdNJKtJBNfXXA3D",
    "summary": "<p></p><p></p><blockquote>TikTok承认，部分中国员工可以访问美国用户数据信息；极狐 (GitLab) 发布澄清声明：产品的基础设施和数据均独立存放于中国境内；马斯克明确表示，将终止收购推特，但“分手费”或高达66亿美元；腾讯数据安全回应产品线裁撤传闻；微软云计算副总裁将离职，曾被指辱骂员工；Gartner《云AI开发者服务关键能力报告》：BAT入围全球前十......</blockquote><p></p><p></p><h2>资讯</h2><p></p><p></p><h4>TikTok承认，部分中国员工可以访问美国用户数据信息</h4><p></p><p>近日，TikTok的数据安全问题再次引发关注。多名参议员分别致信美国财政部及TikTok CEO，要求澄清美国用户数据的访问权与中国政府是否能够获得用户数据等相关情况。</p><p></p><p>7月3日，TikTok首席执行官周受资在回复九名美国参议员的信函中说，美国以外的员工，包括中国员工，在通过具有强大网络安全控制的美国团队给予授权批准后，可以访问美国用户的数据，包括公开视频和评论，但强调这些信息没有与中国政府共享。</p><p></p><p>7月3日晚间，TikTok高管在接受CNN电视专访时表示，TikTok正在与甲骨文开展数据安全合作，并强调从未与中国政府分享美国用户数据，回应近期部分美政客对TikTok安全的担忧。</p><p></p><p>“我们从未、也不会向中国政府共享信息，更重要的是，TikTok美国用户数据访问权由美国安全团队管理。”TikTok美国公共政策负责人贝克曼（Michael Beckerman）在当晚的电视专访中表示。贝克曼表示，“尽管TikTok是一个全球的App，美国用户能看到的几乎所有视频都是从美国国内制作的，这也是为什么TikTok这么流行的原因。”</p><p></p><h4>极狐 (GitLab) 发布澄清声明：产品的基础设施和数据均独立存放于中国境内</h4><p></p><p>7 月 1 日，知乎作者「锦山新峰」在「<a href=\"https://zhuanlan.zhihu.com/p/536279450\">扒一扒极狐GitLab的底裤</a>\"」一文中对极狐 (GitLab) 提出了 4 点质疑：</p><p></p><p>中外合资 3.0 模式下的极狐公司真的拥有决策权吗？不容遗忘的 GitLab 黑历史；进军中国，GitLab 目的何在？信息安全是国家底线。</p><p></p><p>7 月 5 日，极狐 (GitLab) 针对知乎作者「锦山新峰」的质疑发布了<a href=\"https://zhuanlan.zhihu.com/p/537678422?utm_source=wechat_timeline&amp;utm_medium=social&amp;utm_oi=44745820733440\">澄清声明</a>\"。极狐 (GitLab) 表示，「锦山新峰」此前发布的一篇关于极狐 (GitLab) 的文章「<a href=\"https://zhuanlan.zhihu.com/p/536279450\">扒一扒极狐GitLab的底裤</a>\"」，对该司的描述严重失实，并利用部分不实或具有诱导性的错误表述，来达到混淆视听和不当传播的效果。极狐公司声明，极狐公司是一家合法、合规的中国企业；开源有多种路线，极狐走的是自主可控 3.0 路线；中国开源的发展需要的是合作，而不是抹黑。</p><p></p><h4>涂鸦智能回港二次上市，2022年1季度营收超5000万美元</h4><p></p><p>继去年3月登陆纽交所之后，今年7月5日，涂鸦智能采用双重主要上市的方式在港交所IPO，收盘时总市值111.66亿港元（约14.23亿美元），较纽交所上市当天收盘时总市值跌去90%。</p><p></p><p>涂鸦智能是物联网云开发平台，营收超七成来自于物联网PaaS（平台即服务），其余来自，智能设备分销、SaaS（软件即服务）及其他。相关数据显示，涂鸦智能在全球智慧家居和智能商业物联网PaaS行业市场份额第一。</p><p></p><p>财务数据显示，2019-2021年，涂鸦智能营收从1.06亿美元增长到3.02亿美元，经调整净亏损从6525.7万美元扩大到1.09亿美元。2022年一季度，涂鸦智能营收5532.4万美元，经调整净亏损3729.7万美元。</p><p></p><h4>图森未来联合创始人黄泽铧离职创业</h4><p></p><p>图森未来再现高管变动。</p><p></p><p>据36氪报道，图森未来联合创始人兼工程副总裁黄泽铧已于2021年10月份离职，将于卡车领域创业。黄泽铧对此回应36氪称，目前处于创业初期，不便过多回应。</p><p></p><p>天眼查显示，今年4月，黄泽铧成立了一家名为“零一智卡”的公司。据业内人士表示，零一智卡的方向是为自动驾驶软件公司提供卡车硬件，成为国内卡车界的“蔚小理”。</p><p></p><p>资料显示，黄泽铧硕士毕业于卡内基梅隆大学机器人学专业，拥有8年计算机视觉研发经验。2015年3月正式以联合创始人身份加入图森未来，向现任CEO侯晓迪汇报，是图森未来北美一号员工；此外还担任图森未来工程副总裁一职，主要负责自动驾驶车辆硬件业务。</p><p></p><p>自2021年4月，图森未来在美国纳斯达克上市以来，图森未来已有三位高管相继离职。</p><p></p><p>今年3月3日，图森未来总裁、CEO和董事会成员，吕程辞去公司职务。同日，图森未来联合创始人陈默辞去执行董事长一职，但将继续担任董事会董事。今年6 月 10 日，图森未来联合创始人兼前执行董事长陈默宣布，将创立专注于研发、设计、制造和销售可搭载 L4 级别自动驾驶功能的氢燃料重卡及加氢基础设施服务的新公司“HYDRON”。</p><p></p><h4>微软云计算副总裁将离职，曾被指辱骂员工</h4><p></p><p>近日，微软云计算副总裁汤姆·基恩TomKeane表示，他将离开工作了21年的这家软件巨头公司。基恩在微软的九年时间里，主要负责监督微软Azure云基础设施，从事数据中心扩展和安全等项目。最近，他一直在负责技术工作，帮助微软的云计算业务进入5G和太空等新领域。在他离职之前，《内幕(Insider)》杂志曾于5月份的一篇报道中指责基恩辱骂员工。</p><p></p><h4>Gartner《云AI开发者服务关键能力报告》：BAT入围全球前十</h4><p></p><p>近日，Gartner公布了《云AI开发者服务关键能力报告》，该报告针对谷歌、亚马逊、微软、阿里巴巴等主要云AI服务商进行评估排名。阿里、百度、腾讯三家中国企业进入前十位，多家官媒认为，这意味着中国企业在人工智能领域进入了世界第一梯队。其中，阿里在语言AI领域的六个评分项目中，获得了语音识别、语言理解等四个项目的最高分，总分排名全球第二。这是中国企业在该领域取得的最好成绩。报告提到，云计算能降低AI研发的门槛，因此，云服务商的优势越来越明显，正成为AI研究的主流。</p><p></p><h4>印度封锁vivo119个账户以及3.9亿资金</h4><p></p><p>7月7日，印度执法局（ED）发布声明称，已突击检查了vivo及其关联公司48处经营地点，发现vivo将约一半的本地营业额（6247.5亿卢比）汇往境外，主要是中国。印度执法局认为，此举涉嫌违反《防止洗钱法案》（PMLA），因此封锁了vivo的119个银行账户，并冻结约46.5亿卢比（约合3.9亿元人民币）的现金等资产。</p><p></p><p>近半年来，印度对中资企业的税务及合规性调查不断。今年1月，小米被追缴65.3亿卢比（约5.6亿元人民币）的税款，后又在4月被冻结7.25亿美元（后解除冻结）。华为、OPPO、一加等企业均在印度遭遇了执法人员突击上门、翻查台账。</p><p></p><p>据悉，自2020年以来，印度加强了对中国公司的审查，禁止了200多款由中企提供服务的移动应用程序，包括阿里的速卖通、字节跳动的 TikTok、腾讯的 Wechat 等。</p><p></p><h4>马斯克明确表示，将终止收购推特，但“分手费”或高达66亿美元</h4><p></p><p>马斯克对推特的收购案再生变故。</p><p></p><p>当地时间7月8日，马斯克向美国证券交易委员会（SEC）和推特法务部门发了一封信，明确表示将终止440亿美元并购推特的协议。</p><p></p><p>在发布的信件中，马斯克方面表示，推特严重违反了合并协议的多项规定，做出了虚假和误导性陈述，导致其可能遭受公司重大不利影响。因此，马斯克决定终止这项合并协议。而除了一直被马斯克挂在嘴边的“垃圾机器人”问题，他还从推特公司运营的层面“挑刺”。马斯克表示，推特近期冻结招聘，解雇了公司高级管理人员和三分之一的人才招聘团队，这违反了推特“基本保持其当前业务组织的物质组成部分完好无损”的义务。马斯克认为，这是对并购协议的“重大违反”。</p><p></p><p>不过，如果马斯克选择退出交易，可能会引发一场法律战。根据相关条款，若马斯克放弃收购推特，需要向推特支付 10亿美元（约人民币66亿元）的违约金。</p><p></p><p>这笔收购案自宣布以来已经多次生变。4月25日，马斯克宣布以440亿美元收购社交平台推特，但在5月13日，他突然宣布收购计划“暂时搁置”，并要求推特方面公布垃圾邮件和虚假账户数量的详细信息。</p><p></p><h4>马云赴荷兰学“种地”，有意在戈壁大力发展农业</h4><p></p><p>7月6日，世界公认的顶级农业科研机构荷兰瓦格宁根大学官网披露的信息显示，7月2日，马云基金会创始人、阿里巴巴集团联合创始人、前执行董事长马云到访WUR(瓦格宁根大学)。</p><p></p><p>据悉，马云访问WUR的目的是深入交流和探讨畜牧业和渔业的新技术。参观期间，他对WUR广泛的研究课题和最先进的研究设施印象深刻。马云在交流中谈及未来有意在戈壁上大力发展农业。他称接下来，他自己的时间和精力会完全投入到农业领域，包括在戈壁沙漠种植农作物。马云还对如何让农业吸引年轻人才以及如何可持续地生产粮食表现出了兴趣。</p><p></p><h2>AI开源工具</h2><p></p><p></p><h4>Meta开源NLLB-200：可以高质量机器翻译世界上200多种语言</h4><p></p><p>7月6日，Meta 对外宣布，该公司已经构建并开源了 No Language Left Behind （NLLB）。</p><p></p><p>该AI系统可以高质量翻译世界上多达200种语言，除了主流语言外，其中还包含多达55种非洲系语言。并且，其能在该公司的APP中每天实现250亿次以上的翻译，因为该模块使用“世界最快AI超级计算机”。</p><p></p><p>Meta 表示，这是全球第一个以单一模型对应多数语言翻译的设计，希望借此能够帮助更多人在社群平台上进行跨语言互动，同时，也能提高在未来元宇宙中的互动体验。</p><p></p><p>NLLB-200 AI 模型不仅将应用于 Meta 旗下的 Facebook、Instagram 平台，Meta 还对外开源 NLLB-200 AI 模型，并向非营利机构提供 20 万美元补助金，借此推广 NLLB-200 AI 模型的实际应用。</p><p></p><p>Meta 人工智能研究科学家Marta R. Costa-jussa在宣布这项工作的视频中表示，这意味着可以影响数十亿人，让他们用自己的母语交流。</p><p></p><h2>IT界热评新闻</h2><p></p><p></p><h4>迁移进行时，告别GitHub的时候到了？</h4><p></p><p>上周，SFC（软件自由保护协会）在自己的官方博客发布的一篇名为“Give Up GitHub: The Time Has Come!”的文章在 Hacker News 上引发了网友的激烈讨论。本周，开源项目 kyoto（一个用 go 语言编写的前端工具库）就宣布将从 Github 迁移至其他平台。后续还将有多少项目选择迁移尚未可知，但背后的原因值得探究。</p><p></p><p>kyoto 开源项目的负责人表示：GitHub 最近的更新和公司的整体政策与我对开源项目的愿景背道而驰。这个观点得到了很多人的认同。所以我决定把项目移到sr.ht，这样的政策和行动更加透明。虽未明确提及“最近的更新”是什么，但联想到 SFC 发布的文章，大概率指向 Copilot 商业化。</p><p></p><p>早在 SFC 这篇文章发布之前，Arm 就宣布将公司的多个开源项目从 GitHub 迁移至 GitLab。Arm 之前一直使用 GitHub 进行代码托管，但当前部署的大部分新型核心基础设施都运行在专有硬件之上。另外，Arm 也很担心托管在 GitHub 上的开源软件项目引发代码所有权争议。</p><p></p><p>不难看出，Copilot 商业化背后涉及的代码版权和许可问题以及 GitHub 完全黑盒的专有基础设施成为迁移的核心矛盾。</p><p></p><h4>中国红客联盟宣布解散，高层爆发内讧</h4><p></p><p></p><p>7 月 6 日消息，中国黑客组织红客联盟发布了一则最后公告，即日起宣布解散，并更名为弘客联盟。在声明中，红客联盟表示，因原红客联盟创始人林勇将红客商业化，招集原红客成员洽谈合作，因志不同道不合，本联盟拒绝合作，遭林勇以红客联盟创始人身份以打假为由，恶意造谣、煽动是非，引起红客粉丝网暴。至此，红客联盟更名为弘客联盟，继续发扬爱国主义精神，普及网络安全知识。</p><p></p><p>根据官博提供的截图，在中国红客联盟内部高层发生了内讧，原红客联盟创始人林勇与目前红客联盟备案法人代表汪林互相进行指责。林勇称汪林私下大肆捞钱，反对他做老大。汪林则称林勇独断专行、贪图享乐，赚钱翻脸不认人，还晒出了林勇的豪车。林勇在朋友圈称：“我创立的红客联盟，给你们用烂了，我给你背书，你偷偷赚了至少 500 万。”</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/51/90/51d2e2837849f1cd8f835396a3732090.jpeg\" /></p><p></p><p></p><h4>亿万富翁给妻子捐5亿美元科研经费，还要招150个科学家！</h4><p></p><p>&nbsp;</p><p>近日，杜克大学陈怡然教授放出了一个大瓜：一个亿万富翁男子给自己的未婚妻捐了5亿美元。</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/04/40/04c9d2b6b48105f733166c0747b8ea40.png\" /></p><p></p><p>这个亿万富翁男子是知名科技公司 Stripe 的联合创始人与CEO，身价过亿。他的女朋友Silvana是加州斯坦福大学的生物化学助理教授，拥有麻省理工学院的神经科学博士学位。</p><p></p><p>2021年12月，Patrick宣布他与Silvana和Patrick Hsu（伯克利大学的助理教授）共同创立了Arc研究所。该机构将和加州大学旧金山分校合作开展疾病研究，包括神经退行性变、癌症和免疫功能障碍等等。据统计，这家研究所投资总额超过 6.5 亿美元。除了自己的5个亿美元，Patrick还号召同事朋友们一起捐，最后搞到了6.5亿美元。看了这个八卦，网友纷纷表示，这就是现实版顶级霸道总裁文啊...</p>",
    "publish_time": "2022-07-12 16:41:52",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]