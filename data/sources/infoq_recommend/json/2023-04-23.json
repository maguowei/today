[
  {
    "title": "从 Logstash 到 Vector：升级应用日志处理实践",
    "url": "https://www.infoq.cn/article/0Sd6oOmvKKMGYw7EGO1L",
    "summary": "<p></p><h2>背景</h2><p></p><p></p><p>我们当前的应用每天生产近 30 亿条日志，这些日志被 fluent-bit 从 K8S 中收集并保存到 Kafka 中，再使用 Logstash 从 Kafka 中消费日志，并对日志进行格式化等操作，最终写入到 Elasticsearch 中供查询。</p><p>&nbsp;</p><p>为了满足上述体量的日志处理，我们运行了 20 台 2 核 8 G 的 Logstash 服务器，但是在业务高峰期，日志消费性能依然捉襟见肘，导致 Kafka 相关的 Topic 出现积压的情况。</p><p>&nbsp;</p><p>由于业务快速发展，日志量还在不断增加，单纯增加服务器的缺点也很明显，管理成本和实际花销都在增加，这时寻找性能更高的替代品势在必行。</p><p></p><h2>终于找到你：Vector</h2><p></p><p></p><p>如果直接在搜索引擎中查找 \"vector\"，结果可能会让人大失所望，搜索结果基本和日志收集处理毫无关系，这与 Logstash 铺天盖地的文档形成了鲜明对比，这说明 Vector 相对于 Logstash 还很年轻，很多公司的大多数场景下仍在使用 Logstash 等老牌工具收集、处理日志，但是随着 FinOps 等概念的兴起，真正义意上的降本增效是企业发展的重点，其功在点滴，成本优化工作积少成多，本文讲解如何使用 Vector 处理日志以降低成本，旨在抛砖引玉，希望有更多人测试使用、并探索推动 Vector 的更佳实践，来切实为企业降本增效出一份力。</p><p></p><h2>Vector 简介</h2><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/76/768eaa3a25763258c9df0f64ccd00415.png\" /></p><p></p><p>&nbsp;</p><p>引用官网的内容：“A lightweight, ultra-fast tool for building observability pipelines”，即一个轻量级的、快速的可视化管道构建工具，通俗来讲，它能作为一个管道，连接不同上下游组件，比如从 Kafka 消费数据并写入到 AWS S3。</p><p>&nbsp;</p><p>其由 Datadog 公司开源并主导维护，力求做到不同厂商间的中立，目前被 Atlassian、T-Mobile、Comcast、 Zendesk、Discord 和国内的豆瓣等公司使用，其中最大的用户每天使用 Vector 处理超过 30 TB 的日志。</p><p></p><h2>Vector 性能如何</h2><p></p><p></p><p>现代管理学之父彼得·德鲁克说：如果你不能衡量它，你就不能改进它。 IT 领域技术选型也是如此，如果我们决定使用 Vector，首要先确定它是适合我们的，是优于其它方案的。</p><p>&nbsp;</p><p>常见的老牌日志收集/处理软件如 Logstash、Fluentd 采用 Ruby 语言开发，其 CPU 和 内存占用较高，性能一般。而 Vector 采用 Rust 语言开发，单从语言性能来讲可比肩 C 语言，从部署使用的角度来看，Vector 仅占用极少的内存就能高效的工作，而且能充分利用 CPU 的多个核心。</p><p>&nbsp;</p><p>下图是 Vector 与其它日志收集器的性能测试结果对比，可以看到，Vector 的各项性能指标都优于 Logstash，综合性能也不错，加上其丰富的功能，完全可以满足我们的日志处理需求。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/24/24b98322c617de2b70e0b153937ffab8.png\" /></p><p></p><h2>生产环境下的安装和监控</h2><p></p><p>&nbsp;</p><p>很多教程注重软件的理论讲解，安装使用一带而过，仿佛这是最不重要的环节，但服务器软件和个人电脑上的软件有很大差别，如何管理进程的运行、如何合理规划配置文件等都是服务稳定性中重要的一环，所以值得花些时间来讲解 Vector 的安装实践。</p><p></p><h3>使用 yum 安装</h3><p></p><p>&nbsp;</p><p>大多数情况下，使用社区编译好的版本即可，怎么简单怎么安装，不必吹毛求疵自已编译，这里介绍在 CentOS 7 操作系统上使用 yum 进行安装的流程，其它系统和安装方式<a href=\"https://vector.dev/docs/setup/installation/\">官方文档</a>\"中有详细介绍。</p><p>&nbsp;</p><p>添加 yum 源：</p><p><code lang=\"shell\">curl -1sLf 'https://repositories.timber.io/public/vector/cfg/setup/bash.rpm.sh' \\\n  | sudo -E bash</code></p><p>&nbsp;</p><p>执行安装命令：</p><p><code lang=\"shell\">sudo yum install vector</code></p><p>&nbsp;</p><p>启动 Vector 并设置开机自启动：</p><p><code lang=\"shell\">systemctl start vector\nsystemctl enable vector</code></p><p></p><h3>配置文件管理实践</h3><p></p><p>&nbsp;</p><p>软件安装完成后，在 /etc/vector/ 目录下有默认的 vector.toml 配置文件，这也是 Vector 启动时默认会读取的配置文件，但是思考一个问题，当项目、环境、规则等十分庞杂时，将所有配置写到一个配置文件里合理吗？答案是否定的，好的方法是把配置文件根据需要进行拆分，比如按项目拆分成 project_xxx.toml 等多个配置文件，按环境拆分成 prod_xxx.toml、test_xxx.toml 等多个配置文件，而默认的 vector.toml 文件中可以写入一些全局配置。注意 Vector 除 .toml 格式外，还支持其它配置文件格式，如 Yaml，大家可根据习惯自行选择。</p><p></p><h3>配置 Vector 读取指定目录下所有配置文件</h3><p></p><p></p><p>上面提到要把复杂的配置文件拆分为多个，使用 yum 安装的 Vector 由 systemctl 命令管理，下面修改相关配置，让 Vector 读取指定目录下所有配置文件，而非默认的 vector.toml 文件。</p><p>&nbsp;</p><p>将 Vector systemd 配置文件第 12 行由 ExecStart=/usr/bin/vector 修改为：ExecStart=/usr/bin/vector \"--config-dir\" \"/etc/vector\"：</p><p>&nbsp;</p><p><code lang=\"shell\"># /usr/lib/systemd/system/vector.service\n[Unit]\nDescription=Vector\nDocumentation=https://vector.dev\nAfter=network-online.target\nRequires=network-online.target\n\n\n[Service]\nUser=vector\nGroup=vector\nExecStartPre=/usr/bin/vector validate\nExecStart=/usr/bin/vector \"--config-dir\" \"/etc/vector\"\nExecReload=/usr/bin/vector validate\nExecReload=/bin/kill -HUP $MAINPID\nRestart=always\nAmbientCapabilities=CAP_NET_BIND_SERVICE\nEnvironmentFile=-/etc/default/vector\n# Since systemd 229, should be in [Unit] but in order to support systemd &lt;229,\n# it is also supported to have it here.\nStartLimitInterval=10\nStartLimitBurst=5\n[Install]\nWantedBy=multi-user.target</code></p><p>&nbsp;</p><p>修改 vector 配置目录环境变量，将 VECTOR_CONFIG_DIR=\"/etc/vector/\"追加到 /etc/default/vector 文件最后：</p><p>&nbsp;</p><p><code lang=\"shell\"># /etc/default/vector\n# This file can theoretically contain a bunch of environment variables\n# for Vector.  See https://vector.dev/docs/setup/configuration/#environment-variables\n# for details.\nVECTOR_CONFIG_DIR=\"/etc/vector/\"</code></p><p>&nbsp;</p><p>重新加载 systemd 配置并重启 Vector：</p><p>&nbsp;</p><p><code lang=\"shell\">systemctl daemon-reload\nsystemctl restart vector</code></p><p>&nbsp;</p><p>至此 Vector 的安装就完成了，当服务器因某些原因宕机再重启后，Vector 会自启动并开始工作，后续有需要对配置文件进行修改时，由于前期已经做了基本的拆分，所以看起来也不至于是庞杂的一坨。</p><p></p><h3>Vector 的监控</h3><p></p><p>在运维领域，运行服务不加监控，就等于闭着眼晴开车。对 Vector 的监控可以从两个方面进行。</p><p>&nbsp;</p><p>周期性访问 Vector 的健康检查端口，检查状态是否正常。</p><p>&nbsp;</p><p>首先打开 Vector 的 api 功能，在 vector.toml 配置文件中加入以下内容即可：</p><p><code lang=\"shell\">[api]\n  enabled = true\n  address = \"0.0.0.0:8686\"</code></p><p>&nbsp;</p><p>重启 Vector，获取 Vector 的健康状态：</p><p><code lang=\"null\">$ curl localhost:8686/health\n{\"ok\":true}</code></p><p>&nbsp;</p><p>将 Vector 内部指标 Sink 到 Prometheus，据此建立更为详细的 Dashboard 和告警。</p><p>&nbsp;</p><p>在 vector.toml 配置文件中加入以下内容即可，vector 内置的指标将打入指定的 Prometheus。</p><p><code lang=\"shell\">[sources.vector_metrics]\ntype = \"internal_metrics\"\n\n\n[sinks.prometheus]\ntype = [\"prometheus_remote_write\"]\nendpoint = [\"https://:8087/\"]\ninputs = [\"vector_metrics\"]</code></p><p></p><h2>Vector 基本原理</h2><p></p><p></p><p>使用一项新的技术前，了解其工作原理和设计理念，在此大的框架上再进行细节的补充配置，就能快速将其应用，下面是 Vector 官网提供的 Vector 架构图。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/9f/9f3cfbd57c3f4a06485d095945bc47f1.png\" /></p><p></p><p>&nbsp;</p><p>下面对照架构图对 Vector 组成进行讲解，可以看到 Vector 由 Sources、Transforms 和 Sinks 三个组件构成，对应的中文可以翻译为：源、转换、以及下沉。用最通俗的理解方式来讲，我们把 Vector 想象成一条管道，日志可以从多个源头（source）流入管道，比如 HTTP、Syslog、File、Kafka 等等，当日志数据流入管道后，就可以被进行一系列处理，处理的过程就是转换（Transform），比如增减日志中的一些字段，对日志进行重新格式化等操作，日志被处理成想要的样子后，就可以进行下沉（Sink）处理，也就是日志最终流向何处，可以是 Elasticsearch、ClickHouse、AWS S3 等等，下面对这三个部分进行逐一讲解。</p><p></p><h3>Sources</h3><p></p><p></p><p>Vector 提供了丰富的 Sources 供使用，常用的有 File、Elasticsearch、Kafka 等，并且支持的种类还在不断增加，详情可查看 Vector 的 Sources <a href=\"https://vector.dev/docs/reference/configuration/sources/\">参考</a>\"。</p><p>&nbsp;</p><p>如下是 Kafka 的 Source 配置实例：</p><p><code lang=\"shell\">[sources.kafka-log-topics]\ntype = \"kafka\"\nbootstrap_servers = \"kafka.address1.com:9092,kafka.address2.com:9092\"\ngroup_id = \"logstash\"\nauto_offset_reset = \"latest\"\ntopics = [\n            \"app-log1\",\n            \"app-log2\",\n            \"app-log3\",\n         ]</code></p><p></p><h3>Transforms</h3><p></p><p></p><p>Vector 提供了诸多 Transforms 类型来对日志进行处理，比如可以使用 Vector 专有的 VRL 语言对日志进行处理，它提供了非常丰富的<a href=\"https://vector.dev/docs/reference/vrl/functions/\">函数</a>\"，可以拿来即用。</p><p>&nbsp;</p><p>如果 VRL 不能满足用户对日志的处理需求，Vector 也支持嵌入 Lua 语言对日志进行处理，但是这种方式要比 VRL 慢将近 60 %，所以如果不是针对十分复杂的日志处理需求，可以向 Vector 社区提出自己的需求，社区则会考虑将用户需要的功能完善到 VRL 中。</p><p>&nbsp;</p><p>如下是使用 VRL 将日志解析成 json 格式的配置实例：</p><p><code lang=\"shell\">[transforms.journal-shaping-app-log]\ninputs = [\"kafka-log-topics\"]\ntype = \"remap\"\nsource = '''\n  if .topic == \"app-log1\" {\n    ., err = parse_json(.message)\n  } else {\n    abort\n  }</code></p><p></p><h3>Sinks</h3><p></p><p></p><p>Vector 同样提供了很多 Sinks 类型，其中有些和 Sources 是重合的，比如 Kafka、AWS S3 等，如果当前还没有你需要的 Sink 类型，同样可以向 Vector 社区进行反馈，让其考虑添加该功能。</p><p></p><h2>VRL 实例</h2><p></p><p>&nbsp;</p><p>假设我们线上环境的日志架构如下，Vector 的任务是从 Kafka 中消费日志，把日志处理成特定格式，最终打入到 Elasticsearch 中：</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/32/32d520eb6c9ea94250fcbde3f5574a54.png\" /></p><p></p><p>&nbsp;</p><p>处理需求 1：json 扁平化，很多时候日志是多层嵌套的 json，可以使用 VRL 将嵌套 json 中的字段平铺到最外层后再打入 Elasticsearch 中。下面实例使用 VRL 将 message 字段包含的 Country 及 Language 字段解析到最外层的 json 中，如果内层字段与外层字段重合，内层字段会覆盖外层字段。</p><p>&nbsp;</p><p><code lang=\"shell\"># 源日志\n{\n\"name\": \"alex\",\n\"age\": 18,\n\"message\": {\n\"Country\": \"CN\",\n\"Language\": \"Chinese\"\n}\n}\n\n\n# 目标日志\n{\n\"Country\": \"CN\",\n\"Language\": \"Chinese\",\n\"age\": 18,\n\"message\": {\n\"Country\": \"CN\",\n\"Language\": \"Chinese\"\n},\n\"name\": \"alex\"\n}\n\n\n# VRL\n., err = merge(., .message)</code></p><p>&nbsp;</p><p>处理需求 2：删除无用的字段，还是上面的例子，message 里的字段被解析到最外层后，如果不再需要 message 字段，则可将其删除。</p><p>&nbsp;</p><p><code lang=\"shell\"># 源日志\n{\n\"Country\": \"CN\",\n\"Language\": \"Chinese\",\n\"age\": 18,\n\"message\": {\n\"Country\": \"CN\",\n\"Language\": \"Chinese\"\n},\n\"name\": \"alex\"\n}\n\n\n# 目标日志\n{\n\"Country\": \"CN\",\n\"Language\": \"Chinese\",\n\"age\": 18,\n\"name\": \"alex\"\n}\n\n\n# VRL\ndel(.message)</code></p><p>&nbsp;</p><p>处理需求 3： 字段重命名，VRL 支持将日志字段重命名，比如下面将 name 字段重命名为 my_name：</p><p>&nbsp;</p><p><code lang=\"shell\"># 源日志\n{\n\"Country\": \"CN\",\n\"Language\": \"Chinese\",\n\"age\": 18,\n\"name\": \"alex\"\n}\n\n\n# 目标日志\n{\n\"Country\": \"CN\",\n\"Language\": \"Chinese\",\n\"age\": 18,\n\"my_name\": \"alex\"\n}\n\n\n# VRL\n.my_name = del(.name)</code></p><p>&nbsp;</p><p>在编写复杂的 VRL 时，可以使用 VRL <a href=\"https://playground.vrl.dev/\">playground</a>\" 来帮助我们进行即时的编写测试来大大提高效率。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/0e/0e615066cad9b8d959b8c748e76b3b8b.png\" /></p><p></p><p></p><h2>结论</h2><p></p><p>&nbsp;</p><p>使用 Vector 替换 Logstash 后，我们线上的日志收集服务从 20 台 2 核 8 G 的机器减少为 5 台 4 核 8 G 的机器，整体服务器费用减少了 50 % 左右，虽然不同公司的使用场景不同，但 Vector 依然值得测试并使用。</p>",
    "publish_time": "2023-04-23 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "华为投入数千人实现自主可控ERP；SpaceX星舰爆炸了，马斯克：祝贺！谷歌合并旗下两大人工智能部门，加速力战ChatGPT｜ Q资讯",
    "url": "https://www.infoq.cn/article/pfvptdM187FttPtq54mC",
    "summary": "<p></p><blockquote>华为实现自主可控 MetaERP，任正非：今天软件落后但终会强大；SpaceX星舰爆炸了，马斯克：祝贺！宣布裁员2.1万人之后，扎克伯格：未来不排除继续裁员；最新论文显示，ChatGPT 生成的代码安全性远低于最低标准；谷歌合并旗下两大人工智能部门Brain和DeepMind，加速研究力战ChatGPT；三家AI公司要求美国法院驳回版权诉讼：AI生成图像与艺术家作品不相似；杭州一家公司开出320万年薪抢AIGC人才；亚马逊编程助手 CodeWhisperer 正式可用，面向个人开发者免费开放；Stable Diffusion背后团队发布开源大语言模型，可用于本地部署；微软副总裁参与起草，业内最新报告称ChatGPT或会暴露企业机密信息；iOS 17 将支持应用侧载以遵守欧盟监管规定......</blockquote><p></p><p>&nbsp;</p><p></p><h2>科技公司</h2><p></p><p>&nbsp;</p><p></p><h4>华为实现自主可控 MetaERP，任正非：今天软件落后但终会强大</h4><p></p><p>&nbsp;</p><p>4 月 20 日电，<a href=\"https://www.infoq.cn/news/QLX24NmbrpfICxdlLAA0\">华为宣布已实现</a>\"自主可控的 MetaERP 研发，基于华为欧拉操作系统、GaussDB 等根技术，并已完成对旧 ERP 系统的替换。ERP 是最关键、最重要的企业级 IT 应用，2019 年受美国制裁后，华为决定启动对旧有 ERP 系统替换，并开启研发自主可控的 MetaERP 系统。</p><p>&nbsp;</p><p>三年来，华为投入数千人，联合产业伙伴和生态伙伴攻坚克难，研发出面向未来的超大规模云原生的 MetaERP。目前，MetaERP 已经覆盖华为 100% 的业务场景和 80% 的业务量，经历了月结、季结和年结的考验，实现了零故障、零延时、零调账。</p><p>&nbsp;</p><p>在华为 MetaERP 表彰会上，华为董事、质量与流程IT部总裁陶景文表示：“面对包含ERP在内的企业作业和管理核心系统的断供停服，我们不仅能造得出来，还换得了，用得好，现在终于可以宣布，我们已经突破了封锁，我们活了下来！”华为创始人任正非则表示，今天在软件上我们还是落后的，但是有一天我们可能会变强大。我们跟合作伙伴在一起共同奋斗，加强合作，为这个国家的安全共同奋斗。</p><p>&nbsp;</p><p></p><h4>SpaceX星舰爆炸了，马斯克：祝贺！</h4><p></p><p>&nbsp;</p><p>4月20日，马斯克旗下SpaceX（太空探索技术公司）星舰发射升空，星舰在发射之初姿态正常并成功升空，直至约1分钟时发射现场还响彻观众掌声。但在持续上升的过程中，星舰姿态发生变化，其中3分钟左右时已经能够看到星舰姿态出现明显异常。在飞行不到四分钟后，上级火箭未能按照设计与下级超重型助推器分离，星舰在飞行到接近20英里的高度时剧烈解体。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/f2/f2eef42560a32d52a582f4907f9e5073.png\" /></p><p></p><p>&nbsp;</p><p>马斯克此前估计，开发“星舰”耗资约50亿美元，并且这些资金大部分都是来自公司内部。在飞船遭遇“猛烈的计划外解体”后，马斯克在Twitter上说：“祝贺SpaceX团队进行了一次激动人心的测试发射。他们从中学到了许多，有助于几个月后的下一次发射。”同时，NASA局长比尔·纳尔逊（Bill Nelson）在发射后也表示：“祝贺SpaceX的‘星舰’进行了首次综合飞行测试。”</p><p>&nbsp;</p><p>对此，有很多人不理解为什么发射失败还会欢呼庆祝，而SpaceX则表示测试即使失败，那也是成功之母。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/d9/d99257c8d9bfd839dee5d7a21aa0f3c9.png\" /></p><p></p><p>&nbsp;</p><p></p><h4>宣布裁员2.1万人之后，扎克伯格：未来不排除继续裁员</h4><p></p><p>&nbsp;</p><p>4月20日，Facebook母公司Meta，进行了最新一轮的4000人裁员，并准备在5月份进行又一轮裁员。今年3月，<a href=\"https://www.infoq.cn/article/DISIpqNzOaslaKw0RooO\">扎克伯格已表示，该公司将在未来几个月内再裁员1万人</a>\"。此前，该公司已在去年11月裁员1.1万人。扎克伯格表示，4月份的裁员将影响技术部门，而5月份的裁员将影响公司的业务部门。</p><p>&nbsp;</p><p>扎克伯格告诉员工，公司还可能大幅放缓招聘速度，并表示Meta在未来几年面临着不确定性，不能保证裁员已经结束。他说：“总的来说，我对目前的形势感觉良好，但考虑到市场的波动性，我不想承诺未来不会出现任何问题。我能说的是，我们现在没有什么计划，如果我们做些什么，也会在那个时间框架内。”</p><p>&nbsp;</p><p>扎克伯格在一个问答环节中说道：“从新技术中获得的效率而言，这可能是我们期待的正确模式，这将是一种不同的运营模式，我认为我们可以做得很好。”他还表示，本周对技术人员的裁员“永远是最困难、最具争议的一次”。</p><p>&nbsp;</p><p></p><h4>&nbsp;</h4><p></p><p></p><h4>谷歌合并旗下两大人工智能部门Brain和DeepMind，加速研究力战ChatGPT</h4><p></p><p>&nbsp;</p><p>4月21日消息，据报道，谷歌母公司Alphabet将合并旗下的DeepMind和谷歌大脑两个人工智能研究部门，从而结束伦敦和硅谷这两大人工智能研究基地之间的内部竞争，在生成式人工智能领域夺回被微软和<a href=\"https://www.infoq.cn/article/70RoOfPyX22GyJlNg9OH\">OpenAI抢走的失地</a>\"。</p><p>&nbsp;</p><p>DeepMind成立于2010年，是谷歌在2014年收购的英国公司。此次调整后，DeepMind英国主管蒂米斯·哈撒比斯（Demis Hassabis）将负责合并后的部门。现在的前谷歌人工智能部门负责人杰夫·迪安（Jeff Dean）现在将成为谷歌的首席科学家，并向皮查伊报告。DeepMind和谷歌大脑之前都曾取得过重大研究突破，从而将人工智能变成自互联网诞生以来整个科技行业最重要的新技术。DeepMind最大的突破包括AlphaGo系统，它曾在2016年击败围棋世界冠军李世石。该公司开发的AlphaFold系统则能预测蛋白结构，有可能对医学行业产生深远影响。</p><p>&nbsp;</p><p>此番合并是让Alphabet最先进的研究资源更集中于人工智能建模领域，并直接应用于谷歌的互联网业务。这主要是受到OpenAI旗下的ChatGPT聊天机器人大获成功的刺激。微软多年来一直试图挑战谷歌在互联网搜索行业的地位，但却未能成功，而OpenAI的出现却对谷歌构成了巨大挑战。</p><p>&nbsp;</p><p></p><h4>三家AI公司要求美国法院驳回版权诉讼：AI生成图像与艺术家作品不相似</h4><p></p><p>&nbsp;</p><p>此前，一群艺术家指责人工智能企业Stability AI、商业人工智能图像生成服务Midjourney公司和展示用户制作各种艺术品的大型国际社群网站DeviantArt在生成式人工智能系统中使用他们的作品，侵犯了他们的版权。本周二，三家企业对此进行了回击。这些企业认为，人工智能生成的图像与艺术家的作品不相似，而且该诉讼没有指出涉嫌侵犯版权的具体图像。艺术家回称，这些公司未经授权就复制他们的作品来训练系统，并以他们的风格创建人工智能生成的图像，这些行为侵犯了他们的权利。</p><p>&nbsp;</p><p></p><h4>杭州一家公司开出320万年薪抢AIGC人才</h4><p></p><p>&nbsp;</p><p>4月15日，据杭州网消息，位于杭州未来科技城一家公司，开出了最高320万年薪，招聘AIGC方向算法工程师一名。ChatGPT在全球掀起了AI热潮，国内互联网大厂纷纷加入战局打造国内版ChatGPT。很多人在担心失业的同时，AI人才则站上了“风口”，遭到爆抢。</p><p>&nbsp;</p><p>最高开出高薪招人的公司，位于杭州未来科技城欧美中心。月薪在10万至20万之间，16薪，相当于一年最高可以拿到320万。根据招聘的岗位要求，计算机、数学相关专业博士，具有扎实的计算机或机器学习算法基础，在相关方向知名国际会议发表过论文；熟悉VAE、GAN、Stable Diffusion等基础生成模型，及相关跨模态模型，熟练使用主流LLM并了解其原理等。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/8e/8e2cc33cec3afa64a72876b18afe824b.png\" /></p><p></p><p>&nbsp;</p><p>在猎聘上，AIGC方向热招的职位除了图像算法工程师、产品经理，还包括应用研究员、海外运营主管等。月薪普遍在20k-200k之间。另外，AI测试也是急需人才，最近达摩院招聘对话机器人测试开发专家，开出的月薪是50-80k。主要为阿里巴巴人工智能应用平台阿里小蜜提供各种软件测试、白盒测试和性能测试。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/49/4923860d216a2f968404e9b9e6b46003.png\" /></p><p></p><p>&nbsp;</p><p>&nbsp;</p><p></p><h2>IT业界</h2><p></p><p>&nbsp;</p><p></p><h4>亚马逊编程助手 CodeWhisperer 正式可用，面向个人开发者免费开放</h4><p></p><p>&nbsp;</p><p>4月17日，亚马逊云科技宣布，正式推出实时 AI 编程助手 Amazon CodeWhisperer，包括 CodeWhisperer 个人套餐，所有开发人员均可免费使用。开发人员可以通过在他们最喜欢的 IDE（包括 Visual Studio Code、IntelliJ IDEA 等）中使用 CodeWhisperer 来提高工作效率并简化工作。在为常规任务或耗时、无差异的任务创建代码、使用不熟悉的 API 或 SDK、正确有效地使用 AWS API 以及其他常见的编码场景（例如读写文件、图像处理、编写单元测试等），CodeWhisperer 都可以提供帮助。</p><p>&nbsp;</p><p>目前，免费版本可以编写多种语言的代码，包括 Python、Java、JavaScript、TypeScript、C#、Go、Rust、PHP、Ruby、Kotlin、C、C++、Shell 脚本、SQL 和 Scala 。而且，亚马逊云科技特地指出，CodeWhisperer 提供的代码建议并不专门针对使用 AWS的情况。另外，CodeWhisperer 也具有安全扫描功能，可以发现难以检测的漏洞并提出修复建议，扫描生成的代码和开发人员编写的代码，寻找漏洞，例如开放式 Web 应用程序安全项目（OWASP）中列出的前十大漏洞。如果发现漏洞，CodeWhisperer 会提供建议，帮助修复问题。</p><p>&nbsp;</p><p></p><h4>Stable Diffusion背后团队发布开源大语言模型，可用于本地部署</h4><p></p><p>&nbsp;</p><p>4月19日，开发AI图像生成工具Stable Diffusion的创业公司Stability AI宣布，发布并开源该团队训练的大语言模型StableLM。根据该团队的公告，目前StableLM的“阿尔法版本”中拥有30亿和70亿参数的模型已经可以从GitHub等开源平台上下载，后续还将推出150亿至650亿参数的版本。</p><p>&nbsp;</p><p>与Stable Diffusion类似，StableLM同样支持知识共享4.0协议，开发者可以在遵守协议的情况下，将这个模型用于商业或研究活动。Stability AI介绍称，StableLM可以生成文本和代码，并将助力一系列下游应用。并且与GPT-4等超级大模型不同，Stability AI的产品可供每一个人下载并部署在本地。这家公司在去年发布的Stable Diffusion，使得AI“文生图”赛道成为AIGC领域商业化前景最为明朗的行业。</p><p>&nbsp;</p><p></p><h4>微软副总裁参与起草，业内最新报告称ChatGPT或会暴露企业机密信息</h4><p></p><p>&nbsp;</p><p>本周，以色列网络安全公司Team8在一份最新报告中表示，使用ChatGPT等生成式人工智能工具的公司，可能会将客户信息和商业机密置于危险之中。</p><p>&nbsp;</p><p>该报告指出，新型人工智能聊天机器人和协作工具的广泛推广普及，可能会令一些公司面临数据泄露和法律风险。许多人眼下已担心，黑客可能会利用人工智能聊天工具，来获取敏感的企业信息或对企业发动攻击。此外，目前投喂给聊天机器人的机密信息，未来也有可能会被AI公司所利用。</p><p>&nbsp;</p><p>这份报告的发布方——Team8在全球网络安全领域享有盛名，这家以色列公司成立于2014年，由前以色列国防军精英部队“8200部队”的成员创立，专注于网络安全、数据分析和人工智能等领域。巴克莱、微软、沃尔玛和思科等多家全球巨头企业都与Team8有着合作和投资关系。</p><p>&nbsp;</p><p>根据媒体看到的信息，微软公司副总裁Ann Johnson参与起草了这份报告。微软已经向ChatGPT的开发者Open AI投资了数十亿美元。微软发言人表示，“微软鼓励就安全和人工智能领域不断发展的网络风险进行透明讨论。”</p><p>&nbsp;</p><p></p><h4>iOS 17 将支持应用侧载以遵守欧盟监管规定</h4><p></p><p>&nbsp;</p><p>苹果将在 iOS 17 中首次加入对应用侧载（sideloading）的支持，允许 iOS 用户安装从官方商店 App Store 之外下载的应用，比如应用的官网，这意味着应用开发商不需要向苹果支付 15% 到 30% 的分成。</p><p>&nbsp;</p><p>欧盟的数字市场法 Digital Markets Act (DMA)于 2022 年 11 月 1 日生效，要求苹果等担负起守门人角色的巨头向其他公司和开发商开放其服务和平台。为了遵守欧盟的监管规定，苹果计划在明年前支持侧载。首先，侧载变化将仅限于欧盟的客户，但随着其他国家通过类似于欧洲数字市场法案的立法，苹果可能会扩展该功能。</p><p>&nbsp;</p><p>&nbsp;</p><p></p><h4>最新论文显示，ChatGPT 生成的代码安全性远低于最低标准</h4><p></p><p>&nbsp;</p><p>4月21日消息，在对大型语言模型的狂热兴趣中，加拿大魁北克大学的四名研究人员深入研究了 ChatGPT 生成代码的安全性。</p><p>&nbsp;</p><p>在题为“ChatGPT 生成代码的安全性如何？”的论文中，计算机科学家 Raphaël Khoury、Anderson Avila、Jacob Brunelle 和 Baba Mamadou Camara 的研究基本等于是说“ChatGPT的安全性不是很好”。四位作者在使用C 、C++ 、python、html和 Java 五种编程语言，生成 21 个程序后得出了该结论。</p><p>&nbsp;</p><p>“结果是很令人担忧的，”作者们在他们的论文中说。“我们发现，在某些情况下，ChatGPT 生成的代码远低于适用于大多数情况的最低安全标准。”事实上，“ChatGPT 能够识别到，而且确实很乐意承认，它的代码中存在严重漏洞”， 但除非被要求评估其代码安全性，否则它自己不会指出。</p><p>&nbsp;</p><p>他们还引用了一个 Java 反序列化漏洞示例，其中“聊天机器人生成了易受攻击的代码，并提供了如何使其更安全的建议，但表示无法创建更安全的代码版本。”</p>",
    "publish_time": "2023-04-23 10:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "开放原子全球开源峰会，全面升级再出发！",
    "url": "https://www.infoq.cn/article/6c524762219f64349ca446567",
    "summary": "<p>当前，开源已经成为全球信息技术产业发展的一种重要协作方式和生态构建形式。开源能够集众智、采众长，加速软件迭代升级，促进产用协同创新，推动产业生态完善，已成为全球软件技术和产业创新的主导模式。开放原子开源基金会以繁荣开源事业，共享开源价值为愿景，秉持国际视野，突出科技特色，促进业态繁荣，成功召开全球数字经济大会——2022开放原子全球开源峰会。今年6月，盛会将全面升级再出发！</p><p>立足中国，面向世界，基金会将呈现我国及全球开源生态发展成果，以及对数字经济发展所起到的长远助力价值和社会效益，推动开源软件与软件产业深度融合。</p><p></p><p>今年，盛会全面升级，内容更加丰富。一是更广泛地汇聚顶尖开源力量，将邀请政府领导、院士学者、国际开源领袖、开源领军企业、创新创业园代表、主流媒体、开源创新人才、优秀开发者等莅临参会，探索开源赋能数字经济与推动社会发展的有效路径。二是更全面地展示开源技术应用，聚焦全球开源生态最新发展与前沿技术动态，覆盖开源治理、开源项目、开源前沿技术、开源行业实践等多个话题方向。三是更深入地履行国家级基金会社会责任，秉持基金会科技公益性服务机构的定位，打造科技创新共同体，助力推动全球新一代技术和产业发展，重磅发布Atomgit代码托管平台，展示开放原子开源大赛和开放原子校源行公益项目成果等。基金会将秉持开放共享，共建共治的宗旨，以开源的方式打造盛会，加大国际合作力度，覆盖更多参与主体和项目，服务全球开发者。</p><p></p><p>让我们共同回顾2022开放原子全球开源峰会的精彩瞬间！</p><p>感谢所有关心与支持开放原子开源基金会的社会各界人士！</p><p></p><p>参会人员广：企业CXO占比超过10%、行业专家占比超过12%、开发者占比超过51%。覆盖软件行业、计算机硬件及电子消费行业、互联网及Web服务、汽车交通行业、咨询类行业、媒体及政府非营利机构等领域；</p><p>组织方式新：峰会秉持开放共享，共建共治的宗旨，50+共建单位及开源社区共同承办分论坛，63家企业和开源社区共同参与开源长廊建设；</p><p>峰会传播广：峰会全网曝光量4亿+，直播观看量578万+，社交媒体相关话题曝光量1亿+，新华网头条报道，中国中央电视台中文国际频道、中央广播电视总台经济之声深度报道，多家中央媒体、行业媒体和网络媒体输出多角度、多类型、有深度的报道，媒体报道总量5000+篇次；</p><p>转化落地快：会中，基金会联合全国十余所高校，启动开放原子校源行公益项目；会后，基金会联合国内知名企业和国际知名软件厂商，加速成果转化落地；</p><p>国际交流广：峰会宣传了基金会开源服务模式和治理体系，邀请国际主流基金会Linux、Eclipse、OpenSSF等相关负责人作主题演讲，中外共话开源，展示我国基金会融入全球开源生态的开放姿态和合作诚意；</p><p>参与主体多：20余个行业组织、12个国内外重点平台、20余家头部企业积极参与；</p><p>辐射范围广：全国22个省市、741家企业，30多个科研教育机构持续关注。</p><p></p><p>让我们共同回顾2022开放原子全球开源峰会精彩瞬间</p><p>开幕式及高峰论坛</p><p><img src=\"https://static001.geekbang.org/infoq/73/73b08db560b488dcea710a4104c041c9.jpeg\" /></p><p>工业和信息化部党组成员、副部长王江平</p><p><img src=\"https://static001.geekbang.org/infoq/bc/bcd6b7571d54b6f0b69ca0485a6aece5.jpeg\" /></p><p>北京市委常委，市政府党组成员、副市长靳伟</p><p><img src=\"https://static001.geekbang.org/infoq/66/66e989292d75d9a32ed90a40612c965d.jpeg\" /></p><p>工业和信息化部信息技术发展司副司长王威伟</p><p><img src=\"https://static001.geekbang.org/infoq/02/02702ee948ad69b2c3cdc2368609454c.jpeg\" /></p><p>开放原子开源基金会理事长孙文龙</p><p><img src=\"https://static001.geekbang.org/infoq/2e/2e10695454c4cd9eeb41ebf933c1255e.jpeg\" /></p><p>中国科学院院士梅宏</p><p><img src=\"https://static001.geekbang.org/infoq/45/4582331f0d45640a32f555b2f7382dff.jpeg\" /></p><p>中国科学院院士王怀民</p><p><img src=\"https://static001.geekbang.org/infoq/36/36f977c3a7130740538e8c9e2226fa3f.jpeg\" /></p><p>中国开源软件推进联盟名誉主席陆首群</p><p><img src=\"https://static001.geekbang.org/infoq/3d/3da8b4d58b17395ea83a3a72d6043c2d.jpeg\" /></p><p>北京市经济和信息化局信息化与软件服务业处副处长赵祥伟</p><p><img src=\"https://static001.geekbang.org/infoq/9b/9bdbc48d7ac5cda300e20dbac13bdde5.jpeg\" /></p><p>阿里巴巴集团CTO程立</p><p><img src=\"https://static001.geekbang.org/infoq/66/66f22975f4bc1941fc8af6251425217f.jpeg\" /></p><p>Linux基金会执行董事Jim Zemlin</p><p><img src=\"https://static001.geekbang.org/infoq/52/5200eeb36b0ca3020969f0efcd4cfca2.jpeg\" /></p><p>中软国际有限公司董事局主席兼CEO陈宇红</p><p><img src=\"https://static001.geekbang.org/infoq/26/2678451184d5cf600e14eaca85a30f3d.jpeg\" /></p><p>腾讯高级执行副总裁汤道生</p><p><img src=\"https://static001.geekbang.org/infoq/75/758b617ebe55b2a5f2da132ae2a399d4.jpeg\" /></p><p>蚂蚁集团副总裁何征宇</p><p><img src=\"https://static001.geekbang.org/infoq/47/47687cdeebc51802b4dc3409e0cf7f6c.jpeg\" /></p><p>Eclipse基金会执行董事Mike Milinkovich</p><p><img src=\"https://static001.geekbang.org/infoq/9f/9fadca31da4735d89d850af4c995da24.jpeg\" /></p><p>华为战略与产业发展副总裁肖然</p><p><img src=\"https://static001.geekbang.org/infoq/60/606fc304d7d7e58d93f15623c1b6c641.jpeg\" /></p><p>开源安全基金会（OpenSSF）总经理Brian Behlendorf</p><p><img src=\"https://static001.geekbang.org/infoq/a2/a27d2a6e611794b8eef4d40f258c0455.jpeg\" /></p><p>软通动力集团董事黄颖</p><p><img src=\"https://static001.geekbang.org/infoq/6d/6d3c05904466e6b899661781cf3c704c.jpeg\" /></p><p>深圳开鸿数字产业发展有限公司CEO王成录</p><p><img src=\"https://static001.geekbang.org/infoq/62/622bb206b4172dd76bf2da361488cccb.jpeg\" /></p><p>英特尔软件与先进技术事业部研发总监杨继国</p><p><img src=\"https://static001.geekbang.org/infoq/26/26fe01f296c50196d89f98e4dd21401d.jpeg\" /></p><p>LF AI &amp; Data基金会执行董事Ibrahim Haddad</p><p><img src=\"https://static001.geekbang.org/infoq/4c/4c52efab8a431d8f8b16505e6b8ad44a.jpeg\" /></p><p>白金捐赠人授牌仪式</p><p><img src=\"https://static001.geekbang.org/infoq/ed/edfe61228366116119a3114d279e3e6b.jpeg\" /></p><p>黄金捐赠人授牌仪式</p><p><img src=\"https://static001.geekbang.org/infoq/e8/e87aaefe4f461969526b39625370d077.jpeg\" /></p><p>白银捐赠人授牌仪式</p><p><img src=\"https://static001.geekbang.org/infoq/c2/c202110e9e1097ebc53118f3f34ffb5f.jpeg\" /></p><p>开放原子开源大赛启动仪式</p><p><img src=\"https://static001.geekbang.org/infoq/a0/a0a28f827f20f4c4c07dcbc22db100ea.jpeg\" /></p><p>开放原子校源行启动仪式</p><p></p><p></p><p></p><p>分论坛</p><p><img src=\"https://static001.geekbang.org/infoq/cf/cf0e0525402b93bf2b3c960840ad9927.jpeg\" /></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/5d/5df0e534868b97828af2a61de9b8bb91.jpeg\" /></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/fa/fad7764027fba6fa916325d0e8505c7d.jpeg\" /></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/7d/7d1ff74ed008c240b6dbb9de06f33c00.jpeg\" /></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/a8/a824712ed8397da5eefd019ea452034a.jpeg\" /></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/64/64faca554884d7ae61a29d24e57a855c.jpeg\" /></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/7d/7dd2503c0005468dc12e2c3ca8fdb086.jpeg\" /></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/0b/0bcc0fdd0f3bca5be000aef6ae0f689f.jpeg\" /></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/15/156056a65d3287415d9979489d370684.jpeg\" /></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/0d/0d6dd723d19e766d3ed99fe54ed62531.jpeg\" /></p><p></p><p></p><p>展区</p><p><img src=\"https://static001.geekbang.org/infoq/65/650865a8daceab44382d46818edb6634.jpeg\" /></p><p></p>",
    "publish_time": "2023-04-23 10:32:49",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "腾讯游戏打通 Apache Pulsar 与 Envoy，构建高效 OTO 营销平台",
    "url": "https://www.infoq.cn/article/x8vFUTThrIo5qEoYNK8K",
    "summary": "<p></p><p>本文整理自 Pulsar Summit Asia 2022 上腾讯互娱 GDP 微服务开发平台网关技术负责人江烁的演讲《打通 Apache Pulsar 与 Envoy，构建高效游戏 OTO 营销平台实践》。本文将介绍介绍腾讯互娱利用 Apache Pulsar 和 Envoy 运营游戏 OTO 营销平台的经验。</p><p>&nbsp;</p><p>腾讯互动娱乐旗下涵盖腾讯游戏、腾讯文学、腾讯动漫等多个互动娱乐业务平台。其中，腾讯游戏注册用户超过 8 亿。2022 年 6 月，腾讯游戏旗下王者荣耀日活跃用户数量超过 1 亿 6 千万，和平精英日活跃用户数量超过 8 千万。</p><p>&nbsp;</p><p>OTO 是 One-Time Offer 的缩写，是从商品购物中衍生出来的术语。它指的是顾客下单过程中出现一次性销售机会的产品。比如消费者付款时销售人员会提醒顾客，只要加一点费用就可以换购很划算的商品，错过就没有机会。OTO 在游戏场景中的应用是在一定场景下为玩家提供限时优惠礼包，或推荐比较适合用户的任务。这就需要系统能够及时为用户产生个性化的内容，有效触达用户，造成紧迫感，使更多用户能够参与活动。</p><p></p><h1>传统架构及其问题</h1><p></p><p>为实现上述目标，腾讯互娱早期基于传统上实时数据处理的系统经验搭建了基于 Kafka + Flink 的 OTO 干预系统：</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/45/45abb2a19328350b88743f05a6c9f037.png\" /></p><p></p><p>活动中的用户游戏日志接入到 Kafka，Flink 实时消费 Kafka 中的消息，分发到状态服务和 OTO 服务。状态服务记录用户的累积状态，如是否参与过活动、累积输了多少次等数据，供 OTO 服务查询。OTO 服务包含推荐模块和任务系统模块，根据用户日志和状态判断用户是否触发活动，再通过推荐模块生成个性化任务，以红点/弹窗方式通过游戏运营后台推送到终端用户 App 的运营活动模块，为用户展示相应的活动参与界面。</p><p>&nbsp;</p><p>上述架构分为两大部分，分别为 Kafka + Flink 的大数据处理套件，和以微服务方式部署在 K8s 上的微服务开发平台。后者是以云原生理念搭建的开发平台，方便开发和运维。</p><p>&nbsp;</p><p>系统运营上线一段时间后团队发现了 OTO 营销活动具有以下特点：</p><p>&nbsp;</p><p>活动多，效果好的活动经常被复制到其他业务中；活动具有周期性，如双周、一个月、几个月和长线活动，还有很多活动会复开，活动上下线频繁；活动期间流量不稳定，每日各时段流量差距较大，高峰时段流量是低谷段的十几倍；不同业务和活动的量级不一样，差距较大。</p><p>&nbsp;</p><p>OTO 服务通过基于 Kubernetes 的 GDP（游戏微服务开发平台），可以快速部署、自动扩缩容和资源回收复用。但这里 Kafka + Flink 的架构存在一些问题：</p><p>&nbsp;</p><p>Kafka 的消费并行度基于 Partition，如果应用直接消费 Kafka Topic，并行度就会受此限制。例如 Kafka 只有三个分区，那么只有三个 Pod 在消费数据，其他 Pod 都在空转。因此团队加入了 Flink 来分发，解决了并行度问题。但如果消息量变大，要调整 Kafka 的分区数是一件复杂的事情，会造成集群重平衡。而且引入 Flink 还带来了一些问题。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/9e/9e499cdd333a913555ee3d9591d9f984.png\" /></p><p></p><p>引入 Flink 带来的问题主要是 Flink 的作业资源调整需要重启作业，对实时在线业务有着较大影响。在 OTO 场景中 Flink 只用来消费事件、调用下游微服务，为此专设集群比较浪费。出海时还需要考虑兼容不同云端 Flink 的接口，作业调度比较复杂，需要专设运维人员协助开发，增加额外成本。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/d0/d0389d79d1716e11d2c999e34f3744f4.png\" /></p><p></p><p>触达失败率较高。原因有多个：</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/19/19c9f16af65819397522d5291f1ba8eb.png\" /></p><p></p><p>调用推送接口时可能会失败，例如用户对局结束马上推送。很多在对局期间为了保障用户体验，会停止其他模块，在对局完成后重新拉起。但我们经常处理完对局相关事宜后就会推送，此时推送链接还未建立。终端网络不稳定会造成推送消息丢失。即时推送消息到达客户端，也存在游戏不在安全区（如尚在对决结算中）而无法弹窗，导致推送失败。总体来看触达率只有 60%。</p><p>业务与活动的资源需要隔离。一方面需要通过隔离防止不同业务和活动互相影响，另一方面需要对业务进行独立成本核算。采用共享集群会导致费用结算复杂，集群太多又导致运维管理成本过高，活动上下线资源管理困难。</p><p></p><h1>云原生架构与网关扩展</h1><p></p><p>为解决上述问题，腾讯互娱团队做了诸多优化。</p><p></p><h2>优化一：用 Pulsar 代替 Kafka</h2><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/07/071d6c9327a45036d340b5d1902f4283.png\" /></p><p>在此不赘述 Pulsar 和 Kafka 对比，只针对我们的场景介绍一些用 Pulsar 代替 Kafka 的好处。Pulsar 提供了 Shared 消费模式，并发量不受 Partition 限制。这样消费服务完全不需要关心分区数，后端服务需要时即可调整副本数，直接提高了并发度，增强了处理能力。再配合 K8s 的 HPA 即可自动根据后端性能指标扩缩容，极大提升资源利用率。</p><p>&nbsp;</p><p>Pulsar 还支持对单个消息独立 Ack，可以很好地防止重复消费。Pulsar 还提供 Key_Shared 消费模式，在某些并发控制场景非常方便。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/cb/cbf511016307a787d566ca3d8064330d.png\" /></p><p></p><p>Pulsar 还提供了延迟处理能力，包括延迟投递和延迟重试。使用这两个能力可以轻松解决触达率较低的问题。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/9c/9c2a98c0a24bc27ceea9de57e9e19f34.png\" /></p><p></p><p>Pulsar 还提供了多租户能力，一个集群就可以解决多业务/活动资源隔离和 SLA 的需求，大大降低了运营压力，方便业务成本核算。</p><p></p><h2>优化二：采用云原生方案代替 Flink</h2><p></p><p>使用 Pulsar 代替 Kafka 后无需再用 Flink 做并发分发，可以去掉 Flink。为兼容之前的服务，又考虑到后续的微服务平台灵活性，简化其他微服务的开发工作，团队在平台的 Envoy 网关上扩展了几个特性，使 Envoy 可以处理 Pulsar 协议。结合 Envoy 已有的灵活规则配置和大量功能插件，可以配置出很多便利功能。</p><p></p><h2>云原生架构</h2><p></p><p>经过上述优化，新的系统云原生架构如下：</p><p><img src=\"https://static001.geekbang.org/infoq/22/22847cac58525bf25d535146838dde95.png\" /></p><p></p><p>上述架构分为事件总线和微服务两大块。前者负责日志到 Pulsar 消息的生产，增加了事件元数据管理模块，统一管理业务事件到 Pulsar Topic 的映射。这里为了兼容性，还会有部分数据流向老的 Kafka 流程。</p><p>&nbsp;</p><p>微服务层加入了 Envoy 网关，通过配置管理获取元数据信息，监听相应的 Topic 路由到微服务进行处理；增加推送服务，利用 Pulsar 的延迟投递与延迟重试能力进行重推和回执处理，提高触达率。这样所有服务都在云端通过 K8s 调度，有高可用保障，只需调整副本数即可轻松扩缩容。</p><p></p><h2>基于事件总线的事件分发</h2><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/9b/9bbb4cd3c893a04d302f89bbdd6c756f.png\" /></p><p></p><p>事件总线用于规范事件管理，事件按业务和类型维度管理。事件元数据管理登记各业务的各种类型事件应存放在 Pulsar 的哪个租户的哪个 Topic 下，由事件网关负责路由。微服务侧由配置中心将微服务需要处理的指定业务事件类型在事件元数据管理处查询到具体的 Topic 后下发给 Envoy 网关，再通过 Pulsar Consumer Filter 消费 Message 后路由给微服务进行处理。这样事件的生产和处理两方都无需知晓具体的事件存放类型和位置，只需关心业务和事件类型，简化了业务复杂度。</p><p></p><h2>通用延迟重试</h2><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/fa/fa596dda7310da8bee27ab46a9e56ba9.png\" /></p><p></p><p>Envoy 网关有失败后立即重试的能力，在很多场景下没有意义，例如在推送服务连接还没有建好的情况下，立即重试毫无意义。有了 Pulsar 后，就可以在 Envoy 上部署通用的延迟重试。当服务 A 通过网关来调用服务 B，网关插件可以提供限速，服务 B 也可以有限速。超过限速的请求会返回 429 状态码。如无限速，可能返回 503 码。如果网关针对特定状态码配置了延迟重试，Pulsar Filter 就会将请求做 Deliver After 处理，或者 Reconsume Later 按配置的时间间隔写入指定 Topic，并返回 202 Accepted 给服务 A。Pulsar Consumer Filter 会监听该 Topic，在指定时间间隔后收到该 Message，还原成 HTTP 请求，并加上带有重试信息的请求头重新路由，发送到服务 B。如果这段时间内，服务 B 或者其以来的资源恢复就会重试成功，最大程度保障服务成功率。这样，初始推送成功率不到 10% 的对局结算比较慢的业务在重试后成功率也能提升到 80% 以上，其他业务也有很大提升。</p><p></p><h2>通过回执确认与补推提高触达率</h2><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/d0/d0c207a69be106d3837de0596b382f05.png\" /></p><p></p><p>推送成功并不意味着成功触达用户，因为游戏 OTO 服务发起推送给游戏运营后台，后台通过客户端连接发送推送包，就会直接返回成功消息，但客户端不一定能收到推送包，因为可能终端网络不稳定或者网络断开，游戏运营后台无法感知，也存在即使感知到也无法弹窗的情况。为此团队和客户端协商了一套回执协议，在推送成功后利用 Pulsar 的延迟投递能力写入延迟检查消息。如果运营前端收到推送并成功触达，就会向后台发送回执。后台经过事件总线写入 Pulsar，回执处理模块消费该消息，并记录回执。设置回执检查的时间（延迟消息）Timeout 后，回执检查模块会消费延迟检查消息，并查询回执记录。如果记录存在则流程结束，说明用户已被触达，不存在则进入补推流程。</p><p>&nbsp;</p><p>上述机制可将整体触达率提升到 90% 左右。</p><p></p><h2>Pulsar 延迟消息的其他应用</h2><p></p><p>定时任务：可以实现在某个时间给特定用户发送通知；定时活动上下线和物品上架等。礼包未领取提醒：给用户推送礼包或任务后，用户一段时间未领取，可以通过延迟消息来触发一些动作。</p><p></p><h2>优化效果</h2><p></p><p>改用 Pulsar 并发量不受 Partition 的限制；去掉 Flink 分发请求，降低成本；微服务方式部署扩缩容方便；基于 Pulsar 的延迟重试和回执确认与补推提升了触达率；通过单集群、多租户隔离各个业务或活动，简化运维工作。</p><p></p><h3>通过网关来集成 Pulsar 的好处</h3><p></p><p>兼容原有服务，状态服务和 OTO 服务无需改造；减轻微服务开发者的工作量，开发者只需开发 HTTP 接口即可；结合网关能力实现可灵活的配制化功能：通用触发、削峰填谷、延迟重试和计划任务等。</p><p></p><h1>后续规划</h1><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/df/df113f56f3c9ff29dab0fd8edee21814.png\" /></p><p>腾讯互娱团队未来计划进一步集成 K8s 和 Pulsar。K8s 支持 HPA，通过监控容器 CPU 和其他内存指标，当达到一定阈值时，触发服务扩缩容。这对一些队列消费服务不适用。有时依赖的第三方服务延迟较大会导致消息堆积，此时消息处理服务内存和 CPU 指标可能不高，但是需要增加并发度来提高处理能力。我们计划扩展 K8s 的 HPA，在监控 CPU 和内存等指标基础上再监控 msgBacklog，增强扩缩容灵活性，防止消息堆积。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/48/48ac4278b2302d1c2c3ffc48791a60ff.png\" /></p><p></p><p>Pulsar 官方提供了非常方便的无服务器计算框架 Pulsar Functions，可以方便地开发 Serverless 消息处理服务。Pulsar Functions 还提供了方便的 K8s 部署方式。未来团队会探索这一方面的应用。</p><p>&nbsp;</p><p>作者简介：</p><p>江烁，腾讯互娱 GDP 微服务开发平台网关技术负责人。</p>",
    "publish_time": "2023-04-23 11:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "一体化智能可观测性平台迈入新阶段，Bonree ONE春季正式版发布",
    "url": "https://www.infoq.cn/article/0bggKdVtwAr2ENsQmzyw",
    "summary": "<p>4月21日，Bonree ONE 2023 春季正式版全新发布。据悉，这是国内首个真正实现智能运维的一体化智能<a href=\"https://www.infoq.cn/article/dl65ULVif7O57MKQ7eo2\">可观测性</a>\"平台。</p><p>&nbsp;</p><p><a href=\"https://www.infoq.cn/article/vJRJUTh4g61a9diCTesw\">博睿数据</a>\"作为一体化智能可观测平台，专注于构建以用户为中心的简捷，高效，智能的新型IT运维，提升企业运维效率，助力企业抢占数字经济先机。日前，IDC发布《中国IT统一运维软件产品市场跟踪报告，2022H2》，2022下半年中国APM市场环比增长近10%。博睿数据以市场份额达18.28%蝉联APM应用性能监控市场份额第一。</p><p></p><h2>Bonree ONE春季正式版的技术特性</h2><p></p><p>&nbsp;</p><p>Bonree ONE 2023 春季正式版通过博睿数据领先的大数据采集和智能分析能力，稳定强大的中台能力，具备全球竞争力的产品特性，真正实现IT系统全栈、全链路、全场景的智能可观测，故障根因定位和决策支持，显著提升IT运维的能力和效率，减少故障平均恢复时间MTTR，提高平均故障间隔时间MTBF，提升业务连续性 ，保障敏捷开发，支持智能运营，为企业数字化业务保驾护航。</p><p>&nbsp;</p><p>实现组件瘦身50%，POC仅需一台虚拟机轻松起跑</p><p>&nbsp;</p><p>瘦身解耦更轻小：组件瘦身50%，下架两大高耗能组件，单机节省20G+内存，安装快捷，效率提升30%小身材大能力：实现能力的5倍提升，单台16C 32G服务器稳定支撑100 APM探针数据接入或2万日活用户会话，帮助用户大幅降低资源准备成本。</p><p>&nbsp;</p><p>探针支持3层架构，20W+探针同时接入、数据集成、K8S监控、业务分析、日志分析、操作分析、技术组件等功能全面登场</p><p>&nbsp;</p><p>数据集成能力首屈一指：国内首家可观测数据和实体拓扑同步集成能力，盘活存量数据真正实现数据驱动。业务分析功能率先上新：业务事件全量采集，打通业务事件到技术层面的全局归因。日志分析功能行业领先：补齐设备老旧造成的调用链数据缺失，填平数据断点，真正实现对全场景数据的无死角可观测性。</p><p>&nbsp;</p><p>Bonree ONE 2023 春季正式版有20w+超大规模探针跨地域跨复杂环境采集；自动记录用户APP全部动作深度洞察用户体验；支持Prometheus、Elastic、MongoDB等200+技术组件接入；国内首创基于堆栈快照的热点方法以极低的资源损耗（0.1%~1.2%）获得代码性能剖析的深度见解；引入ClickHouse查询性能实现600%增长等众多亮点，数据更准确。</p><p>&nbsp;</p><p>告警收敛率98%，根因深度分析</p><p>&nbsp;</p><p>智能告警告别告警风暴：通过文本相似收敛、时序频繁聚合、实体关联聚合的办法，达成 98%以上的常态化告警收敛率，有效控制告警风暴。自适应AI让根因分析更准确：去年，博睿数据凭借出色的根因分析能力获得了信通院AIOps能力成熟度模型优秀评级。Bonree ONE 2023春季正式版再次升级，基于初因再次下钻洞察异常，带来更细粒度的两阶段排查，提出来自热点方法、操作分析与业务分析的根因洞察。</p><p></p><h2>数智融合 3.0 时代，不同行业在数字化转型中的经验与思考</h2><p></p><p>&nbsp;</p><p>随着企业数字化转型进程加快，新的业务模式反推技术的迭代升级，以云原生、DevOps 等为代表的新技术快速发展。同时，企业对可观测性愈发重视，而传统的运维监控技术数据种类杂、缺乏关联性，导致整个 IT 系统不具备真正的可观测性，难以满足企业需求。</p><p>&nbsp;</p><p>当前，IT 运维技术已经来到了数智融合的 3.0 时代。3.0 时代的两个关键点分别是数（大数据）与智（人工智能），即要求具备全局数据采集能力、以运维视角重塑产品、数据有机关联融合、开箱即用的 AI 以及运维全场景的落地。而数智融合时代的 IT 运维需要从监控走向可观测，从孤立的工具走向统一的能力平台，从人工分析走向智能见解。</p><p>&nbsp;</p><p>发布会上，中信建投信息技术部总监陶剑锋、北汽集团运维服务中心主任高凡、新东方运维高级经理SRE负责人齐晨分别介绍了在数智融合 3.0 时代，各个行业的数字化转型思考。</p><p>&nbsp;</p><p>陶剑锋表示，当前证券系统、金融系统都是非常复杂的，各类异构数据与来自不同供应商的监控工具，还有来自客户要求高变化大的各类需求，都需要我们对业务有一个更深刻的认识。中信建投将博睿数据视作业务的体温计，来帮助实现对核心交易系统前中后端的全链路监控。</p><p>&nbsp;</p><p>高凡表示，北汽集团在数字化转型过程中面临分布式架构繁多、依赖关系复杂、业务系统庞大等运维挑战，博睿数据帮助北汽集团实现了对故障提前预测能力、故障快速定位能力的提升。数据可观测性的实现、开箱即用AI能力的引入等等，将帮助北汽集团进一步实现运维能力的提升。</p><p>&nbsp;</p><p>齐晨表示，新东方以降本增效安全运营为目标，目标搭建一套对整个系统的自主运维平台，借助博睿数据的数据采集能力，与在长期服务过程中沉淀下的各类指标，实现了对可观测性能力的初步搭建以及对关键信息的报警，让对技术不那么了解的领导也可以直观地了解到整个系统的运行情况。</p>",
    "publish_time": "2023-04-23 11:59:16",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "杭州某公司出20万月薪抢AI人才；谷歌CEO年薪15 亿多元引争议；“复旦大学 GPT” MOSS 重新上线 | AI 一周资讯",
    "url": "https://www.infoq.cn/article/SLByUpji0Ifl8a0GW1l0",
    "summary": "<p></p><blockquote>微软总裁：中国将是ChatGPT 的主要对手；谷歌全球裁掉1.2万人，CEO 年薪15亿多元引争议；杭州一公司出20万月薪抢ChatGPT人才；戴尔：正专注从中国以外采购零部件......</blockquote><p></p><p></p><h2>资讯</h2><p></p><p></p><h4>戴尔：正专注从中国以外采购零部件</h4><p></p><p>4月19日消息，戴尔首席执行官迈克尔·戴尔(Michael Dell)表示，鉴于对供应链中断的担忧，客户要求戴尔实现零组件采购多元化，公司正专注于从中国以外采购零组件。他接受英媒采访时表示，疫情暴露半导体供应链极易受干扰，许多客户均要求该公司分散供应链。</p><p></p><p>不过，他不愿透露戴尔目前从中国采购的零部件数量，也不愿透露最近有关该公司寻求在2024 年前停止使用中国制造芯片的报道。在戴尔看来，桌面电脑、笔记本电脑与周边产品的供应链“去中国化”自2025年启动，而如果届时相应的市场出现了一定损失，他们则有美国市场来补给。从供应链角度，戴尔已为当前行为导致的后果做好了准备，2027年戴尔35～40％的产品都会在中国大陆以外地区生产（美国市场完全去中国化）。</p><p></p><h4>“复旦大学 GPT” MOSS 重新上线</h4><p></p><p>4月21日，据开源中国报道，复旦大学自然语言处理实验室开发的新版 MOSS 模型正式上线，成为国内首个插件增强的开源对话大语言模型。<a href=\"https://moss.fastnlp.top/\">MOSS</a>\" 相关代码、数据、模型参数已在 GitHub 和 Hugging Face 等平台开放，供科研人员下载。</p><p></p><p>GitHub 地址：<a href=\"https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fmoss.fastnlp.top%2F\">https://moss.fastnlp.top/</a>\"</p><p></p><p>MOSS 是一个支持中英文双语和多种插件的开源对话语言模型，moss-moon&nbsp;系列模型具备 160 亿参数。从官方的介绍来看，MOSS 对硬件要求较高，本地部署的话需要非常大的开销，A100 或 A800 可以单卡运行，NVIDIA 3090 只能并行多卡运行，GPU 要至少 30GB。</p><p></p><h4>美国网约车公司Lyft曝大裁员</h4><p></p><p>当地时间4月21日，<a href=\"https://www.infoq.cn/article/7a59XBxoYhGHs7wHNdWb\">美国网约车公司Lyft</a>\"的CEO戴维·瑞瑟发表公开信，确认Lyft将大幅裁员，作为公司重组的一部分。所有办公室将于4月27日（下周四）关闭。他说，Lyft需要成为一个更快、更扁平的公司，降低运营成本，提供有竞争力的定价、更快的接载时间和更好的司机收入。被裁员者可以获得至少10周的工资，在Lyft工作4年以上的团队成员可获得额外数周薪资。</p><p></p><h4>谷歌全球裁员 1.2 万人，CEO 年薪却高达 2.26 亿美元</h4><p></p><p>据IT之家报道，谷歌母公司 Alphabet 的首席执行官 Sundar Pichai 在 2022 年的总薪酬达到了 2.26 亿美元（当前约 15.57 亿元人民币），是公司中位数员工薪酬的 800 多倍。Pichai 的大部分收入来自于股票奖励，约为 2.18 亿美元。这一数字在 2021 年没有股票奖励时只有 650 万美元。</p><p></p><p>然而，Pichai 的高薪引发了一些争议，因为<a href=\"https://www.infoq.cn/article/r8CLWdrPO9uFWNWz7kiq\"> Alphabet</a>\" 在 2022 年进行了大规模的裁员，以降低成本。据悉，该公司在 1 月份宣布了全球范围内的 1.2 万人裁员计划，占其总员工数的 6%。此外，该公司还面临着员工的抗议和罢工行动。4 月初，在伦敦的谷歌办公室发生了数百名员工的罢工事件，原因是公司解雇了 200 多名员工。3 月份，在苏黎世的谷歌办公室也发生了类似的罢工事件。</p><p></p><h4>小米回应“要求解冻6.8亿美元资产申诉遭印度法院驳回”</h4><p></p><p>近日，知情人士称一家印度法院驳回小米公司关于没收555.1亿卢比（6.7亿美元）的申请。去年，小米在印度的资产被联邦金融犯罪机构冻结，该机构指控小米通过冒充特许权使用费向外国实体非法汇款。</p><p></p><p>“我们正在研究此事并等待书面命令，”<a href=\"https://www.infoq.cn/video/925RPm6Vp38JzY9kxHVp\">小米</a>\"发言人在谈到卡纳塔克邦法院的裁决时表示，并补充说该公司在印度的业务符合当地法律法规。路透社指出，该公司此前曾表示，其特许权使用费全部合法，并将“继续使用一切手段保护声誉和利益”。2022年10月，小米在一份声明中表示，在被扣押的金额中有超过84%是支付给美国芯片公司高通集团的特许专利费用。</p><p></p><h4>谷歌正在开发全新搜索引擎 Magi</h4><p></p><p>近日，谷歌母公司Alphabet被爆出正致力于打造一个全新的AI搜索引擎，并在现有产品中添加人工智能功能。</p><p></p><p>根据《纽约时报》看到的内部消息，谷歌对三星更换搜索引擎这一威胁感到“恐慌”。根据这份内部文件，谷歌正在一个名为“Magi”的计划下测试新功能，新的搜索引擎将为用户提供比公司现有服务更加个性化的体验，并试图预测用户的需求。“Magi”将把广告放在搜索结果的组合中，这对谷歌来说很重要，因为搜索广告是它赚钱的主要方式。</p><p></p><p>此外，计划中的搜索功能还可以回答有关软件编码的问题，并根据用户的要求编写代码。根据一份文件，<a href=\"https://www.infoq.cn/article/ZYGe5iB6eDSZhuJEJxUa\">谷歌</a>\"可以在计算机代码答案下放置广告。谷歌发言人Lara Levin表示公司正在不断改进其搜索引擎，让用户和合作伙伴有更多理由选择谷歌，安卓手机制造商可以自由地采用不同公司的技术，以改善用户体验。</p><p></p><h4>微软总裁：中国将是ChatGPT 的主要对手，我们的优势不大</h4><p></p><p>4 月 23 日消息，微软总裁布拉德・史密斯（Brad Smith）在东京接受日经亚洲评论的采访时表示，中国的研究机构和企业将成为 ChatGPT 的重要竞争者。史密斯说，中国在生成式人工智能（Generative AI）的发展方面不会落后于美国科技巨头，如亚马逊和谷歌。</p><p></p><p>“我们看到三个处于绝对前沿的机构，”史密斯说，“一个是 OpenAI 和微软，第二个是<a href=\"https://www.infoq.cn/article/4i445bkgQvd6yoNSGu5v\">谷歌</a>\"，第三个是北京人工智能研究院。”他说，在创新方面，“谁领先谁落后可能会在一年中的不同时间有所变化，但有一件事是绝对不变的：差距几乎总是以月而不是年来衡量。”他称这场竞赛“非常激烈”。</p><p></p><h4>寒武纪：不直接从事类ChatGPT等AI最终应用产品开发销售</h4><p></p><p>4月20日晚，寒武纪发布股票交易异常波动公告称，公司致力于打造人工智能领域的核心处理器芯片，能够为视觉、语音、自然语言处理、传统机器学习技术等各类人工智能技术提供基础计算平台，公司不直接从事人工智能最终应用产品（例如类ChatGPT应用）的开发和销售，公司相关产品正处于适配阶段，尚未产生收入；客户是否进行规模化采购受产品技术能力、交付能力、产品价格及客户采购意愿等因素影响，存在不确定性。</p><p></p><h2>IT业界热评新闻</h2><p></p><p></p><h4>杭州一家公司开出20万月薪抢ChatGPT人才</h4><p></p><p>近日，位于杭州未来科技城一家公司，开出了最高320万年薪，招聘AIGC方向算法工程师一名。<a href=\"https://www.infoq.cn/article/4i445bkgQvd6yoNSGu5v\">ChatGPT</a>\"在全球掀起了AI热潮，国内互联网大厂纷纷加入战局打造国内版ChatGPT。很多人在担心失业的同时，AI人才则站上了“风口”，遭到爆抢。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/82/8298fba4946c7d531d633b5621ec2a99.png\" /></p><p></p><p>据悉，该公司位于杭州未来科技城欧美中心。月薪在10万至20万之间，16薪，相当于一年最高可以拿到320万。另一家位于杭州西湖区的公司，招聘AIGC产品一号位/产品总监职位，开出的月薪是70-100k，15薪，相当于最高可以拿到150万年薪。站上“风口”的AI人才，有人同时拿到几份offer，有人薪水直接翻倍。</p><p></p><h4>SpaceX星舰发射3分钟后爆炸</h4><p></p><p>4月20日晚间，马斯克旗下SpaceX星舰（Starship）的首次入轨飞行发射失败，升空后不久发生爆炸。SpaceX在社交媒体上也确认了这一结果，表示在火箭分离阶段前出现了快速且计划外的解体。公司团队将审阅相关数据，为下一次实验做准备。马斯克随后也更新了社交媒体，祝贺SpaceX团队完成了激动人心的星舰首次飞行测试，为“数月之后的下一次测试”学到了不少知识。</p><p></p><p>此外，SpaceX称，在星舰发射出现故障后，是发射团队将其人为引爆。据媒体报道，马斯克在内部电子邮件中称，SpaceX的发射取得了“重大成功”，星舰“很有可能在今年进入轨道”。不过，根据美国哈佛-史密森尼天体物理中心物理学家的说法，星舰火箭在任务失败前的飞行最大高度仅为39公里，距离国际公认的太空边界100公里还差得很远。</p>",
    "publish_time": "2023-04-23 14:28:25",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "全场景生态走向深入，openEuler首批嵌入式商业版正式发布",
    "url": "https://www.infoq.cn/article/BMbSiZL5bH8slVRwIpQW",
    "summary": "<p>4月20-21日，openEuler Developer Day 2023在线上和线下同步举办。本次大会由开放原子开源基金会指导，中国软件行业协会、openEuler社区、边缘计算产业联盟共同主办，以“万涓汇流，奔涌向前”为主题，旨在推动操作系统以及基础软件的创新和突破。</p><p></p><h2>开源三年，openEuler进入开源治理新阶段</h2><p></p><p>&nbsp;</p><p>据悉，<a href=\"https://www.infoq.cn/article/QjevmYIB7vFP6ol3FxWl\">openEuler</a>\"开源三年，发展超出预期，已进入正循环、自加速的生态发展体系。截至目前，openEuler社区生态伙伴已经超过800多家，贡献者超过13000名，全球下载量过百万，每日活跃开发者近4000人，每日新增讨论超过2000次、每月新增创新项目10个，已经与国际主流开源社区相当。openEuler在商业装机量上实现指数级增长，累计部署量超300万套，2022年新增市场份额占比超过25%。</p><p>&nbsp;</p><p>中国工程院院士、openEuler社区顾问专家委员会委员倪光南院士在本次大会致辞中表示，“在世界开源工作者的共同努力下，openEuler已经发展成为一个具有国际影响力的开源社区。社区汇聚了一大批有活力、有热情、有智慧的开发者， openEuler成为中国开源的一个典范。”</p><p>&nbsp;</p><p>华为公司董事、ICT产品与解决方案总裁杨超斌在致辞中表示，数字经济的高质量发展需要强大的数字基础设施，操作系统是数字基础设施之魂，openEuler开源操作系统的发展，为数字基础设施筑起坚实的软件根基。</p><p>&nbsp;</p><p>“继2022年12月openEuler成立项目群后，openEuler进入开源治理新的阶段。”开放原子开源基金会理事长孙文龙表示：“下一步，开放原子开源基金会将加快国际化发展，助力openEuler开源项目走向全球。”&nbsp;</p><p>&nbsp;</p><p>本次大会上，五大项目完成捐赠openEuler意向签署，包括：来自电信天翼云的Gostone，用于云操作系统的安全高性能鉴权；来自电信天翼云的CTinspector，来自电信天翼云的CTinspector，通过ebpf技术实现多节点运维及巡检；来自湖南大学的ZVM，基于Zypher的嵌入式实时虚拟机；来自北京航空航天大学的Rust-Shyper，基于Rust面向嵌入式场景的Type-1型虚拟机监视器；来自华恒盛世的QuickPool，为大规模计算提供算力调度。这些开源项目的加入，推动openEuler生态的持续扩大，加速了新一代基础软件生态的繁荣。</p><p></p><h2>openEuler工业领域操作系统筹备委员会正式成立</h2><p></p><p>&nbsp;</p><p>经过openEuler委员会全体会议的批准，openEuler工业领域操作系统筹备委员会正式成立。</p><p>&nbsp;</p><p>openEuler工业领域操作系统筹备委员会首批成员单位共12家，他们来自产业链上下游的核心厂商，包括：硬件、OSV和学术机构等。北京航空航天大学副校长吕卫锋担任筹备委员会顾问专家。筹备委员会将协同产业链的力量梳理和定义出工业领域操作系统的应用场景，基于统一的架构蓝图，以开源社区为协作平台，快速迭代演进版本。</p><p>&nbsp;</p><p>工业领域操作系统筹备委员会将加速推进openEuler系在工业领域和机器人领域的推广，加速嵌入式能力和ROS能力的孵化。</p><p>&nbsp;</p><p>邬贺铨院士表示：“未来工业互联网的发展需要端边云协同的数字基础设施的全场景能力创新，在操作系统层面实现端边云互联互通与协作是重要的支撑之一。相信openEuler将有效助力中国工业互联网迎来跨越式发展。”</p><p></p><h2>基于openEuler嵌入式商业版本正式发布</h2><p></p><p>&nbsp;</p><p>2023年3月，<a href=\"https://xie.infoq.cn/article/89e40e5070b6ac0244f175cf9\">openEuler 23.03</a>\"版本发布，由社区的908名贡献者共同完成。该版本全场景能力持续增强，嵌入式商业版本正式发布，夯实了openEuler全场景生态。嵌入式基于目标架构有序创新核心能力，使能工业控制、机器人、端边云协同等用户创新场景，加速数智化时代工业领域数字化转型的进程。</p><p>&nbsp;</p><p>openEuler嵌入式版本逐渐成熟并商用，补齐了openEuler全场景能力的最后一环。本次大会粤港澳大湾区国家技术创新中心、成都菁蓉联创科技有限公司重磅发布了基于openEuler嵌入式能力的商业发行版，麒麟信安也在紧锣密鼓筹备发布中。这标志着openEuler社区的嵌入式创新成果已落地商业场景。&nbsp;</p><p>&nbsp;</p><p>发布会上，北航-华为关键软件联合实验室揭牌并发布智能机器人系统。该系统基于openEuler嵌入式操作系统构建，为openEuler社区补齐了多种机器人应用的开源软件生态。</p><p>&nbsp;</p><p>北航-华为关键软件联合实验室将聚焦多样性算力操作系统、全智能化编译器&amp;软件IDE的根技术研究和创新工作。该联合实验室的成立，将促进开源基础软件领域的产、学、研结合，持续培养基础软件人才，充分发挥北航在多学科交叉和学术创新的优势，与华为的产业经验结合互补，为基础软件发展添砖加瓦，丰富产业新生态。</p>",
    "publish_time": "2023-04-23 14:48:29",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "微软AI芯片计划曝光；腾讯披露自研芯片最新进展；台积电3纳米工艺首秀 | 每周芯片要闻",
    "url": "https://www.infoq.cn/article/jAD06UKPLo451FY2Serj",
    "summary": "<p></p><h2>微软AI芯片计划曝光，代号“雅典娜”</h2><p></p><p></p><p>据外媒报道，微软内部正在秘密开发代号为“雅典娜”的AI专用芯片，计划用于GPT等大模型。该芯片计划始于2019年，最早是对另外两大互联网巨头——亚马逊和谷歌的类似自研芯片计划的回应。随着微软与OpenAI的关系日益密切，微软自研AI芯片的应用潜力日趋增长。微软希望这一计划的成果能够在ChatGPT这样的大型模型中获得足以匹敌英伟达GPU的性价比。一旦该计划成功，微软将减轻对英伟达GPU的依赖，将大模型上游核心硬件供应掌握在自己手中。</p><p>&nbsp;</p><p>值得注意的是，微软自研的AI芯片几乎可以肯定是专用加速芯片，而非英伟达那样基于GPU发展而来的架构设计。前者也基本不可能兼容成熟的CUDA软件生态。如果未来的GPT大模型运行在这样的专用芯片上，可能会对当下CUDA在AI软件领域的统治地位带来冲击。</p><p></p><h2>腾讯披露自研芯片最新进展：已投入生产环境</h2><p></p><p></p><p>日前，腾讯对外公布了其自研视频编解码芯片“沧海”的最新进展。该芯片是腾讯蓬莱实验室与香农实验室联合研发的成果，项目始于2019年。芯片内置编码加速模块，支持所有主流编码技术，且支持视频1pass预分析阶段的硬件加速。相比常见的GPU编码方案，沧海的同码率画质更高，同质量下码率更低。</p><p>&nbsp;</p><p>在莫斯科国立大学举办的MSU硬件视频编码比赛中，沧海芯片参加了两个赛道，并包揽两个赛道的全部8项评分第一。目前，沧海芯片已在腾讯云业务中投入数万片，服务腾讯自研业务及公有云客户。</p><p></p><h2>中国半导体行业两大盛会如期举办</h2><p></p><p></p><p>4月17日，“2023新时代汽车国际论坛暨汽车半导体行业峰会”在上海顺利召开。包括华润微电子、国芯科技、摩尔精英、寒武纪、中芯国际、中兴微电子、紫光展锐与英特尔、英飞凌、三星半导体等数十家国内外知名半导体企业参加大会。本次峰会聚焦汽车半导体芯片产业发展，探讨了汽车芯片供应链稳定、技术创新、标准制定、生态建设等主题。</p><p>&nbsp;</p><p>4月18日，第25届中国集成电路制造年会暨供应链创新发展大会在广州黄埔召开。本届年会以“立足新发展阶段，构建芯发展格局”为主题，吸引国内半导体产业链几乎全部要素企业参会。包括应用材料等多家国际知名半导体产业巨头也参加了此次峰会，从侧面显示出中国芯片市场对国际企业的巨大吸引力。</p><p></p><h2>台积电3纳米工艺首秀</h2><p></p><p></p><p>台积电在去年宣布正式量产下一代顶级制造工艺N3（3纳米），但之前并没有任何客户的相关产品发布。日前，美国芯片公司Marvell旗下基于N3工艺打造的数据中心芯片正式发布。该产品为数据中心服务器内的IO互联芯片，集成了240Tbps带宽的互联通道与PCIe Gen6通道控制器。新一代N3工艺降低了该芯片的能耗水平。</p><p>&nbsp;</p><p>据台积电公开数据显示，N3工艺是该公司目前最先进的N5工艺的下一代技术。与N5相比，N3的晶体管密度将提升70%，同功耗性能提升10-15%，同性能下功耗降低25%-30%。预计苹果公司在今年底发布的下一代A17 SoC也将采用该工艺制造。</p><p></p><h2>量子光源成功在芯片上集成</h2><p></p><p></p><p>最新一期的《自然·光子学》杂志发布了德国和荷兰科学家组成的国际科研团队的一项研究，该团队首次将能发射纠缠光子的量子光源完全集成在一块芯片上。相比当前量子计算机原型使用的体积庞大的外部激光光源，新研究可以将量子光源集成到单颗芯片上，尺寸缩小到目前设备的1/1000以下，且能实现更好的稳定性、可扩展性，方便进行大规模生产。改技术有望成为可编程光量子处理器的基本组件，降低量子技术应用的成本。</p>",
    "publish_time": "2023-04-23 15:37:32",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "查询提速 20 倍，Apache Doris 在 Moka BI SaaS 服务场景下的应用实践",
    "url": "https://www.infoq.cn/article/tZRqKPuvprHehohvxACt",
    "summary": "<p></p><blockquote>MOKA 主要有两大业务线 MOKA 招聘（智能化招聘管理系统）和 MOKA People（智能化人力资源管理系统），MOKA BI 通过全方位数据统计和可灵活配置的实时报表，赋能于智能化招聘管理系统和人力资源管理系统。为了提供更完备的数据支持，助力企业提升招聘竞争力，MOKA 引入性能 <a href=\"https://github.com/apache/doris\">Apache Doris</a>\" 对早期架构进行升级转型，成就了 Moka BI 强大的性能与良好的用户体验。</blockquote><p></p><p></p><p>作者｜Moka 数据架构师 张宝铭</p><p></p><h2>业务需求</h2><p></p><p>MOKA 主要有两大业务线 MOKA 招聘（智能化招聘管理系统）和 MOKA People（智能化人力资源管理系统）。</p><p></p><p>MOKA 招聘系统覆盖社招、校招、内推、猎头管理等场景，让 HR 获得更高效的招聘体验，更便捷的协作体验，让管理者获得招聘数据洞见，让招聘降本增效的同时，树立企业在候选人心目中的专业形象。MOKA People 覆盖企业所需要的组织人事、假期考勤、薪酬、绩效、审批等高频业务场景，打通从招聘到人力资源管理的全流程，为 HR 工作提效赋能。通过多维度数据洞见，助力管理者高效科学决策。全生态对接，更加注重全员体验，是一款工作体验更愉悦的人力资源管理系统。</p><p></p><p>而 MOKA BI 通过全方位数据统计和可灵活配置的实时报表，赋能于智能化招聘管理系统和人力资源管理系统。通过 PC 端和移动端的多样化报表展示，为企业改善招聘业务提供数据支持，全面提升招聘竞争力，从而助力科学决策。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/d9/d97b72e96f13c398e986d6060e9d7d29.png\" /></p><p></p><h2>MOKA BI 早期架构</h2><p></p><p><img src=\"https://static001.geekbang.org/infoq/07/074d55aae0839b1cd35c5c0feb5ecee4.png\" /></p><p></p><p>Moka BI 数仓早期架构是类 Lambda 架构，实时处理和离线处理并存。</p><p></p><p>实时部分数据主要来源为<a href=\"https://qcon.infoq.cn/2023/guangzhou/track/1511\">结构化的数据</a>\"，Canal 采集 MySQL 或 DBLE（基于 MySQL 的分布式中间件）的 Binlog 输出至 Kafka 中；未建模的数据按照公司分库，存储在业务 DBLE 中，通过 Flink 进行实时建模，将计算后的数据实时写入业务 DBLE 库，通过 DBLE 提供报表查询能力，支持数据大屏和实时报表统计。</p><p></p><p>离线部分涵盖了实时部分数据，其结构化数据来源于 DBLE 的 Binlog，明细数据在 Hbase 中实时更新，并映射成 Hive 表，非结构化数据通过 ETL 流程，存储至 Hive 中，通过 Spark 进行进行离线部分建模计算，离线数仓 ADS 层数据输出至 MySQL 和 Redis 支持离线报表统计，明细数据又为指标预测和搜索等外部应用提供数据支持。</p><p></p><h3>现状与问题</h3><p></p><p>在早期数仓架构中，为了实现实时建模以及实时报表查询功能，就必须要求底层<a href=\"https://qcon.infoq.cn/2023/guangzhou/track/1516\">数据库</a>\"能够承载业务数据的频繁插入、更新及删除操作，并要求支持标准 SQL，因此当时我们选择 DBLE 作为<a href=\"https://qcon.infoq.cn/2023/guangzhou/track/1511\">数据存储</a>\"、建模、查询的底层库。早期 Moka BI 灰度期用户较少，业务数据量以及报表的使用量都比较低，DBLE 尚能满足业务需求，但随着 Moka BI 逐渐面向所有用户开放，DBLE 逐渐无法适应 BI 报表的查询分析性能要求，同时实时与离线<a href=\"https://qcon.infoq.cn/2023/guangzhou/track/1511\">架构分离</a>\"、存储成本高且数据不易维护，亟需进行升级转型。</p><p></p><h3>技术选型</h3><p></p><p>为匹配业务飞速增长的要求、满足更复杂的查询需求，我们决定引入一款性能突出的 OLAP 引擎对 Moka BI 进行升级改造。同时出于多样化分析场景的考虑，我们希望其能够支撑更广泛的应用场景。调研的主要方向包括 报表的实时查询能力、数据的更新能力、标准的查询 SQL 以及数据库的可维护性、扩展性、稳定性等。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/63/63b0ae6eca371a80b0dd558feac86d0a.png\" /></p><p></p><p>确定调研方向后，我们首先对 Greenplum 展开了调研，其特点主要是数据加载和批量 DML 处理快，但受限于主从双层架构设计、存在性能瓶颈，且并发能力很有限、性能随着并发量增加而快速下降，同时其使用的是 PG 语法、不支持 MySQL 语法，在进行引擎切换时成本较高，因此在基本功能调研结束后便不再考虑使用。</p><p></p><p>随后我们对 ClickHouse 进行了调研，ClickHouse 在单表查询场景下性能表现非常优异的，但是在多表 Join 场景中性能表现不尽如人意，另外 <a href=\"https://www.infoq.cn/article/E6qLkOx9rqTEKOKqT9vT\">ClickHouse </a>\"缺少数据实时更新和删除的能力，仅适用于批量删除或修改数据，同时 ClickHouse 对 SQL 的支持也比较有限，使用起来需要一定的学习成本。</p><p></p><p>紧接着我们对近几年势如破竹的 Apache Doris 进行了调研，在调研中发现，Doris 支持实时导入，同时也支持数据的实时更新与删除，可以实现 Exactly-Once 语义；其次，在实时查询方面，Doris 可以实现秒级查询，且在多表 Join 能力的支持上更加强劲；除此之外，Doris 简单易用，部署只需两个进程，不依赖其他系统，兼容 MySQL 协议，并且使用标准 SQL ，可快速上手，部署及学习成本投入均比较低。</p><p></p><h3>Benchmark</h3><p></p><p>在初步调研的基础之上，我们进一步将 <a href=\"https://www.infoq.cn/article/0MiKpHhupXlSOFjbxQrV\">Apache Doris</a>\" 、Clickhouse 与当下使用的 DBLE 在查询性能上进行了多轮测试对比，查询耗时如下：</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/9f/9fd67d0daa8d7ad1a24225f2b4946567.png\" /></p><p></p><p>多表 Join：随着 SQL Join 数量的增多，Doris 和 ClickHouse 性能表现差距越来越大，Doris 的查询延迟相对比较稳定，最长耗时仅为 3.2s；而 ClickHouse 的查询延迟呈现指数增长，最长耗时甚至达到 17.8s，二者性能最高相差 5 倍，DBLE 的查询性能则远不如这两款产品。慢查询： 在线上慢查询 SQL 的对比测试中，Doris 的性能同样非常稳定，不同的 SQL 查询基本都能在 1s 内返回查询结果，ClickHouse 与之对比查询延迟波动较大、性能表现很不稳定，二者相同 SQL 性能差距最大超过 10 余倍。</p><p></p><p>通过以上调研对比，可以看出 Apache Doris 不管是在基本功能上、还是查询性能上表现都更胜一筹，因此我们将目标锁定了 Doris，并决定尽快引入 Apache Doris 作为 Moka BI 新一代 数仓 架构的查询引擎。</p><p></p><h2>新版架构</h2><p></p><p><img src=\"https://static001.geekbang.org/infoq/99/99845f90a99e620338408c4a69fbe83b.png\" /></p><p>在引入 Doris 之后，Moka BI <a href=\"https://qcon.infoq.cn/2023/guangzhou/track/1511\">数仓架构</a>\"的主要变化是将 OLAP 和 OLTP 进行分离，即使用 DBLE 支持数据的实时建模，数据来源于 Moka 系统的业务数据，包含了结构化和半结构化的数据，通过 Flink 读取 DBLE Binlog，完成数据去重、合并后写入 Kafka，Doris 通过 Routine Load 读取 Kafka 完成数据写入，此时 DBLE 仅作为数据建模合成使用，由 Doris 提供报表查询能力。</p><p></p><p>基于 Doris 列存储、高并发、高性能等特性，Moka BI 报表采用自助方式构建完成，支撑客户根据需求灵活配置行、列、筛选的场景。与传统报表按需求定制开发方式对比，这种自助式报表构建非常灵活，平台开发与需求开发完全独立，需求完成速度得到极大的提升。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/58/588958edd55c736e6684363483828533.png\" /></p><p></p><p>数据导入方面，数据通过 Routine Load 定期批量导入到 Doris 数据仓库中，保证了数据的准实时同步。通过对系统数据收集与建模，及时向客户提供最新的业务数据，以帮助客户快速了解招聘情况，并做出有效的调整。</p><p></p><p>数据更新方面，Doris 在大数据量（单表几十亿）的场景下，表现出了突出的数据更新和删除能力，Moka BI 读取的是业务库的 Binlog 数据，其中有大量的更新以及删除操作，Doris 可以通过 Routine Load 的 Delete 配置实现实时删除，根据 Key 实现幂等性写入，配合 Flink 可以做到真正的 Exactly-Once。在架构中增加了 Routine Load 后，数仓可以实现 1 分钟级别的准实时 ， 同时结合 Routine load + Kafka 可以实现流量的削峰，保证集群稳定，并且可以通过重置 Kafka 偏移量来实现间数据重写，通过 Kafka 实现多点消费等。</p><p></p><p>数据查询方面，充分利用 Doris 的多表 Join 能力，使得系统能够实现实时查询。我们将不同的数据表按照关联字段进行连接，形成一个完整的数据集，基于数据集可进行各种数据分析和可视化操作，同时可高效应对任意条件组合的查询场景以及需要灵活定制需求的查询分析场景，在某些报表中，需要 Join 的表可能达到几十张，Doris 强大的 Join 性能，使 Moka BI 的报表查询可以达到秒级响应。</p><p></p><p>运维管理方面，Doris 部署运维简单方便，不依赖第三方组件，无损弹性扩缩容，自动数据均衡，集群高可用。Doris 集群仅有 FE 和 BE 两个组件，不依赖 Zookeeper 等组件即可实现高可用，部署、运维方便，相比传统的 Hadoop 组件，非常友好，支持弹性扩容，只需简单配置即可实现无损扩容，并且可以自动负载数据到扩容的节点，大大降低了我们引入新技术栈的难度和运维压力。</p><p></p><h2>调优实践</h2><p></p><p>新架构实际的落地使用中，我们总结了一些调优的经验，在此分享给大家。</p><p></p><p>在 Moka BI 报表查询权限场景中，同样配置的报表，有权限认证时查询速度比没有权限认证时慢 30% 左右，甚至出现查询超时，而超管权限查询时则正常，这一现象在数据量较大的客户报表中尤为明显。</p><p></p><p>人力资源管理业务的<a href=\"https://qcon.infoq.cn/2023/guangzhou/track/1511\">数据</a>\"权限有着极为严格和精细的管控需求，除了 SaaS 业务自身对于不同租户间的数据隔离要求外，还需要针对业务人员的身份角色、管理部门范畴以及被管理人员的信息敏感程度对可见数据的范围进行进一步细分，因此在 Moka BI 权限功能模块的设计之时就考虑并实现了极为灵活的自定义配置化方案。例如 HRBP 与 PayRoll、HRIS 等角色的可见字段不同、不同职级或部门但角色一致用户的可见数据区间不同，同时针对部分敏感的人员信息还需要做数据过滤，或者出于管理授权的需求临时开通某一权限，甚至以上权限要求还会进行多重的交叉组合，以保证每一用户可查看的数据、报表、信息均被限制在权限范围以内。</p><p></p><p>因此当用户需要对数据报表进行查询时，会先在 Moka BI 的权限管理模块进行多重验证，验证信息会通过 in 的方式拼接在查询 SQL 中并传递给 OLAP 系统。随着客户业务体量的增大，对于权限管控的要求越精细、最终所产生的 SQL 就越复杂，部分业务规模比较大的客户报表会出现上千甚至更多的权限限制，因此造成 OLAP 系统的 id 过滤时间变长，导致报表查询延迟增加，给大客户造成了体验不佳。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/85/85bb995c8ba4508a533bb9ab4a3dc721.png\" /></p><p></p><p>解决方案：</p><p></p><p>为适配该业务场景，我们通过查看官方的文档发现 Doris Bloom Filter 索引的特性可以很好的解决该问题</p><p><img src=\"https://static001.geekbang.org/infoq/1e/1ecb38d6cf3510fec7f3d7a25de0ea57.png\" /></p><p>Doris BloomFilter 索引使用场景：</p><p></p><p>BloomFilter 适用于非前缀过滤。查询会根据该列高频过滤，而且查询条件大多是 in 和 = 过滤。不同于 Bitmap，BloomFilter 适用于高基数列，比如 UserID。因为如果创建在低基数的列上，比如 “性别” 列，则每个 Block 几乎都会包含所有取值，导致 BloomFilter 索引失去意义。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/6d/6d271e46ee3ab5b3b8dcd865f6eba78b.png\" /></p><p></p><p>经过验证，可以通过上方对比报表看到，将相关 ID 字段增加 BloomFilter 索引后 ，权限验证场景查询速度提升约 30% ，有权限验证的报表超时的问题也得到了改善。</p><p></p><h2>收益与总结</h2><p></p><p>目前 Moka BI Doris 有两个集群， 共 40 台服务器， 数仓 共维护了 400 多张表 ，其中 50 多张表数据量超过 1 亿，总数据量为 T B 级别。</p><p></p><p>引入 Apache Doris 改造了新的数据仓库之后，满足了日益增长的分析需求以及对数据实时性的要求，总体收益包含以下几点：</p><p></p><p>高性能数据查询： Doris 基于列存储技术，能够快速处理大量的数据，并支持高并发的在线查询，解决了关系型数据库无法支持的复杂查询问题，复杂 SQL 查询的速度上升了一个数据量级。数据仓库 的可扩展性： Doris 采用分布式集群架构，可以通过增加节点来线性提升存储和查询瓶颈，打破了关系型数据库数据单点限制问题，查询性能得以显著提升。更广泛的应用： 基于 Doris 构建了统一的数据查询平台，应用不再局限于报表服务，对于离线的查询也有很好的支撑，可以说 Doris 的引入是构建数仓一体化的前奏。实现自助式分析： 基于 Doris 强大的查询能力，我们引入了全新的报表构建方式，通过用户自助构建报表方式，能够快速满足用户的各种灵活需求。</p><p></p><p></p>",
    "publish_time": "2023-04-23 15:40:29",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "人口不足千万、芯片厂近200家，以色列技术人如何在芯片领域“挖金山”？| 独家对话Pliops创始团队",
    "url": "https://www.infoq.cn/article/ONbKpeZOAv7pqjSRtwtG",
    "summary": "<p>芯片领域有两个很重要的定律，即摩尔定律和安迪 - 比尔定律。</p><p></p><p>前者是指集成电路上可容纳的晶体管数目约每 18 个月便会增加一倍。后者来源于 20 世纪 90 年代计算机会议上的一个小笑话，原话是 “Andy gives, Bill takes away（安迪提供什么，比尔拿走什么）”，这里的安迪指的是英特尔的前任 CEO 安迪·格鲁夫，比尔指的则是微软的前任 CEO 比尔·盖茨。这句话引申的含义是“新的软件总会耗尽硬件所提高的计算能力”。</p><p></p><p>在<a href=\"https://qcon.infoq.cn/2023/guangzhou/track/1512\"> AI 崛起</a>\"的新应用时代，软件对于硬件，尤其是最核心的处理器的要求比以往任何时候都要高。纵观整个芯片发展史，“芯片王国”以色列是其中绝不能错过的一个章节。</p><p></p><p>以色列的半导体产业至今已有 40 多年的发展历史，拥有全世界最完整的半导体产业生态链。</p><p></p><p>从上世纪 70 年代<a href=\"https://www.infoq.cn/article/YMaAfipUq5wux6ceIBm5\">英特尔</a>\"在以色列建立第一个研发中心开始，以色列在全球半导体行业的发展中就发挥了越来越重要的作用，世界上第一台手持移动手机、第一个电脑处理器、闪迪的第一个 U 盘以及英特尔的首枚手机芯片等都在这里诞生。</p><p></p><p>作为最早一批英特尔员工，Dov Foreman 发明了 EPROM，是<a href=\"https://www.infoq.cn/article/RrLLa1eVfArsICTtCVEv\">英特尔</a>\"富有功勋的元老之一。1974 年，Dov Foreman 决定返回以色列并说了服英特尔在那里开设研究中心，这就是以色列半导体产业的起源。</p><p>从那时起，以色列的半导体投资稳步增长，高科技行业和相关初创企业也成为以色列经济的主要贡献者。虽然以色列人口基数不大，但半导体公司数量却位居全球第二。就是这样一片土地，孕育出了发达的半导体产业。</p><p></p><p>数据显示，以色列如今拥有 160 多家芯片公司，芯片工程师多达 3 万人，包括英伟达、三星、IBM、Marvell、思科、博通等在内的多家芯片巨头均在以色列设有工厂。</p><p></p><p>芯片产业对专业人才、资金投入和工业制造基础有着极高的要求，以色列却做到了在短短几十年内成为全球芯片研发基地。</p><p></p><p>以色列的芯片产业现状如何？为何这里能成为芯片巨头必争之地？当前新数据时代，我们到底需要什么样的芯片？在全球降本增效大环境下，技术人创业需要具备哪些前提和条件？带着这些问题，InfoQ 近期独家采访了 Pliops 的创始团队成员，和他们聊一聊芯片产业发展的下一步。</p><p></p><p>Pliops 是一家总部位于以色列特拉维夫的云和企业数据处理器创新公司，主要生产 Pliops Extreme Data Processor，即 XDP，旨在改善<a href=\"https://qcon.infoq.cn/2023/guangzhou/track/1511\">数据处理</a>\"和 SSD 存储的管理方式，这家公司的创始团队均来自以色列。</p><p></p><p>Pliops 由一支数据架构专家团队于 2017 年创立，2020 年，全球知名的商业杂志《Computer Reseller News》（简称 CRN）将 Pliops 评为全美最热门的 10 家<a href=\"https://www.infoq.cn/article/Rtv6sq9JBIEIVuj7htV4\">半导体</a>\"初创公司之一。去年 8 月，Pliops 宣布完成新一轮 1 亿美元的融资，迄今为止，公司的总融资额超过 2 亿美元——而且还在增加。</p><p></p><p>以下为本次访谈视频实录和精华文字整理，经 InfoQ 审校和编辑：</p><p></p><p></p><p></p><h2>以色列缘何成为芯片巨头必争之地？</h2><p></p><p></p><p></p><blockquote>InfoQ：很高兴有机会采访到您，您能先向我们的读者介绍一下自己吗？</blockquote><p></p><p></p><p>Uri Beitler：当然。我是 Uri Beitler，以色列数据处理器公司 Pliops 的 CEO 兼创始人。</p><p></p><p>Moshe Twitto：我是 Moshe Twitto，Pliops 公司的 CTO 兼创始人。</p><p></p><p></p><blockquote>InfoQ：我了解到您二位曾在三星一起共事近 10 年，你们之间的合作感受是怎样的？</blockquote><p></p><p></p><p>Uri Beitler：Moshe 跟我是长久以来的合作伙伴。你说得没错，我们都有相似的背景。我们都是开发出身，都是工程师，也都曾在多家通信和信号处理企业里参与过创新开发工作。在创建 Pliops 之前，我们都在三星工作。我当时是三星以色列中心的负责人，Moshe 是首席科学家。我们负责三星的创新项目，主要是基于闪存的产品组合。</p><p></p><p>自从我们在 Pliops 聚首以来，两个人一直合作得非常愉快。初创工作的强度要大得多，而且公司成立至今也五年多了。初创企业就是这样，业务在不断成长，挑战和机遇随时随地都有可能出现。</p><p></p><p></p><blockquote>InfoQ：您二位之前在三星工作，后来为什么决定离开三星自己出来创业呢？</blockquote><p></p><p></p><p>Moshe Twitto：这事说来就有趣了。实际上，我和 Uri 都在<a href=\"https://www.infoq.cn/article/hr0Vyhxtb701BXVt6ZwQ\">三星</a>\"工作，前后大概有八年时间。有一天，我们俩刚结束一段商务差旅，坐上返程的飞机。我们都工作得非常努力，但却感觉自己没办法完全控制自己打造的产品。</p><p></p><p>我们都感到有些沮丧，因为没办法按自己认为正确的方式做事。我们就在那念叨着应该一起做点什么，自己掌握设计、自己掌握命运，看看完全按自己的想法来能创造出怎样的成果。一切就从那时候开始了。当然，后来我们又讨论过商机和产品细节。但创业的念头确实是在那一刻萌发的。</p><p></p><p></p><blockquote>InfoQ：在建立自己的企业前，你们有没有做过市场调查？</blockquote><p></p><p></p><p>Moshe Twitto：那肯定要做的。我们研究了存储行业，毕竟我们都有在三星做存储业务的背景。我们发现几乎所有的存储产品、数据库、软件定义存储系统等都拥有一个特定组件，它对整个系统、整个应用的效率、成本和性能有着巨大的影响。</p><p></p><p>于是我们决定专注于这个组件，也就是存储引擎，想办法让它更高效、更具成本效益。这就是我们市场研究中的一部分，并且我们发现这类产品非常受欢迎，在市场上也有着巨大的影响力。所以我们决定就朝着这个方向前进。</p><p></p><p></p><blockquote>InfoQ：在以色列创办芯片企业有哪些独特的优势呢？</blockquote><p></p><p></p><p>Moshe Twitto：主要优势在于生态系统。以色列的生态系统非常丰富，其中 45% 的半导体风险投资来自以色列内部，约有 25% 来自美国和世界各地。</p><p></p><p>以色列还有培育半导体业务的文化。所以我们可以在这里获得探索思路，建立良好业务的资金支持。资金的支持可以说至关重要。我跟欧洲的其他初创企业家交流过，其实世界各地都不缺好的想法，但他们的资金获取难度就很大，往往只能依赖于有限的政府拨款。在以色列，我们有私人风投行业，规模很大而且愿意承担风险。资金永远是个关键因素。另一方面，以色列有很多训练有素的员工，能为初创公司提供人力补充。这在<a href=\"https://www.infoq.cn/article/hr0Vyhxtb701BXVt6ZwQ\">半导体</a>\"行业也是个特例，毕竟大多数国家没有这么多人才储备，难以支撑起半导体开发所需要的庞大人力。</p><p></p><p>这个行业比较特殊，企业需要非常优秀的<a href=\"https://qcon.infoq.cn/2023/guangzhou/track/1520\">工程师</a>\"，而且容错性很低。一旦搞出问题，那砸进去的几千万就没有了。所以这是以色列的另一个优势，我们可以接触到经验丰富且才华横溢的工程师。</p><p></p><p></p><blockquote>InfoQ：您谈到了以色列芯片制造业的诸多优势。那您和团队在创业过程中有没有遇到什么困难？</blockquote><p></p><p></p><p>Moshe Twitto：那肯定有。首先，筹措资金绝非易事，虽然幸运的是以色列有不少支持性的风险投资，但想要说服投资者还是得下一番功夫。</p><p></p><p>这方面需要投入大量时间。而且在整个过程中，体验就像是坐过山车，总有起起落落。</p><p></p><p></p><blockquote>InfoQ：筹集资金确实不容易，但你们筹集到了 2 亿多美元，这挺厉害了。您觉得他们为什么会愿意投资 Pliops？</blockquote><p></p><p></p><p>Moshe Twitto：因为我们面向的市场有很大空间。我们面向的市场总值高达几百亿美元。而且过去几年来的数字化转型趋势，也让我们的业务定位显得愈发突出。我们的产品强调提高数据中心的效率，对环境也有好处。比如我们可以减少电力消耗，目前全球很大一部分电力都流向了数据中心。</p><p></p><p>所以市场空间非常可观，而我们的技术有望颠覆现有规则。例如，只要把我们的设备接入服务器，客户就能把现有数据中心的容量翻倍、甚至提升到更高水平。操作方式非常简单，可以快速让数据中心里的几万台服务器实现容量倍增。所以我们的投资者才愿意相信我们，相信这个领域。</p><p></p><p></p><blockquote>InfoQ：我听说以色列有很多芯片初创企业，但人们对以色列的科技行业了解并不太多。您能介绍一下以色列科技行业的基本情况吗？以色列有哪些比较知名的科技公司？</blockquote><p></p><p></p><p>Moshe Twitto：以色列的半导体行业始于 1974 年的英特尔。作为最早一批英特尔员工，Dov Foreman 发明了 EPROM，他是英特尔的元老之一。1974 年，Dov Foreman 决定返回以色列并说了服英特尔在那里开设研究中心，这就是以色列半导体产业的起源。</p><p></p><p>从那时起，以色列的半导体投资稳步增长，高科技行业和相关初创企业也成为以色列经济的主要贡献者。以色列有很多高科技公司，既有跨国大厂也有初创公司。以色列虽然人口基数不大，但半导体公司数量却位居全球第二。就是这样一片土地，孕育出了发达的半导体产业。</p><p></p><p>此外，以色列有很多知名的科技公司。全球企业包括英伟达、三星、IBM、Marvell、思科、博通等等，初创公司有 Xsight Labs、NeuroBlade 和 NeuReality 等等。</p><p></p><p></p><blockquote>InfoQ：那在您看来，以色列的芯片制造行业跟美国、中国乃至韩国的产业有什么异同？</blockquote><p></p><p></p><p>Moshe Twitto：我觉得最大的区别，应该是承受风险的能力吧。其实很多业务的发展壮大，最初都是从风险起步的。我们拥有一个风险投资生态系统，专门向高风险且高回报的行业和从业企业提供资金。</p><p></p><p>所以在以色列，创新技术的发展空间更大，而不像其他国家那样更倾向于做改善性的同类产品。以色列更多关注新鲜事物，比如我们做的这类业务。我们发明的处理器是独一无二的。所以在我看来，这就是以色列技术行业跟其他半导体大国的主要区别。</p><p></p><p></p><blockquote>InfoQ：除了芯片制造之外，以色列还擅长哪些半导体技术？</blockquote><p></p><p></p><p>Moshe Twitto：以色列拥有非常强大的存储产品。全球各大存储厂商都很关注开发工作，比如说 EMC，还有一些不直接做半导体的数据公司。另外就是处理器，比如说 AWS，他们基于<a href=\"https://qcon.infoq.cn/2023/guangzhou/track/1511\"> ARM 架构</a>\"的处理器 Graviton 就是在以色列开发的。大多数英特尔处理器也都在以色列开发完成。所以总体上可以分成两类，存储芯片和处理器芯片，以色列都非常突出。</p><p></p><h2>技术人创业，Talk Is Cheap</h2><p></p><p></p><p></p><blockquote>InfoQ：但最近几年受特殊环境影响，我听说在世界各地很多行业的收益都在减少。很多大公司，包括谷歌、Meta 甚至是微软，都开始裁撤员工。很多技术人员也决定离开公司，自主创业。对这股趋势，您怎么看？</blockquote><p></p><p></p><p>Moshe Twitto：我觉得这再次证明，每一场危机之下都蕴藏着复兴和扩张的机会。其实以色列的高科技产业也是这么来的，以色列本打算在 1980 年代研发一款非常先进的喷气式战斗机，但最终项目被取消了，成千上万工程师被解雇。但这也拉开了以色列高科技产业的帷幕。在遇到危机时，最重要的是生存下来并把握其中的机会。 正如你所提到，这正是开启自己事业的好时机。我们可以着眼于过去几年间存在的现实问题，从中吸取教训并努力把事情做好。</p><p></p><p></p><blockquote>InfoQ：您曾在三星担任开发者，后来又自己创业，相信您的经历对很多技术人有借鉴意义。在您看来，如果技术人员想要创业并取得成功，应该具备哪些条件？</blockquote><p></p><p></p><p>Moshe Twitto：这其实是个挺难回答的问题。首先，你得学会在同一件事情上坚持不懈。没错，因为一路上总会有很多困难，所以必须对前进的方向和成功的可能性拥有坚定的信念甚至偏执，否则人们往往在筹集资金和开发产品阶段就放弃了。这是第一点。其次，要思想灵活，保持强大的生命力。你得让自己适应现实情况。这两点听起来有点矛盾，既要坚持己见、又要灵活机动，但事实确实如此。总之要强迫自己走下去，同时不断听取市场的声音。</p><p></p><p>而且我们不会拘泥于最初的想法，而是结合设想对产品不断做出重大变更，确保能适应市场需求并借此盈利。这就是我提到的第二个条件。之后就是获得成功的常规要素了，努力工作、培养良好的执行力、学习管理大型项目的技能等。对创业者来说，这些都是必不可少的课程。</p><p></p><p></p><blockquote>InfoQ：但我接触过的一些很优秀的技术人员他们不愿意走到人前去侃侃而谈。他们比较腼腆，不太健谈，不知道怎么更好地跟他人打交道、思路也不够开阔，甚至不喜欢在公共场合露面。您觉得这些会对他们创业有影响吗？</blockquote><p></p><p></p><p>Moshe Twitto：我不确定创业成功是不是必须得具备这些特征。我觉得只要你决定自己牵头、追求自己的方向，就能在身边聚集起优秀的团队。我不知道在半导体这个行业里，创业者是不是非得搞得像摇滚明星那样。虽然这种性格在营销和销售方面更有优势，但决定成败的关键还是前面提到的能力，你要拥有足够聪明的头脑来理解业务、想清楚怎么设计出好的产品。</p><p></p><p>所以我想跟大家说，性格内向并不是问题。你可以的，创业的旅途会推动你成长。内向只是一种性格特质，在承担起创业的责任之后，这些问题也就不再是问题了。</p><p></p><p></p><blockquote>InfoQ：现在您在 Pliops 公司担任 CTO，需要组建自己的一支技术团队。您的团队现在有多少工程师？您是如何打造这支队伍的，又是如何培养企业文化的？  </blockquote><p></p><p> </p><p>Moshe Twitto：现在团队总共大概有 100 名工程师。咱们前面也谈到了，在招募到第一批核心成员之后，通常就会出现“富兰克林效应”。</p><p></p><p>所以我在这里要给每位创业者提个建议，请谨慎选择你的核心团队。没错，第一批员工必须拥有创业精神。我推荐大家选择那些有一定经验的员工，因为创业公司的经营跟老牌企业有很大区别。这里更敏捷，也更灵活。大家需要善于在资源匮乏的环境中处理问题、取得成功，你可能会觉得人手永远也不够用。</p><p></p><p>所以最好先建立一支三个人左右的小团队，之后再逐步扩展。以此为基础，他们又会带来出色的人选。你一个个接触新人、了解他们并发现他们身上的优点。通过这种方式，团队也就慢慢建立起来了。</p><p></p><p></p><blockquote>InfoQ：那您刚开始创业的时候，工程师团队有多少人？</blockquote><p></p><p></p><p>Moshe Twitto：人数是逐渐增加的。我们最初也是先成立核心团队，刚开始只有一个人。</p><p></p><p></p><blockquote>InfoQ：只有一个人？</blockquote><p></p><p></p><p>Moshe Twitto：是啊，而且在融资之前连工资都没有。但他信任我们的产品，决定辞去工作加入我们。我们答应之后赚了钱会回报给他，但当时如果融资失败，那他就什么都拿不到。可他相信我们，愿意和我们一起工作。</p><p></p><p>后来我们的核心团队扩充到了大概十个人，其中有五个负责 IC 设计，还有三个负责软件。从那之后，我们招的人越来越多，团队也越来越大。</p><p></p><p>在以色列，自主创业去做独特创新是融入了我们血液的天性。我 10 岁的时候就想过要搞一套技术解决方案出来。虽然没有付诸行动，但这是我们成长文化的一部分。我们乐于创新，探索为大难题寻求独特的解决办法。我也在曾经工作过的地方学会了如何创新、如何发明新的事物。</p><p></p><p>这样在看到行业需求时，在看到有待解决的巨大瓶颈时，我们就心动了。我们在三星构建起了世界上最好的 SSD，但价值却都被运行其上的软件堆栈给糟蹋了。于是我们觉得这是个机会，不妨借此建立自己的业务。</p><p></p><h2>DPU 的大规模应用正在路上</h2><p></p><p></p><p></p><blockquote>InfoQ：聊完团队咱们聊聊产品吧。我了解到 Pilops 成立后便推出了自己的产品 XDP。能不能介绍一下 XDP 的设计思路？</blockquote><p></p><p></p><p>Moshe Twitto：当然。XDP 的核心在于键值。就像在采访开头所说，键值设计就是存储系统中的存储引擎，它直接决定着系统的实际效率。传统的存储引擎会消耗大量资源，所以我们发明了一种可以高效完成工作的新型数据结构和算法。之后我们意识到，要想达成这个目标，我们需要访问大量计算资源。</p><p></p><p>如果直接使用常规 CPU，那这业务就没有意义了，因为<a href=\"https://www.infoq.cn/article/oajLcUpF45Vk3L68KDTZ\"> CPU </a>\"的成本太高。所以我们才决定制造 ASIC，也就是通过一款专用处理器来解决非计算问题。我觉得这个想法非常有趣，因为大多数人在谈到半导体时，首先想到的就是各种计算问题。比如从 AI 行业出发，他们会想到神经网络中的棘手难题，这就属于纯粹的计算问题。但我们不同，所以我们决定探索硬件加速。在我们的用例中，问题不仅仅在于计算，而更多体现在 I/O 行为上，也就是存储资源的使用方式。我们发现，如果能开发专用的 ASIC 来访问高性能计算，就可以派生出一种非常复杂的新颖结构。</p><p></p><p>这样的结构没办法在 CPU 上实现，但只要能为市场提供相应的 ASIC，那业务就算成功了。这既有助于削减 CPU 成本，又能降低耗电量。</p><p></p><p>通过提供这种专用的硬件，我们就能设计出传统 CPU 所无法承载的新型数据结构。换句话说，这就是在用加速器来解决非计算问题。</p><p></p><p>而在拥有了自己的 ASIC 之后，我们又发现可以在其中加载越来越多的功能，借此创造出更多价值，同时也能减少当前管理多种不同加速器时引发的编排开销。于是我们添加了压缩、加密和擦除编码等越来越多的功能，这为我们发明的核心技术带来了更多衍生价值。这就是我们的产品设计理念。</p><p></p><p></p><blockquote>InfoQ：那 XDP 跟传统的 CPU 和 GPU 有何区别？XDP 的主要应用场景是什么呢？</blockquote><p></p><p></p><p>Moshe Twitto：最大的区别在于，GPU、DPU 和 CPU 都是可编程的，所以对程序员有一定要求。它虽然提供了灵活性，但也要求客户调整自己的系统和代码，这样才能适应和利用新技术。这些也都使用常规核心，也就是常规的 CPU 核心。虽然在架构上做出了一定改变，但并没有颠覆计算的基本实现方式，无非就是把这样东西挪到了新的位置。以 DPU 为例，DPU 是什么？它的特点就是跟处理器结合发挥高性能。</p><p></p><p>大家可以先从英特尔或<a href=\"https://www.infoq.cn/article/RrLLa1eVfArsICTtCVEv\"> AMD </a>\"中做选择，再把负载转移到 DPU 上具备架构优势的 Arm 处理器，借此优化解决方案和基础设施管理。但我们采取的是完全不同的方法，我们提供的是一套能解决足够广泛问题的交钥匙解决方案。我们直接把方案交给客户，他们不再需要做任何繁重的调整。只需插入我们的设备，将应用程序接入我们的 API，一切就能正常工作，而且效率更高、可靠性更强。这就是主要区别所在。DPU 很早之前就存在了，在很多财力雄厚的大公司都在支持我们。但 DPU 仍然需要很长时间才能在数据中心里发挥作用，要求我们调整和变更整个基础设施来与之适配。</p><p></p><p>凭借着显著的定位差异，我们得以真正改变并提高效率，不只是在不同的处理器上做相同的计算。正如前面提到，我们使用的是新的数据结构和专用的硬件，不再依赖于传统方案。</p><p></p><p></p><blockquote>InfoQ：也就是说，XDP 的主要应用场景就是高效处理数据吗？</blockquote><p></p><p></p><p>Moshe Twitto：对，就是这样。我们解决的是一个具体问题，而且这个问题广泛存在于整个存储行业当中。能找到这样的问题真的很幸运，因为一方面它定义明确，另一方面又有普遍的认可度，所以我们可以针对这样的特定问题提供量身定制的解决方案。它的使用难度不高，用不着在我们提供的产品上另行编写代码、搞迁移、调整基础设施等，那可是要耗费成百上千工程师的大麻烦。我们的产品简单插入就能解决问题。另外，DPU 也证明了自己的能耐，先行者 AWS 已经做出了探索。但他们牢牢把控着自己的数据中心和技术堆栈，不容他人置喙。</p><p></p><p>他们倒是可以从起步阶段就纳入这类设计，但对于一般的数据中心来说，很难承受得起这样的颠覆。但我相信这是个理想的方向，大家最终都会朝着这个方向改变，因为它确实能让效率更高。而且这应该不会对我们构成竞争，因为要想解决这些复杂的存储和操作难度，必须要有专用的硬件来实现。单靠传统 CPU 是行不通的。</p><p></p><p></p><blockquote>InfoQ：那 Pliops 有没有考虑过自产 DPU 芯片？</blockquote><p></p><p></p><p>Moshe Twitto：在架构层面来讲，把处理和网络耦合起来是有天然优势的。毕竟每个服务器的入口点都是网络，DPU 的主要优势也正在这里。实际上，我们也在发展路线图中考虑过跟 DPU 厂商合作制造芯片，尝试将这两种技术结合起来投放市场。我们当然有这样的打算，也在为此而努力。</p><p></p><p></p><blockquote>InfoQ：随着 AI 技术的发展，数据流已经无处不在。您是如何看待我们如今的数据管理方式？像 ChatGPT 这类大模型现在是如此的炙手可热。</blockquote><p></p><p></p><p>Moshe Twitto：没错，ChatGPT 确实大受欢迎。Facebook 去年也展示过，这类机器学习训练需要耗费大量的服务流量和带宽，借此处理海量数据并执行分析和训练。目前，大部分此类负载都要通过传统的、非常陈旧的基础设施来访问数据，主要就是文件系统。但特准的文件系统效率不高，难以承受大量即时操作。为此，厂商们引入了大量所谓 I/O 放大的机制，受到文件系统设计方式的影响，实际传输的数据比真正需要的数据多得多。我们就是要为这个细分市场提供键值解决方案。键值非常灵活高效，特别适合 AI 节点。通过部署针对 AI 扩展的键值系统，客户能够削减基础设施的实际规模。</p><p></p><p>传统数据库采取的也是同样的发展思路，他们用键值来减轻系统负担，而不是无脑为系统添加配置。现在我们想为 AI 贡献的方案也一样，与其把传输速率提高到 400 Gbps 甚至 1000 Gbps，倒不如想办法提升数据传输效率。我们只移动需要移动的信息，并用键值抽象来达成这个目标。我们可以利用原本的基础设施，为 GPU 和可信 AI 的发展提供分层的决策支持。</p><p></p><p>这就是我们对当前形势的判断。</p><p></p><h2>为什么芯片制造很“烧钱”？</h2><p></p><p></p><p></p><blockquote>InfoQ：我们都知道芯片制造是个很烧钱的行业，堪称吞金怪兽。您能不能解释一下，为什么芯片制造成本会这么夸张？</blockquote><p></p><p></p><p>Moshe Twitto：其中一部分源自制造工艺本身。每一代芯片的制造工艺都在进步，或者说制造技术越来越复杂。我们目前的极限是 3 纳米，也就是说一个晶体管里只能容纳几十个电子了，而且这还不算完。所以，制程工艺的成本会越来越高。这就是高成本的来源，制造本身就非常昂贵。比如说，制造成本往往会达到千万美元级别，甚至数千万美元。这还不是最烧钱的部分。</p><p></p><p>实际上，为了保证一次成功，整个开发团队的规模也得铺得很大。厂商需要投入大量资金做详尽的验证和评估，这跟常规的软件开发也不一样。众所周知，软件发布是可以接受有 bug 的，只要后续再发布新版本就行。所以软件团队可以把规模控制得比较小，先把一定成果推向市场，之后再慢慢修复和升级。也就是说，软件的首个版本投放市场后，收入流就已经建立起来了，而且每个版本可以保持灵活敏捷的迭代方式。但 ASIC 就要求我们一次成功，这必须投入大量的验证、评估和开发资源。</p><p></p><p>在经历了漫长的前期开发之后，产品才能投放市场。这就造成了非经常性工程成本和开发成本。前面也提到，制造成本同样很高，收入来得也更晚。但另一方面，一旦芯片投放市场，带来的附加价值一般会高于软件行业。当然，这只是平均而论。风险投资分析也是按平均数来核算的。总之，半导体初创公司的特点就是投入更高、回报率也更高，所以才显得特别烧钱。好在利润确实可观，否则就没人愿意投资了。花得多赚得也多，芯片就是这样一个行业。</p><p></p><p></p><blockquote>InfoQ：雇佣开发工程的成本也很高吧？</blockquote><p></p><p></p><p>Moshe Twitto：没错。在开发阶段，制造成本高，开发工程的成本更高。因为你得养活规模可观的大团队，这些团队要工作很长时间才能创造出收入。</p><p></p><p>所以一定得有良好的融资环境，用融资来覆盖掉产生收入之前的漫长成本周期。但只要能坚持到产生收入，业务就算是立住了。</p><p></p><p>总之 ASIC 并不灵活，即使是一丁点小错误、一点点的设计失误，它都没法工作，整块芯片就成了垃圾。所以才需要前期投入大量资金来确保一切正常，经历漫长的周期才能赚到第一块钱。因此，良好的融资环境才至关重要。</p><p></p><p></p><blockquote>InfoQ：就是说，一丁点错误都会引发灾难性的后果。</blockquote><p></p><p></p><p>Moshe Twitto：是的。一个小小的、微不足道的错误都会毁掉 ASIC。有时候也有纠正的余地，但有时候可能得冒险再砸进 1000 万美元才能解决，不管其中的改变有多么微小。而软件则友好得多，用几年时间慢慢完善产品都没问题。大家都习惯了软件有 bug，不断提升修复和新功能就行。软件可以几个月解决一个问题，再提供一点新增价值，但 ASIC 就不行。</p><p></p><p></p><blockquote>InfoQ：经过这么多年的发展，Pliops 符合您当初的预期吗？</blockquote><p></p><p></p><p>Uri Beitler：我觉得符合，但这只是我的看法，不知道 Moshe 怎么理解。对我来说，Pliops 发展得要比我当初的想象好得多。我们建立起一支了不起的团队，从以色列国内的生态系统中吸引到来自亚马逊、微软、苹果、IBM 等公司的人才。我们的内部团队非常强大，财务状况也很好。我们还拥有全世界晴好的投资者，包括英伟达、SK 海力士、西部数据，当然还有英特尔。</p><p></p><p>除了大型投资方赋予我们的良好财务状况之外，我们在业务层面也看到了数据市场的积极增长势头。每个人都需要数据，每个人都希望通过数据获利并从中提取更多见解。我们所做的努力，实际让很多数据中心和企业得以实现自己的目标。这对我们来说非常值得振奋。我们的产品已经运转了起来，接下来就是激动人心的全面上市阶段。当然，跟其他公司一样，我们也面临各种挑战，毕竟挑战永远都存在。但我们已经身处非常有利的位置，潜力甚至比我们当初的想象大得多。所以我们对未来几年的前景充满期待，希望能真正成长壮大，一步步成为领域内的领导者。</p><p></p><p></p><blockquote>InfoQ：您对 Pliops 和公司的产品有哪些未来期许？</blockquote><p></p><p></p><p>Uri Beitler：首先，我们正在首批客户中开展大规模产品部署，这无疑令人兴奋。正如前面提到，我们希望成为存储和数据加速领域的领导者。第一代产品已经指明了前进方向，而我们也在努力加强 ASIC，这代表着公司的核心硬件能力。另外还有软件堆栈，要让越来越多的应用程序能跟我们无缝协同，这是引领行业的前提。就目前来看，当下的软件已经跟不上数据增长的步伐，所以必须要借助其他加速器的支持。我们拥有的技术和开发出的数据结构及算法，就是要帮助大家充分利用自己的数据。因此，我们希望能跟中美两国的巨头企业合作，为全球每一台存储服务器提供核心组件。</p><p></p><p></p><blockquote>InfoQ：对于中国市场，您有哪些未来规划？</blockquote><p></p><p></p><p>Uri Beitler：我们在中国也有很棒的计划，正在大力投入。我们很高兴看到如今跨国往来重新恢复，我们也能踏上这片土地。我们积极把握住了这次访问中国的机会。我觉得中国市场非常重要，人们精通技术也热爱技术，非常理解我们所能提供的价值。我们在中国市场上看到了很多优秀的合作伙伴，希望能够在这里实现显著增长。</p><p></p><p></p><blockquote>InfoQ：好的，非常感谢二位接受本次采访。</blockquote><p></p><p></p><p>采访嘉宾 ：</p><p>Uri Beitler，Pliops 创始人兼 CEO </p><p>Moshe Twitto，Pliops 联合创始人兼 CTO </p><p></p><p>嘉宾征集：</p><p></p><p>什么是技术情怀？在很多人看来，是热爱、是思考、是卓越。这个时代或许有人功利、或许有人内卷，但我们依然愿意相信更多人依然怀揣着用技术改变世界的初心。<a href=\"https://www.infoq.cn/theme/The%20Great%20Geek\">《The Great Geek》（了不起的极客）</a>\"是 InfoQ 重磅推出的全新内容栏目，全年共 8 期。自栏目推出至今，我们专访了 <a href=\"https://www.infoq.cn/article/3xtSDtHUgTKRsyw3kZXH\">MySQL 数据库和 Maria DB 创建者 Michael “Monty” Widenius</a>\"、<a href=\"https://www.infoq.cn/article/E6qLkOx9rqTEKOKqT9vT\">ClickHouse创始人及 CTOAlexey Milovidov</a>\"、<a href=\"https://www.infoq.cn/article/PLNF4ZHDyqjK29XzgbAl\">iPod“之父”Tony Fadell</a>\"、<a href=\"https://www.infoq.cn/article/weyXNTEtOFXa1sF6dqe5\">Thoughtworks 全球 CTO Rebecca Parsons</a>\"、<a href=\"https://www.infoq.cn/article/45V2FCGDxm9YYWf8oWIX\">《代码大全》作者 Steve McConnell</a>\"，如果你身处的企业中有这样的技术领袖想让我们报道或你希望看到哪位技术大佬的采访，请在评论区留言联系我们。</p>",
    "publish_time": "2023-04-23 15:50:11",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]