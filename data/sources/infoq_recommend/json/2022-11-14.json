[
  {
    "title": "Kubernetes 1.24发布，支持网络策略状态、上下文日志记录和子资源",
    "url": "https://www.infoq.cn/article/pyA10OKOv9ja0lIdjRCk",
    "summary": "<p>云原生计算基金会（CNCF）于5月发布了代号为Stargazer的<a href=\"https://kubernetes.io/blog/2022/05/03/kubernetes-1-24-release-announcement/\">Kubernetes 1.24</a>\"。该版本的新特性有网络策略状态、上下文日志记录和签名发布工件等，正式或稳定特性有PodOverhead、CSI卷扩展和CSR持续时间，Beta特性有OpenAPI v3、gRPC探针、卷填充器等，弃用特性有DynamicKubeletConfig等。此外，1.24版本移除了<a href=\"https://www.infoq.com/news/2022/01/kubernetes-dockershim-removal/\">dockershim</a>\"。</p><p>&nbsp;</p><p>在这个新版本中，kubectl（运行集群命令的命令行工具）包含了一个新的subresource标识，可用于获取和更新子资源。使用这个新的子命令更新子资源比使用curl命令简单。</p><p>&nbsp;</p><p>引入<a href=\"https://kubernetes.io/blog/2022/05/25/contextual-logging/\">上下文日志记录</a>\"是为了使日志输出更加有用。该特性使库的调用者可以向其传递日志记录器实例，并使用该实例进行日志记录，而不是全局日志记录器。</p><p>&nbsp;</p><p>为了提高供应链安全性，现在可以使用<a href=\"https://docs.sigstore.dev/cosign/installation/\">cosign</a>\"（signstore的一种用于签名、验证并保护软件的工具）对发布工件相关的容器镜像进行签名和验证。</p><p>&nbsp;</p><p>在1.24版本中，<a href=\"https://kubernetes.io/docs/concepts/services-networking/network-policies/\">网络策略</a>\"中添加了一个<a href=\"https://github.com/kubernetes/enhancements/tree/master/keps/sig-network/2943-networkpolicy-status\">状态</a>\"子资源，用户可以更轻松地排除与网络相关的问题，因为不同的<a href=\"https://github.com/containernetworking/cni\">CNI</a>\"实现了不同的网络策略。</p><p>&nbsp;</p><p>在1.24版本中，<a href=\"https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.0.0.md\">OpenAPI v3</a>\"支持进入Beta阶段，并且默认开启。该特性允许kube-apiserver（该服务器验证和配置API对象的数据，包括pod、服务等）提供OpenAPI v3格式的对象。</p><p>&nbsp;</p><p>此外，在Beta版本中，对于LoadBalancer类型的服务，<a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#load-balancers-with-mixed-protocol-types\">混合协议</a>\"默认启用，LoadBalancer类型的服务可以在同一端口上提供不同的协议，如TCP和UDP。</p><p>&nbsp;</p><p><a href=\"https://kubernetes.io/docs/concepts/architecture/nodes/#graceful-node-shutdown\">节点优雅关闭</a>\"最初在1.21版本中引入，现在处于Beta测试阶段。该特性可以区分是要终止节点上运行的常规pod还是关键pod，并为停止pod提供额外的时间。</p><p>&nbsp;</p><p>CSI<a href=\"https://kubernetes.io/docs/concepts/storage/persistent-volumes/#csi-volume-expansion\">卷扩展</a>\"在此版本中成为正式特性，并默认启用。只要底层CSI<a href=\"https://kubernetes.io/blog/2019/01/15/container-storage-interface-ga/#list-of-csi-drivers\">驱动程序</a>\"支持卷扩展，该特性就可以动态调整持久卷的大小。</p><p>&nbsp;</p><p>此外，<a href=\"https://kubernetes.io/docs/concepts/scheduling-eviction/pod-overhead/\">PodOverhead</a>\"在此版本中变得稳定，并默认启用。该特性使Kubernetes在调度容器时可以把容器请求和限制之外的容器基础设施考虑进来。要利用这一特性，需要一个定义开销字段的<a href=\"https://kubernetes.io/docs/concepts/containers/runtime-class/\">Runtime</a>\"类。</p><p>&nbsp;</p><p>在1.24版本中，<a href=\"https://kubernetes.io/docs/concepts/storage/storage-capacity/\">存储容量</a>\"跟踪也成为稳定特性。该特性使Kubernetes调度器可以在放置pod之前知道节点的关联存储是否有足够的容量。如此一来，它就可以过滤掉没有足够存储空间的节点，减少调度尝试次数。</p><p>&nbsp;</p><p><a href=\"https://kubernetes.io/\">Kubernetes</a>\"是一个用于部署、扩展和管理应用程序容器的生产级开源编排系统。</p><p>&nbsp;</p><p>根据<a href=\"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.24.md\">发布说明</a>\"，Kubernetes 1.24版本带来了46项增强，其中13项是新增，13项是正式可用或变得稳定，15项是Beta版本。此外，有6项特性被弃用。</p><p>&nbsp;</p><p>CNCF于2022年5月24日举办了一场<a href=\"https://www.youtube.com/watch?v=TNo22-a27oY\">网络研讨会</a>\"，回顾了主要特性并进行了答疑。</p><p>&nbsp;</p><p>&nbsp;</p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2022/11/kubernetes-1-24/\">https://www.infoq.com/news/2022/11/kubernetes-1-24/</a>\"</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/minibook/IDAGRlr1RAeLg8l6sZTy\">Kubernetes&nbsp;安全防护终极指南</a>\"</p><p><a href=\"https://www.infoq.cn/article/zFR1q0chGl6SwFd1QMiD\">Kubernetes 的未来：OIDC 要优于 Secret，Ingress 并不合适</a>\"</p><p></p><p></p>",
    "publish_time": "2022-11-14 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "四年又四年，苹果搜索引擎要“胎死腹中”？",
    "url": "https://www.infoq.cn/article/RCJHtVcEeVjad2kGJD5s",
    "summary": "<p></p><blockquote>苹果做搜索引擎，一波三折。</blockquote><p></p><p></p><h2>苹果搜索引擎核心员工跳槽谷歌</h2><p></p><p></p><p>据外媒近日报道，苹果的搜索引擎团队核心成员 Srinivasan Venkatachary 跳槽谷歌，这对于苹果的搜索引擎项目来说，无异于雪上加霜 — 毕竟苹果为了做出能与谷歌正面竞争的搜索引擎，已经努力了四年。随着核心成员的离开，苹果的搜索引擎项目很可能“胎死腹中”。</p><p></p><p>据了解，早在 2018 年，苹果就开始筹划<a href=\"https://www.infoq.cn/article/pFhpzMctUcRmPKKrjVQi\">搜索引擎项目</a>\"。</p><p></p><p>2018 年 4 月，苹果挖来了前谷歌搜索和<a href=\"https://www.infoq.cn/article/Igz10CFZvrleZAG3SGW0\">人工智能</a>\"主管 John Giannandrea 担任苹果机器学习和人工智能战略高级副总裁。同年，苹果还收购了一家名为 Laserlike 的人工智能初创公司，该公司后来被苹果整合进 John Giannandrea 的团队当中，主要负责开发搜索工具 Spotlight 和 Siri 建议等功能。</p><p></p><p>资料显示，Laserlike 由 Anand Shukla、Srinivasan Venkatachary、Steven Baker 三位前谷歌工程师共同创立，其掌握的技术可通过搜索大量数据，以用户的喜好和浏览历史推荐网站。</p><p></p><p>在苹果工作期间，Srinivasan Venkatachary 担任苹果搜索团队的高级主管，并扩大了苹果搜索团队的人员规模，重点招聘了一些量谷歌搜索员工。截至离开，Venkatachary 管理至少 200 名员工。</p><p></p><p>近日有消息称，Venkatachary 已经重返谷歌。有知情人士透露，Venkatachary 现在是谷歌技术与社会高级副总裁 James Manyika 的工程副总裁。Laserlike 的另外两位创始人 Anand Shukla 和 Steven Baker 此前一直在 Venkatachary 麾下工作，目前尚未知三人是否都已经离职苹果。</p><p></p><h2>苹果做搜索引擎：四年又四年</h2><p></p><p></p><p>虽然苹果一直和谷歌保持着良好的合作关系，但苹果想做搜索这件事，已是人尽皆知。</p><p></p><p>在合作上，每年，谷歌都会向苹果支付约 180 亿至 200 亿美元，以确保其是苹果设备的默认搜索引擎。但根据欧盟最新规定，大型科技公司企业只有在获得用户明确同意的情况下，才可将个人数据用于有针对性的广告，要能允许用户自由选择浏览器、虚拟助手或搜索引擎等。这意味着，苹果和谷歌的交易将会面临越来越多的反垄断审查。</p><p></p><p>合作之外，苹果也一直在琢磨自研搜索引擎。</p><p></p><p>在 2018 年收购人工智能初创公司 Laserlike 后，苹果一直在筹备推出自己的搜索引擎。</p><p></p><p>2020 年，在推出 iOS 14 后，苹果正式立项，开始自研搜索引擎。据报道，<a href=\"https://www.infoq.cn/article/LsuiKFdr0eyv2LUsAtjt\">Siri Suggestions</a>\" 服务当时是在苹果的 Spotlight 搜索服务基础上建立的，搜索请求不是被传递给 Google。这意味着，在那时，苹果的自研搜索引擎就已见雏形。</p><p></p><p>但从 2018 年到现在的四年时间里，尽管苹果在搜索引擎上投入了很多人力、财力，却一直没什么关键性的产出。</p><p></p><p>随着搜索引擎团队核心成员出走，苹果要想做出能与谷歌正面竞争的搜索引擎，无异于难上加难。The Information 的报告显示，目前来看，苹果距离实现这一目标还有“至少四年的时间”。</p><p></p><p>据参与该团队的人士估计，苹果距离推出潜在的谷歌搜索替代品至少还有四年的时间，这样做无疑需要大幅增加团队的预算。不过，苹果也可能与微软的必应达成一项类似于苹果与谷歌的交易，因为必应在搜索市场的份额相对较小。</p>",
    "publish_time": "2022-11-14 14:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]