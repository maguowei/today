[
  {
    "title": "伯克利AI实验室开源图像编辑模型InstructPix2Pix，简化生成图像编辑并提供一致结果",
    "url": "https://www.infoq.cn/article/JSu06eARbfbxUzEe2iPk",
    "summary": "<p>来自<a href=\"https://bair.berkeley.edu/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">伯克利人工智能研究</a>\"（BAIR）实验室的研究人员开源深度学习模型<a href=\"https://www.timothybrooks.com/instruct-pix2pix?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">InstructPix2Pix</a>\"，它可以遵循人类指令来编辑图像。InstructPix2Pix在合成数据上进行训练，表现优于基线AI图像编辑模型。</p><p></p><p>BAIR团队在最近举行的2023年IEEE/CVF<a href=\"https://cvpr2023.thecvf.com/Conferences/2023/AcceptedPapers?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">计算机视觉和模式识别</a>\"（CVPR）大会上<a href=\"https://arxiv.org/abs/2211.09800?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">展示了他们的工作成果</a>\"。他们先是生成了一个合成训练数据集，其中的训练样本是成对的图像以及用于将第一幅图像转换为第二幅图像的编辑指令。该数据集用于训练图像生成扩散模型，该模型可以接受基于文本的指令来编辑图像。例如，给定一张骑马的人的图片和提示词“让她变成骑龙”，它会输出原始图片，但原来的马被替换了龙。BAIR的研究人员的表示：</p><p></p><p></p><blockquote>尽管模型完全是在合成样本上进行训练的，但它实现了对任意真实图像和人类自然语言指令的零样本泛化。我们的模型能够进行直观的图像编辑，可以遵循人类指令执行多种编辑：替换对象、改变图像风格、修改设置、艺术媒介等。</blockquote><p></p><p></p><p>之前的AI图像编辑能力通常是进行风格转换，流行的文本到图像生成模型（如<a href=\"https://www.infoq.com/news/2021/02/openai-gpt-image/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">DALL-E</a>\"和<a href=\"https://www.infoq.com/news/2022/09/stable-diffusion-image-gen/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">Stable Diffusion</a>\"）也支持图像到图像风格转换操作。然而，使用这些模型进行有针对性的编辑仍然具有挑战性。最近，InfoQ报道了微软的<a href=\"https://www.infoq.com/news/2023/04/microsoft-visual-chatgpt/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">Visual ChatGPT</a>\"，它可以调用外部工具来编辑图像，前提是提供编辑操作的文本描述。</p><p></p><p>为了训练InstructPix2Pix，BAIR首先创建了一个合成数据集。为此，团队在一个由输入文字说明、编辑指令和期望输出文字说明组成的人类文本样本的小数据集上对GPT-3进行了微调。然后，这个微调模型被给予一个大型的输入图像文字说明数据集，从中生成了超过450k次编辑和输出文字说明。然后，团队将输入和输出文字说明馈送到预训练的<a href=\"https://arxiv.org/abs/2208.01626?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">Prompt-to-Prompt</a>\"模型中，该模型根据文字说明生成成对的相似图像。</p><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/24/243f4068025109361e49dafcb3f62f7f.webp\" /></p><p></p><p>InstructPix2Pix的架构，图片来源：<a href=\"https://arxiv.org/abs/2211.09800?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">https://arxiv.org/abs/2211.09800</a>\"</p><p></p><p>研究人员鉴于这个数据集训练了基于Stable Diffusion的InstructPix2Pix。为了评估其性能，团队将其输出与基线模型<a href=\"https://github.com/ermongroup/SDEdit?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">SDEdit</a>\"进行了比较。他们使用两个指标之间的权衡：一致性（即输入图像和编辑后图像的CLIP嵌入之间的余弦相似度）和方向相似性（即编辑后文字说明中的变化与编辑后图像的变化在多大程度上保持一致）。在实验中，对于给定的方向相似性值，InstructPix2Pix产生的图像比SDEdit具有更高的一致性。</p><p></p><p>人工智能研究员<a href=\"https://en.wikipedia.org/wiki/Andrew_Ng?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">吴恩达</a>\"在他的深度学习新闻邮件组“<a href=\"https://www.deeplearning.ai/the-batch/issue-199/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">The Batch</a>\"”中评价了InstructPix2Pix：</p><p></p><p></p><blockquote>这项工作简化了生成和人造图像的编辑操作，并提供了更一致的结果。巧妙地利用现有模型，模型作者能够使用相对较少的人类标记样本在新任务上训练他们的模型。</blockquote><p></p><p></p><p><a href=\"https://github.com/timothybrooks/instruct-pix2pix?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">InstructPix2Pix的代码</a>\"可在GitHub上获取，<a href=\"https://huggingface.co/timbrooks/instruct-pix2pix?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">模型</a>\"和<a href=\"https://huggingface.co/spaces/timbrooks/instruct-pix2pix?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">基于Web的演示</a>\"可在Huggingface上访问。</p><p></p><p></p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2023/07/berkeley-instruct-pix2pix/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMzgwOTYsImZpbGVHVUlEIjoiczFUaFlGRFNnWm9laVJkSyIsImlhdCI6MTY5MjMzNzc5NiwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.pRHWBdOIPJ034Vs28K3HLWFeLf-d1eewbwAGKyHBAUY\">https://www.infoq.com/news/2023/07/berkeley-instruct-pix2pix/</a>\"</p>",
    "publish_time": "2023-08-24 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "自主研发多套系统实现数字化转型，安能物流如何打造一栈式物流数据平台？",
    "url": "https://www.infoq.cn/article/4Pw69p65Retxs5kWgTOy",
    "summary": "<p></p><blockquote>作为加盟制货运合作商平台模式的提出者，安能物流是快运行业数字化转型的先行者。与快递行业不同，快运行业面临着业务流程复杂、交易链路长等问题，对数据的准确度、线上交易数据的生命周期等有着较高要求。因此，安能物流IT系统演进路线、建设思考、数据库选型等对行业具备极强的参考价值。</blockquote><p></p><p></p><p>嘉宾｜李家林 安能物流数据库负责人</p><p>&nbsp;</p><p>本文要点：</p><p>1.&nbsp;快运行业的业务特点及安能物流的数字化转型过程；</p><p>2.&nbsp;在数字化转型中，安能物流在人工智能层面做过哪些探索，结果如何；</p><p>3.&nbsp;数据库选型从Oracle到MySQL再到TiDB，安能物流做了哪些思考；</p><p>4.&nbsp;数据库迁移前后，成本和体验发生了哪些变化；</p><p>5.&nbsp;安能物流对于数据底座及大模型技术的未来思考；</p><p></p><h2>快运行业的先行者：安能物流的数字化转型之路</h2><p></p><p>InfoQ：快运行业和快递行业的数字化转型（信息化建设）存在哪些差异？</p><p>李家林：首先，二者的业务形态存在很大不同。快递更多是针对C端，规模达到一定程度后，整个业务流程比较规范化。快运更多是针对B端业务，业务处理的流程环节繁多，业务逻辑也更为复杂。其次，企业在信息化建设过程中可能会因为缺乏顶层设计而走一些弯路，甚至需要将原有系统推到重建，比如现有系统足以支撑当前的业务形态，但却无法解决未来业务灵活多变时所出现的问题，缺少对于未来建设的思考，但大多数情况下只有企业真的走到那一步才会发现问题。</p><p>&nbsp;</p><p>InfoQ：您方便分享下安能物流的数字化转型分为哪几个阶段吗？</p><p>李家林：自2010年成立，安能物流至今已经发展了接近13年的时间。在这个过程中，安能物流自主研发了52套IT系统，开发了一系列专有的、部署于整个业务流程的数字化工具，通过全链路数字化运营和智能化决策实现了效率升级。从系统信息化建设的角度可以分为如下三个阶段：</p><p></p><p>第一个阶段是2016年以前，该阶段采取垂直大集中的模式，主要解决的问题是将所有操作、业务涉及的环节和节点全部线上化，该阶段最大的问题是灵活性不够，单一系统的功能更新会影响全网的所有流程操作。</p><p></p><p>第二个阶段是2016年到2018年，，开始对系统进行拆分，由于对微服务架构的理解不够彻底，导致最终拆分出来的系统过多，虽然解决了灵活性的问题，但忽略了业务流程节点数据环环相扣的问题，且该阶段为了解决特定应用场景的业务问题，使用了多种技术架构。</p><p></p><p>第三个阶段是2018年之后，团队意识到系统拆分过于复杂，且对用户而言操作负担过重，完成一个业务流程可能需要登录多个系统，因此该阶段开始做分布式集中，在保证系统灵活性的同时保证底层数据统一，降低数据交付的复杂度，并提高准确性。基于此，团队提出全链路数字化升级的新目标：构建新一代一栈式物流数据平台，实现货物全闭环实时状态追踪。</p><p>&nbsp;</p><p>InfoQ：在数字化转型的过程中，安能物流有引入过人工智能技术吗？具体做哪些事情？结果如何？</p><p>李家林：第一个探索方向是辅助驾驶，快运行业很大一部分成本来源于车辆运输费用，安能物流也探索过通过辅助驾驶的能力接入节省人力和油耗成本，比如一些长线路要求双驾，通过接入辅助驾驶最终只保留一位驾驶员，并且通过其规划出最佳行驶路线和最优驾驶技巧从而节省燃油成本。经过几个月的测试，我们成功验证了该想法，只是要想达到要求需要对车进行改造，成本比较高，经过测算大概需要三年时间可以回本。据了解，目前已经有货运公司开始跟车厂合作生产这类型的汽车，未来是有可能实现规模化的。</p><p>第二个探索方向是场内货物极速定位。相比于快递行业，快运行业的物品形状更不规则、体积更大，这些因素导致场内货物往往分布在场内更大的区域范围内，随之而来的问题就是需要找到诸如拦截件的时候费时费力。目前，安能物流已经通过RFID射频技术实现了一定距离范围内的快件位置搜寻，整个实践下来确实提升了效率；其次通过RFID技术还能快速的完成场内货物盘点。当下，RFID的成本还是比较高，但我相信未来成熟之后成本会有所降低。</p><p>&nbsp;</p><p>InfoQ：最近两年，行业内对于“降本增效”非常关注，安能物流的IT部门转型过程是否有这方面的思考？</p><p>李家林：安能物流已经在该方向进行实践。具体来说，在组织架构层面，组织变得更加扁平化，IT组织内部按照产品线的方式调整团队，缩减了部门分类；在业务层面，部门内人员的具体定位都做了重新梳理，明确定位了每一个业务角色应该具备的能力和承担的责任；在IT技术层面，团队的职能不仅仅是提供工具和系统给业务人员使用，需要通过已有业务数据挖掘业务潜在价值，寻找新的增长点。</p><p></p><h2>从Oracle到MySQL再到TiDB，安能物流成功打造一栈式物流数据平台</h2><p></p><p></p><p>InfoQ：在数字化转型的过程中，安能物流对底层数据库的需求是如何变化的？</p><p>李家林：在数字化化转型的第三阶段，我们意识到既要保证系统数据的灵活可扩展，又要保证底层数据交互统一，降低数据交互的复杂度。此时，安能核心业务系统—结算系统（涉及总部及下属30000多家加盟网点，主要包含充值、交易、算费、调账、扣款、代收、代付包括税差全费用结算业务流程处理）因面临系统数据动态扩展、高并发、数据生命周期等问题，需要对系统数据库进行重构，此时就面临数据库选型的需求。</p><p><img src=\"https://static001.geekbang.org/infoq/1b/1b04e6dcfe07e7881d6cd6b4631e1eb4.png\" /></p><p>当时，业内主流的选择就MySQL和PostgreSQL两种。经过比较，团队最终选择了当时常用的MySQL加数据库中间件代理的模式。在运行了不到三年的时间，这套系统就出现了比较大的问题，这种伪分布式集群的第一个问题是扩展性太差；第二个问题是库压力不均和性能问题。</p><p></p><p>为了避免同一个网点查询或处理数据时出现跨库问题，当时分库分表设计的思路是以网点编码作为分库表的路由规则，共分了八个库，除此以外，为了保证单库单表数据量尽量均衡，我们还将产粮区如华东华南和非产粮区如东北西北区域的网点进行相互组合后放在同一个库同一个表中，即便如此，由于业务的不断增长，地区产业布局的变化，网点货量的变化，最终不同库的表数据量还是出现较大差异，个别库的压力极大，这就面临需要对该伪分布式集群增加节点或对现有节点数据进行迁移再平衡，无论哪一种方案，都需要重新设计分库分表路由规则和对现有集群数据进行迁移再平衡的问题，且MySQL当时的性能已经到了瓶颈，在线交易数据最多保持六个月的生命周期。基于以上面临的诸多挑战，我们大概在20年开始考虑，要对这套结算系统MySQL数据库进行换代升级。</p><p><img src=\"https://static001.geekbang.org/infoq/62/62304903b589e07b68f64781ec18d219.png\" /></p><p>InfoQ：快运行业对数据生命周期有哪些具体要求？</p><p>李家林：严格意义上来讲，数据都是有生命周期的。相比于快递行业，快运的业务流程节点更多，业务逻辑也更复杂一些，而在每一个业务环节，不但会涉及到业务操作，还会涉及到一些管理的动作，因此每个业务节点都会产生大量数据，而这些数据又环环相扣，这对数据的实时性金和准确性要求非常高。数据生命周期可能会持续一至两年。在结算没有完成之前，数据是不能归档到历史数据的。从业务角度来讲，我们希望在线的结算数据周期生命更长，我们其实没有做严格意义上的冷热数据分离，主要也是考虑到对冷数据进行分析也是存在业务价值的。</p><p>&nbsp;</p><p>InfoQ：基于以上因素，安能物流在数据库选型过程主要考虑哪些因素？</p><p>李家林：在选型阶段，我们调研了很多数据库，我们的目标是希望找到一款性能、稳定性、扩展性可以满足业务诉求的分布式数据库。在测试TiDB之前，我们先测试了PostgreSQL，但PostgreSQL有自己的集群模式，整体测试效果不及预期。虽然PostgreSQL生态也有一些自动化的工具，但与MySQL加代理中间件的伪分布式集群没有本质区别。2020年3月份，我们了解并开始测试TiDB，从3.0版本一直测试到5.4版本。具体来说，3.0版本并没有达到安能结算业务的要求，因为该业务对数据的准确性、大规模数据查询和处理能力及高可用性等方面有较高要求。经过测试发现，在TiDB&nbsp;5.4版本可以满足我们的要求，且在此期间PingCAP团队也和我们团队进行了交流，到目前为止最新的TiDB版本已实现了我们对TiDB提出的所有要求。</p><p><img src=\"https://static001.geekbang.org/infoq/2f/2f35891ff6be333532364b77f3144895.png\" /></p><p>在测试达到要求之后，团队用了接近10个月的时间开始进行迁移，包括迁移前的数据校验等筹备工作。最终，在2023年初完成了结算系统的数据库迁移，原有的MySQL数据库已经下线。由于快运行业的业务流程比较长，后期会分批进行迁移，目前正在进行快件装车扫描、卸车扫描、分拣扫描等运营操作节点的数据迁移，预计今年底全面完成。</p><p><img src=\"https://static001.geekbang.org/infoq/0a/0a9f06b528b8ebeb87193d2d0a791faa.png\" /></p><p>InfoQ：切换前后，整个成本和体验发生了哪些变化？</p><p>李家林：一是TiDB高度兼容MySQL，应用代码几乎无改动，系统平滑迁移至TiDB上，是一款真正的分布式关系型数据库；二是一键水平扩容或者缩容，可按需对计算、存储分别进行在线扩容或者缩容并对应用运维人员透明；三是金融级高可用，计算与存储分离的多副本存储，保证总部与网点费用结算准确性和高可用；四是大规模数据处理能力和实时HTAP特性，增加了在线数据的生命周期，降低系统低延迟；五是内置的图形化监控系统，提供完整闭环监控能力和故障分析能力，降低了运维成本和门槛；六是支持表结构在线变更（DDL），减少了系统变更停机时间，提高了业务的可用性。</p><p>&nbsp;</p><p>InfoQ：为什么没有先从边缘业务开始试点迁移？</p><p>李家林：这与研发团队的技术积累和风格有关。此前已经完成了从Oracle到MySQL数据库的切换，当时是因为Oracle的性能确实无法达到要求，团队充分具备相应的技术积累和沉淀，所以本次就直接选择将核心系统从MySQL切换到TiDB，如果从边缘业务开始试点，整个战线会非常长。</p><p></p><p>InfoQ：安能如何借助于TiDB实现数字化升级目标？</p><p>&nbsp;</p><p>李家林：安能在系统建设过程中，经历了从垂直大集中模式到数据独立拆分，再到微服务架构下数据分布式集中存储这样一个过程。目前我们正将业务全链路环节运营操作系统切换到TiDB上，从而降低系统数据交互的复杂度。如何使用最简单、最灵活、最高效的技术体系和最少的成本构建新一代数据平台，实现货物从下单到签收及结算等全闭环实时状态追踪。</p><p><img src=\"https://static001.geekbang.org/infoq/b0/b054ee318820f7a237fc4140bdba5e46.png\" /></p><p>基于TiDB在安能的应用实践，接下来我们将借助TiDB分布式、高可用性、弹性伸缩、大规模数据处理和实时HTAP等特点来构建新一代一栈式物流数据平台，加速公司数字化升级。</p><p>&nbsp;</p><p>我们将使用TiDB作为一栈式物流数据平台的底座，把我们源端业务系统所采集的所有数据，按照业务主题和数据域统一进行存储，降低不同系统之间数据交互的复杂度，解决数据统一的问题。而在一栈式物流数据平台的基础上，我们可以做相应的数据服务，统一对外提供数据服务平台和API接口，以及更高阶的数据应用产品。</p><p></p><h3>未来规划</h3><p></p><p>InfoQ：面向AI时代，TiDB提出了Serverless的模式，您怎么看待这一动作？</p><p>李家林：目前，Serverless版本还是在云端，企业级的私有化部署可能需要两到三年的时间。对快运行业而言，一个企业内部可能不太需要建很多的TiDB集群，只需要做到用户或应用级别的资源隔离，并给不同的开发人员提供相应的代码开发服务就足够了。基于此，TiDB的Serverless服务可能更多还是面向未来的中小型企业或个人，快运行业可能更多的还是使用其现有的企业级数据库产品。</p><p>&nbsp;</p><p>InfoQ：未来在数据层面，安能物流还有哪些计划？</p><p>李家林：对我们而言，最重要的还是底层的数据。现在，我们选择将TiDB作为新一代物流平台的数据底座，未来希望基于此统一技术栈，用最简单的体系满足业务层面多样化的数据需求。在TiDB的演进过程中，我们需要的功能都正在被PingCAP一一实现，相信未来TiDB还会出现更多令人期待的功能和特性，这也是我们认为的分布式数据库最优选择。</p><p>&nbsp;</p><p>InfoQ：对于大模型相关技术，安能物流未来是否会考虑接入业务？</p><p>李家林：目前，大家普遍想到的场景是智能客服，这需要给大模型输入一些快运行业的特定数据做训练，基本就可以应用了。此外，我们希望可以实现全链路的数据可视化，应用数据挖掘业务的潜在增长点，包括对我们的服务品质和时效性有所提升，通过模型和算法做事前预测，提前干预可能的风险点。</p>",
    "publish_time": "2023-08-24 10:09:20",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "2023 中国人工智能成熟度模型报告",
    "url": "https://www.infoq.cn/article/IV4VhedKw1E1tY8Hleje",
    "summary": "<h3>研究背景</h3>\n<p>2022年上半年，AI绘画等生成式AI的内容引发了人工智能领域的广泛关注，年底发布的ChatGPT更是迅速破圈，话题度和讨论度不断提升。这些变化的趋势也延续到了2023年上半年，人们讨论话题也向着大模型的实际应用逐渐深入，同时AI安全也展现了大家对技术突破的不同态度。<br />\n今年年初，InfoQ研究中心发布了<a href=\"http://www.infoq.cn/minibook/UGhD7MTY5Z43JG5YmWP3\">《中国软件技术发展洞察和趋势预测报告 2023》</a>，在报告中将各个领域的关键技术按照不同成熟度阶段进行了划分，总结成为中国技术成熟度评估曲线。报告发布之后也获得了众多企业和开发者的关注和讨论。<br />\n因此，作为年度趋势报告的延续，InfoQ研究中心基于2023年人工智能领域的种种变化，更新《2023 中国人工智能领域技术成熟度模型报告》，为技术的应用决策和未来投资参考提供研究分析工具。<br />\n未来，InfoQ研究中心还将继续推出更多细分领域（云原生、大数据等）的成熟度报告，并定期更新，欢迎大家持续关注。</p>\n<h3>中国人工智能技术成熟度模型</h3>\n<p><img alt=\"\" src=\"https://static001.infoq.cn/resource/image/0a/32/0affd338817e741dcaf474de3caca432.png\" /></p>\n<h5>备注说明</h5>\n<ul>\n<li>模型涵盖40+人工智能相关技术点，立足三大核心指标（技术专利数量、技术发展时间、技术舆论指数），参考市场规模、融资事件等公开资料，并结合了AI行业内硬件、模型、应用不同领域的各位专家观点。</li>\n<li>技术专利相关数据来自国家知识产权局旗下专利检索及分析系统，检索时间为2023年8月15日。</li>\n<li>技术发展时间使用知网论文库等学术平台进行相关技术领域论文最早收录年份统计计算。</li>\n<li>技术舆论指数数据来源为各家技术媒体和开发者社区，包括InfoQ中文站和CSDN社区。</li>\n</ul>\n<h3>中国人工智能技术厂商生态图谱</h3>\n<p><img alt=\"\" src=\"https://static001.infoq.cn/resource/image/2c/f3/2ccc22e8a501f6e8885ca7c4a3bb2ff3.png\" /></p>\n<h3>目录</h3>\n<ul>\n<li>⼈工智能技术发展历程</li>\n<li>中国人⼯智能技术成熟度模型</li>\n<li>中国⼈工智能技术⼚厂商⽣生态图谱</li>\n</ul>",
    "publish_time": "2023-08-24 10:10:52",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "如何使用 Amazon CodeWhisperer 免费进行代码安全检查",
    "url": "https://www.infoq.cn/article/p4r2t1XP2yXAK55ti8zV",
    "summary": "<p>CodeWhisperer 是Amazon发布的一款免费的AI 编程辅助小工具，在辅助程序员编程的同时，还具备代码安全审计的功能。可以快速扫描 Java、JavaScript 和 Python 项目中难以发现的漏洞，并获取代码建议以立即修复这些漏洞。遵循跟踪安全漏洞的最佳实践，例如开放全球应用程序安全项目 (OWASP) 概述的漏洞，或者不符合加密库最佳实践及其他类似安全最佳实践的漏洞。今天小试牛刀，试验一下CodeWhisperer的代码安全检查能力，成功识别出Python代码中可能存在的系统命令注入漏洞、SQL注入漏洞、MD5碰撞漏洞以及反序列化漏洞，666 ～</p><p></p><h2>系统命令注入漏洞</h2><p></p><p></p><p>以下是一段有安全漏洞的 Python 代码：</p><p><code lang=\"python\">import os\n\nfilename = input(\"请输入文件名：\")\nos.system(\"rm \" + filename)</code></p><p></p><p>这段代码的作用是删除用户输入的文件名对应的文件，但存在安全漏洞。其中的漏洞是，用户可以通过输入特殊字符来执行任意系统命令，而不仅仅是删除文件。例如，如果用户输入的是&nbsp;;ls，则会先删除指定文件，然后执行&nbsp;ls&nbsp;命令。这可能导致系统被攻击者接管或者数据被窃取，因此这段代码需要进行安全性改进。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/db/dbe0eb387e9b3577d12c706ffac2f4fc.png\" /></p><p></p><p>Amazon CodeWhisperer 成功检测出：系统命令注入漏洞。</p><p></p><p></p><h2>SQL注入漏洞</h2><p></p><p></p><p>以下是一个有安全漏洞的 Python 代码：</p><p></p><p><code lang=\"python\">import sqlite3\n\nconn = sqlite3.connect('example.db')\nc = conn.cursor()\n\nc.execute('''CREATE TABLE stocks\n             (date text, trans text, symbol text, qty real, price real)''')\n\ndate = input(\"请输入日期：\")\ntrans = input(\"请输入交易类型：\")\nsymbol = input(\"请输入股票代码：\")\nqty = input(\"请输入数量：\")\nprice = input(\"请输入价格：\")\n\nc.execute(f\"INSERT INTO stocks VALUES ('{date}', '{trans}', '{symbol}', {qty}, {price})\")\n\nconn.commit()\nconn.close()</code></p><p></p><p>这段代码的作用是向 SQLite 数据库中插入一条记录，但存在安全漏洞。其中的漏洞是，用户输入的数据没有进行任何过滤或转义，从而可能导致 SQL 注入攻击。例如，如果用户输入的&nbsp;symbol&nbsp;参数是&nbsp;ABC'); DROP TABLE stocks; --，则会删除&nbsp;stocks&nbsp;表。这可能导致数据丢失或系统崩溃，因此这段代码需要进行安全性改进。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/05/05a7f1fbd8b83ac88a1c91f5d3bc4076.png\" /></p><p></p><p>Amazon CodeWhisperer 成功检测出：SQL注入漏洞。</p><p></p><h2>MD5碰撞漏洞</h2><p></p><p></p><p>以下是一个有安全漏洞的 Python 代码：</p><p></p><p><code lang=\"python\">import hashlib\n\npassword = input(\"请输入密码：\")\n\nhash = hashlib.md5(password.encode('utf-8')).hexdigest()\n\nprint(f\"您的密码的 MD5 值为：{hash}\")</code></p><p></p><p>这段代码的作用是计算用户输入的密码的 MD5 值，并输出结果。但存在安全漏洞。其中的漏洞是，MD5 算法已经被证明不再安全，可以被暴力破解或碰撞攻击。因此，如果攻击者获得了用户的 MD5 值，就可以使用彩虹表等方法轻松地破解密码。这可能导致用户账户被攻击者接管或者数据被窃取，因此这段代码需要进行安全性改进。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/40/4098461d87de6d1e6c26b3223a5c88ad.png\" /></p><p></p><p>Amazon CodeWhisperer 成功检测出：MD5碰撞漏洞</p><p></p><h2>反序列化漏洞</h2><p></p><p></p><p>以下是一个有安全漏洞的 Python 代码：</p><p></p><p><code lang=\"python\">import pickle\n\nserialized_data = input(\"请输入序列化数据：\")\ndata = pickle.loads(serialized_data)\n# 使用反序列化后的数据...</code></p><p></p><p>这段代码的作用是对输入序列化数据，进行反序列化。但存在安全漏洞，其中的漏洞是没有对输入进行验证和过滤，直接进行反序列化操作可能导致恶意对象的执行，从而导致远程代码执行或数据泄露。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/6c/6cf801c61cd5482a0bd8fb1e683779dd.png\" /></p><p></p><p>Amazon CodeWhisperer 成功检测出：反序列化漏洞。</p><p></p>",
    "publish_time": "2023-08-24 10:39:25",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]