[
  {
    "title": "让部署更快更安全，GitHub无密码部署现已上线",
    "url": "https://www.infoq.cn/article/QMgmfb48A8AD1YHBdyPC",
    "summary": "<p>GitHub的CI/CD服务产品GitHub Actions现在支持使用<a href=\"https://github.blog/2023-01-11-passwordless-deployments-to-the-cloud/\">Open Identity Connect凭证</a>\"对Hashicorp Vault、AWS、Azure和GCP等云提供商进行身份验证，而无需使用长期凭证或密码。</p><p>&nbsp;</p><p>云的现代开发通常需要针对云提供商对持续集成和持续部署（CI/CD）服务器进行身份验证，以便对已配置的基础设施进行更改。从历史上看，这是通过在云提供商中创建一个身份来实现的，CI/CD服务器可以通过使用一组长期存在的、手动设置的凭证来假定这个身份。考虑到这些凭证的用途，它们的妥协终究会带来重大的业务风险。</p><p>&nbsp;</p><p><a href=\"https://openid.net/connect/#:~:text=OpenID%20Connect%201.0%20is%20a,interoperable%20and%20REST%2Dlike%20manner.\">OpenID Connect身份验证协议</a>\"是一种可互操作的机制，用于提供有关用户身份的可验证信息。假如用户的身份提供者是验证方能够信任的提供者，则可以在称为<a href=\"https://www.oauth.com/oauth2-servers/openid-connect/id-tokens/\">ID令牌</a>\"的<a href=\"https://jwt.io/introduction\">Json Web令牌（JWT）</a>\"中以声明的形式提供相关用户数据。</p><p>&nbsp;</p><p>使用GitHub Actions，第一步是在云提供商的身份和访问管理配置中将GitHub注册为外部身份源。在执行工作流时，管道可以访问管道唯一运行范围内的ID令牌。令牌包括令牌的期望受众、其持有者的标识符以及其他元数据。</p><p>&nbsp;</p><p>然后，云提供商可以使用该信息来为任何的后续操作颁发短期凭证，例如访问令牌。目前GitHub Actions支持<a href=\"https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/configuring-openid-connect-in-hashicorp-vault\">Hashicorp Vault</a>\"、<a href=\"https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/configuring-openid-connect-in-amazon-web-services\">亚马逊网络服务</a>\"、<a href=\"https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/configuring-openid-connect-in-azure\">Azure</a>\"和<a href=\"https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/configuring-openid-connect-in-google-cloud-platform\">谷歌云平台</a>\"。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/df/df09309a6f99c18adbef79574ecc24c9.png\" /></p><p></p><p>&nbsp;</p><p>自该新特性发布以来，人们对它的反响基本上是积极的，Hashicorp创始人<a href=\"https://twitter.com/mitchellh\">Mitchell Hashimoto</a>\"在推特上写道：</p><p>&nbsp;</p><p></p><blockquote>最近发现GitHub Actions每次运行都会创建一个OIDC标识，因此可以将Vault配置为允许w/Actions身份认证，然后使用它来访问……任何内容。虽然需要进行一些清理，但这是非常有希望的！</blockquote><p></p><p>&nbsp;</p><p>尽管反响热烈，但其采用速度似乎比预期的要慢，WhiteDuck DevOps的咨询与运营主管&nbsp;<a href=\"https://twitter.com/nmeisenzahl\">Nico Meisenzahl</a>\"在推特上写道：</p><p>&nbsp;</p><p></p><blockquote>在#GitHub Actions中使用#OIDC进行云提供商和#Kubernetes身份验证已经是一件大事件了吗？我虽然看到了它的很多优点，但已经采用它的人并不多。</blockquote><p></p><p>&nbsp;</p><p>继GitHub于2021年底发布该特性以来，其他CI/CD提供商也在其产品中添加了类似的集成。2022年底发布的GitLab 15.7版本支持访问<a href=\"https://docs.gitlab.com/ee/ci/cloud_services/\">Hashicorp Vault、AWS、Azure和GCP</a>\"，而Circle CI于2023年2月宣布支持<a href=\"https://circleci.com/blog/openid-connect-identity-tokens/\">GCP和AWS</a>\"集成。</p><p>&nbsp;</p><p>所有计划都可以使用GitHub Actions OIDC登录云提供商，而无需额外的费用。</p><p>&nbsp;</p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2023/03/passwordless-deployments-github/\">https://www.infoq.com/news/2023/03/passwordless-deployments-github/</a>\"</p><p></p><p>相关阅读：</p><p><a href=\"https://xie.infoq.cn/article/3a47c0e86ca4f1780a65cfdf3\">玩转 Github：三分钟教你如何用 Github 快速找到优秀的开源项目</a>\"</p><p><a href=\"https://xie.infoq.cn/article/442ddeac1eaada53fd5770750\">8 个很酷的 GitHub 技巧</a>\"</p>",
    "publish_time": "2023-04-21 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]