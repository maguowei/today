[
  {
    "title": "字节开源基于 Rust 打包工具 Rspack，比 Webpack 快了10倍",
    "url": "https://www.infoq.cn/article/quSeDMzURbsu8eysjKPZ",
    "summary": "<p>字节跳动近期与 <a href=\"https://valor-software.com/\">Valor 软件</a>\"开源了 <a href=\"https://valor-software.com/press-release/rs-pack-rust-based-web-bundler\">Rspack</a>\"，这是一款由 Rust 编写的&nbsp;Web 捆绑，意在用更快、更直接的方式取代 Webpack。部分早期基准测试表明，Rspack 的冷启动时间有十倍的提升。字节跳动对其的开发主要为缓解 Rspack 在部分场景下生产构建时间长达十分钟至半小时，冷启动时间可超数分钟的问题。为降低迁移成本并维持 Webpack 配置机制所提供的灵活性和生产优化，Rspack 的<a href=\"https://github.com/web-infra-dev/rspack\">功能</a>\"设计如下：</p><p>&nbsp;</p><p></p><blockquote>快速启动：基于 Rust 的飞快构建速度，为你带来极致的开发体验。&nbsp;模块热替换 (HMR)：内置增量编译机制让 HMR 速度飞快的同时 ，也完全能胜任大型应用的开发&nbsp;与 Webpack 的互操作性：与 Webpack 架构和生态系统相兼容，无需重新建立生态系统&nbsp;内含电池：开箱即用的 TypeScript、JSX、CSS、CSS Modules、Sass 等支持&nbsp;生产优化：内置多项默认优化策略，如摇树优化、最小化等等&nbsp;框架无关：不受限于任何前端框架，确保足够的灵活性</blockquote><p></p><p>&nbsp;</p><p>速度的观测结果取决于设备、项目结构及规模。字节跳动是通过公开可用的 <a href=\"https://webpack.github.io/benchmark/\">Webpack 基准测试工具</a>\"，于<a href=\"https://github.com/web-infra-dev/bundler-benchmark\">自定义代码库</a>\"中进行的基准测试。基准测试结果显示 Rspack 冷启动时间经过开发优化，相较使用 Babel 的 Webpack <a href=\"https://www.rspack.dev/misc/benchmark.html#data\">提升了十倍有余</a>\"，增量构建时间<a href=\"https://www.rspack.dev/misc/benchmark.html#data-1\">提升三倍</a>\"。Nx 在其他代码库中也<a href=\"https://www.youtube.com/watch?v=jGTE7xAcg24\">展示了类似的结果</a>\"：</p><p>&nbsp;</p><p></p><blockquote>我们自行进行了初步的统计，也看到了一些很赞的改善。对大型组件而言，Rspack 的部署时间比 Webpack 快四倍，开发服务器的启动速度比目前 Webpack 的实现快五倍，总体生产构建的速度有了四倍的提升。</blockquote><p></p><p>&nbsp;</p><p>Rspack 虽然只在近期才开源，但其开发时长已有一年了。但不管怎么说，该项目仍处于早期阶段，缺乏许多 Webpack 的功能。Rspack 团队强调他们计划进一步加强对 Webpack 生态系统的支持：</p><p>&nbsp;</p><p></p><blockquote>Rspack 与 Webpack 的配置模式和 Loader 架构，人们可无缝使用熟悉的 Loader，如babel-loader、less-loader、sass-loader 等等。我们的长期目标是为完全支持最为常用的 Loader，包括更为复杂的 vue-loader 等情况。但要想实现 Webpack 的全部功能，我们还任重而道远。我们会基于社区反馈排列优先级，所以请告诉我们您的需求！</blockquote><p></p><p>&nbsp;</p><p>Rspack 最初是由字节跳动内部开发团队发起，<a href=\"https://internaldeveloperplatform.org/what-is-an-internal-developer-platform/#:~:text=An%20Internal%20Developer%20Platform%20%28IDP%29%20is%20built%20by%20a%20platform,away%20context%20and%20underlying%20technologies.\">内部开发者平台</a>\"或一般平台工程团队正逐渐成为企业 DevOps 实践的一部分。</p><p>&nbsp;</p><p>越来越多的 Web 工具链开始使用 Rust 来大幅提升其性能。热门的 Parcel 捆绑于<a href=\"https://parceljs.org/blog/parcel-css/\">去年宣发</a>\"了一款使用 Rust 编写的新 CSS 解析器、编译器、粉碎器（比基于 JavaScript 的 CSSNano 快百倍，比基于 Go 的 ESBuild 快三倍）。两年前，Parcel 2 便已经<a href=\"https://www.infoq.com/news/2021/09/parcel-2-rust-faster-javascript/\">用 Rust 对其 JavaScript 编译器进行了重写</a>\"（构建性能提升十倍）前端工具链 Rome 于几个月前<a href=\"https://www.infoq.com/news/2022/11/rome-v10-stable-release-linter/\">发布了一款基于 Rust 的新代码质量规则和格式化器</a>\"，相比&nbsp;<a href=\"https://eslint.org/\">ESLint</a>\"&nbsp;和 <a href=\"https://prettier.io/\">Prettier</a>\" 有一至二个数量级的提升。<a href=\"https://github.com/rolldown-rs/rolldown\">Rolldown</a>\" 是另一项进行中的项目，可提供与 Rollup 相兼容的 API。</p><p>&nbsp;</p><p><a href=\"https://webpack.js.org/\">Webpack</a>\"、<a href=\"https://parceljs.org/\">Parcel</a>\"、<a href=\"https://rollupjs.org/\">Rollup</a>\"，这些均是用于构建 Web 应用程序的最热门捆绑器。Rspack 是在 MIT 许可下发布的开源软件，欢迎反馈，但也应遵守<a href=\"https://github.com/web-infra-dev/rspack/blob/main/CONTRIBUTING.md\">贡献指南</a>\"和<a href=\"https://github.com/web-infra-dev/rspack/blob/main/CODE_OF_CONDUCT.md\">行为准则</a>\"。</p><p>&nbsp;</p><p>&nbsp;</p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2023/04/rust-rspack-webpack-compatible/\">New Rust-Based Web Bundler Rspack Touts up to 10X Speed Improvement over Webpack</a>\"</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/article/KJRrxY9aTGfM33L2XSGx\">Vite 4 发布，用更快的 SWC 替换了 Babel</a>\"</p><p><a href=\"https://www.infoq.cn/article/iKecr1k4eQMMpCaaXEDr\">Webpack 创始人推出比 Webpack“快 700 倍”的 Turbopack，基于 Rust 编写</a>\"</p><p></p>",
    "publish_time": "2023-04-14 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]