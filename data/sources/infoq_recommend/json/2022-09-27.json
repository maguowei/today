[
  {
    "title": "Oracle正式发布MySQL Heatwave on AWS",
    "url": "https://www.infoq.cn/article/2a4wyAUCqEjD2ilr0s41",
    "summary": "<p>近日，Oracle正式发布了<a href=\"https://www.oracle.com/mysql/\">MySQL Heatwave</a>\"。该服务将OLTP、分析、机器学习和基于机器学习的自动化融合到了单个AWS实例中。</p><p>&nbsp;</p><p>2020年，Oracle在<a href=\"https://www.oracle.com/cloud/\">Oracle云基础设施（OCI）</a>\"上推出了云数据库服务，为客户提供融合了在线分析和事务处理能力的托管服务。2022年5月底，他们又<a href=\"https://www.oracle.com/en/news/announcement/mysql-heatwave-supports-in-database-machine-learning-2022-03-29/\">将autoML添加到了该服务中</a>\"。现在，他们首次在Oracle云基础设施之外提供了这样的服务——让用户可以在AWS上的单个服务中运行事务处理、分析和机器学习工作负载，而且不需要在独立的OLTP数据库和OLAP数据库之间进行ETL复制。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/15/1599874a8f8760f790aec1d25ab0638d.png\" /></p><p></p><p>图片来源：<a href=\"https://www.oracle.com/mysql/heatwave/\">https://www.oracle.com/mysql/heatwave/</a>\"</p><p>&nbsp;</p><p>Percona创始人兼首席执行官<a href=\"https://twitter.com/PeterZaitsev\">Peter Zaitsev</a>\"发了这样一条<a href=\"https://twitter.com/PeterZaitsev/status/1569754788295999490\">推文</a>\"：&nbsp;</p><p></p><p></p><blockquote>Oracle最终承认了没人对Oracle云感兴趣，并将Heatwave带到了AWS上，那之前曾是OCI罕有的比较“完备”的功能之一。</blockquote><p></p><p></p><p>在<a href=\"https://www.oracle.com/news/announcement/mysql-heatwave-on-aws-2022-09-12/\">新闻公告</a>\"中，Oracle宣布了MySQL HeatWave on AWS的多项新功能。该服务提供了AWS原生体验和监控预分配资源性能和使用率的能力，并集成了<a href=\"https://blogs.oracle.com/mysql/post/mysql-autopilot-machine-learning-automation-for-mysql-heatwave\">MySQL Autopilot</a>\"。后者提供了工作负载感知，基于机器学习的应用程序生命周期自动化，包括数据管理和查询执行。此外，它还提供了全面的安全特性，如服务器端数据屏蔽和去身份标识、非对称数据加密和数据库防火墙。</p><p>&nbsp;</p><p>Sanjmo负责人<a href=\"https://twitter.com/SanjMo\">Sanjeev Mohan</a>\"在LinkedIn的一篇<a href=\"https://www.linkedin.com/feed/update/urn:li:share:6975245363116986369/\">博文</a>\"中写道：&nbsp;</p><p></p><p></p><blockquote>数据平面、控制平面和控制台都是在AWS本地运行。用于AWS的代码库和用于OCI的代码库完全相同。不过，Oracle做了多项增强，集成了AWS服务，如监控资源和操作日志及指标的CloudWatch。</blockquote><p></p><p></p><p>还是在同一份新闻公告中，Oracle宣称，MySQL HeatWave的性价比优于AWS上的其他系统。比如，在运行<a href=\"https://github.com/oracle/heatwave-tpch\">来自4TB TPC-H基准测试的查询</a>\"时，<a href=\"https://www.oracle.com/mysql/heatwave/performance/\">MySQL HeatWave on AWS的性价比</a>\"是Amazon Redshift的7倍，Snowflake的10倍，Google BigQuery的12倍，Azure Synapse的4倍。</p><p>&nbsp;</p><p>Constellation Research副总裁兼首席分析师<a href=\"https://twitter.com/holgermu\">Holger Mueller</a>\"在其中一份关于MySQL on AWS的<a href=\"https://www.oracle.com/mysql/heatwave/analysts/#heatwave-on-aws\">行业分析报告</a>\"中指出：</p><p></p><p></p><blockquote>事实是，MySQL工程团队不仅在AWS上提供了MySQL Heatwave服务，为了提高性能，他们还进行了架构调整，TCO（总拥有成本）是底层软件架构卓越性的另一个证据。</blockquote><p></p><p></p><p>此外，Mueller告诉InfoQ：</p><p></p><p></p><blockquote>Oracle正在将其软件移到AWS上，这有助于AWS客户的采用，因为他们的数据就托管在这个颇具竞争力的平台上，那样可以简化迁移工作。</blockquote><p></p><p></p><p>现在MySQL HeatWave已在多家云上可用，包括OCI 和AWS，很快Microsoft Azure也会提供。</p><p>&nbsp;</p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2022/09/oracle-mysql-heatwave-aws/\">https://www.infoq.com/news/2022/09/oracle-mysql-heatwave-aws/</a>\"</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/article/MwBXrRq4fprblHP43hpR\">AWS 数据库迁移服务：将 Oracle 数据库迁移到 MySQL</a>\"</p><p></p>",
    "publish_time": "2022-09-27 08:52:48",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "从趋势到挑战，一站式解读操作系统运维和可观测性",
    "url": "https://www.infoq.cn/article/ZVP2EPUiQmOQbqAiYtjD",
    "summary": "<p></p><blockquote>编者按：随着企业数字化转型步入深水区，设备数量增加，业务系统更加复杂，除了要保证物理硬件的稳定性和可靠性，运维目的和手段也发生了深刻变革。对此，龙蜥社区系统运维 SIG 组 Maintainer、统信软件资深操作系统研发工程师高冲从系统运维的趋势与挑战、系统运维 SIG 组项目及未来展望和规划三个方面，带我们了解操作系统运维和可观测性。本文整理自&nbsp;<a href=\"https://openanolis.cn/video/#643729391503840851\">2022&nbsp;年阿里巴巴开源开放周技术演讲</a>\"，视频回放已上线至龙蜥官网（首页-动态-视频），欢迎大家观看。</blockquote><p></p><p></p><h2>一、系统运维的趋势与挑战</h2><p></p><p></p><p>随着企业数字化转型步入深水区，设备数量增加，业务系统更加复杂，除了要保证物理硬件的稳定性和可靠性，运维目的和手段也发生了深刻变革，通过平台化和智能化保证运维环境的实时性、数据安全性和业务连续性。</p><p></p><p>运维的整个发展历程主要有下面四个阶段：</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/72/72c65c32cd917bcdc69ab879fb133e2c.png\" /></p><p></p><p>从最初的手动运维，依赖于运维人员的经验，发展为流程化的一个运维，依赖流程的规范化管理来实现运维，前两种的运维方式为企业带来很大的运维成本，现阶段的主流运维方式有两种：</p><p></p><p>平台化的运维。通过平台化的自动化和可视化的运维，来大大减少企业运维的成本。智能化运维。随着数据分析、人工智能的技术引入，慢慢地我们也会介入智能化运维。</p><p></p><p>下面为大家介绍下运维业务的架构。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/82/82df16e1b35713cebbdb57a94ddf7fa4.png\" /></p><p></p><p>最底层的是对于硬件的一个运维，通常就包含硬件的一些信息，比如温度、读写寿命、风扇转速等等。再往上层就是对操作系统的运维，还有是通过外挂的一些运维，比如 IPMI 协议，通常比较常见就是 BMC 。</p><p></p><p>在整个系统的运维方面，其实有两大部分，一个是管控，另外一部分是诊断。</p><p></p><p>1、管控主要分为三个方向：</p><p></p><p>第一是资源管理。首先就是对资源的一个纳管，比如说主机的一些纳管。另外就是监控，如对资源的一些监控，包含 CPU 的算力、磁盘的使用情况、带宽、内存，最后是对资源的分配。</p><p></p><p>第二是配置管理。它包含有三部分：安全、包管理、自动化。在整个运维方向来看，其实都视为是配置。配置中的安全一个是 CVE，还有一些是配置项的安全，比如说端口扫描都属于安全。另外是包的管理，现在比较主流的有两种：一个是 RPM 包，另一个是 deb 包。包管理其实就包含这个包的升级回退、版本控制。最后就是自动化，也是相对比较重要的一部分，比如说我们配置的批量下发、定时任务，还有一些模板下发。</p><p></p><p>第三就是权限管理。权限管理分两部分，一部分是用户权限控制，相对比较常见的 RBCA。另外是审计，包含行为审计和日志审计。除了审计，还有一部分是危险拦截，比如拦截危险命令的操作、提权操作等。</p><p></p><p>2、另外比较核心的一块是 SLI：</p><p></p><p>SRE(站点可靠性工程)的概念是由 gongle 创建出的, SLI 是指度量系统可靠性的测试指标。OS SLI 通常有可靠性、可用性、性能等方向，OS 通常为延迟、吞吐量、相应时间、准确性、完整性。一部分 SLI 是传统式主动触发，比如说网络延迟抖动发生的时候，运维人员去调用相关的 SLI 一些工具，做下钻式的分析或者是我们去利用凌晨或者定时巡检来发现问题，类似于轮询这样的方式。</p><p></p><p>传统的 SLI 的采集是通过系统调用获取系统信息，比较耗费资源的。目前比较火的 eBPF 技术就解决了底噪占用高和安全的问题，可以结合一些基本处理手段来获取更有价值的数据。</p><p></p><p>以上介绍的管控和诊断，我们都会通过这两块业务收集到数据，也就涉及到数据处理。</p><p></p><p>数据处理，目前有四个方向的处理方式：</p><p></p><p>一个是时续化的数据处理。我们将整个诊断，还有管控的数据做一个时续化的处理来帮助运维人员做一些更好的、更深层次的分析。第二就是一些性能的分析，需要对整个性能做负载画像。第三系统的各个的方向实际是相对比较复杂的，我们需要利用一些算法做聚合分析。最后就是异常检测。比如 IO 的一个延迟，需要对 IO 企业的时间或者读时间比较长，做一个离群检测分析。</p><p></p><p>有了这些数据之后，我们会对数据利用运维的一些经验或者 AI 技术，做一些智能化的一些介入，当然也包含告警。</p><p></p><p>结合传统运维工具和 eBPF 技术，我们可以对整个系统的进行全栈观测。从最底层，比如 CPU 的诊断来说，我们可以利用 CPU frequency 去看到每个进程在对 CPU 的一个调动频率的观测。再到上层的一个设备驱动、网络，还有文件系统，系统调用等，都是可以利用&nbsp;eBPF&nbsp;技术来做到很深层次的观测。</p><p></p><p>那同样的对用户态的一些进程，比如说数据库、中间件或者是 runtime 的一个状态都可以就是利用 uproble 技术去做观测。</p><p></p><h2>二、龙蜥社区系统运维 SIG 核心项目技术实践</h2><p></p><p></p><p><a href=\"https://openanolis.cn/sig/sysom\">系统运维 SIG 组</a>\"（Special Interest Group）是致力于打造一个集主机管理配置部署，还有监控报警、异常诊断、安全审计等一系列功能的一个自动化运维平台。目前 SIG 组有三个核心的项目：一个是&nbsp;<a href=\"https://www.infoq.cn/article/cso0DaFXwurDh4Kp9qwQ\">SysOM</a>\"，提供一站式的运维的管理平台。<a href=\"https://xie.infoq.cn/article/bcae3669c2f3c6f158c6fdaeb\">SysAK</a>\"&nbsp;是系统的一个分析诊断套件，也是核心驱动 SysOM&nbsp;一些诊断功能的技术底座。最后是比较前瞻性的&nbsp;<a href=\"https://www.infoq.cn/article/IielSpCwjf6Owd6jMBef\">coolbpf</a>\"，是对 BPF 编译套件的增强，包括一个远程编译的技术。还有是对低内核版本的在 eBPF 上特性的回合。目前整个&nbsp;SIG&nbsp;组比较活跃的，PR&nbsp;提交了有一千多。</p><p></p><p>下面为大家介绍一下 <a href=\"https://gitee.com/anolis/sysom?_from=gitee_search\">SysOM </a>\"的整个的架构。SysOM 的架构核心是分为两部分，一个是 server 端，另一个是 client 端。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/24/24273829998c9b71f523d4f344e86a51.png\" /></p><p></p><p>前端主要是 dashboard 的展示。有主机管理、监控中心、宕机中心、诊断中心、日志中心和安全中心，主要是负责和用户的一个 UI 交互。后端是负责一些核心的技术实现。比如说监控，有资源监控（目前是通过 prometheuse 的exporter-node 去实现资源的监控）、任务监控、异常监控。还有宕机分析、诊断，依托的是 SysAK 的一些功能去做到网络诊断、存储诊断、内存诊断和调度诊断。最后在安全这一块，主要包括漏洞检查、漏洞修复，加固以及日志审计。</p><p></p><p>整个的后端存储有两部分，一部分是关系型数据库，就是 RDB，还有一个就是时序性数据库。</p><p></p><p>client 包含 SysAK 负责提供系统的性能和故障诊断。vmcored client 主要是负责提供诊断信息的收集。node exporters 负责整个资源的一个诊断，还包含时序化的处理、回传 prometheus。</p><p></p><p>那下面我将是通过前端的展示，为大家直观的了解 SysOM 整个的功能：</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/fc/fcd58ea4f09f9e1e2558e626ce925f9e.png\" /></p><p></p><p>SysOM 主机管理，支持批量导入导出、集群化管理，当然也支持远程的终端。监控中心集成了一些常用的资源的配置项。比如说磁盘、CPU 算力，还有网络带宽的使用情况，也包含一些关键进程的监控，还有网络的延时情况。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/fb/fbcfce379e54014421433d6ae1f00b27.png\" /></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/bc/bcd5bcf7d5d60c121fb7db67d7f08a91.png\" /></p><p></p><p>SysOM 诊断中心，也是相对比较核心的功能。我们目前对系统做了 SRE 诊断，另外也包含整个的软硬件诊断的情况，还有 IO 诊断，也去做了系统的低状态的检查。性能包括系统的调度的使用情况做了火焰图的分析，这样我们也就能够通过很直观的去看到系统的一些瓶颈、性能的问题。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/fb/fb154ef502f9d3ab8df53062818e5687.png\" /></p><p></p><p>也包括可用性的检查，我们做了静态的一些配置项检查。比如说调度、内存和 IO 网络去通过和我们专家经验去做对比，分析出性能或者是一些故障隐患。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/fb/fb154ef502f9d3ab8df53062818e5687.png\" /></p><p></p><p>SysOM 比较有亮点的两个功能：网络诊断和 IO 诊断。我们现在从单时报能看到的是网络诊断，通过从 server 端发包给 agent 端，然后把整个调用链，在每个阶段平均的耗时计算出来，通过一个直观的图展示出来，也可以通过鼠标的悬停去看具体的某个阶段的耗时情况做一个下转式的分析。比如下图对用户态的整个内核的实验做了分析：</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/d5/d5239e2c332073494cd57478fbc03a9c.png\" /></p><p></p><p>从上图中我们能看到它整个的一个平衡平均耗时是三十七毫秒。但是在具体的某个时间段是有一定的波动的。</p><p></p><p>整个 SysOM 的功能是相对比较多的，也欢迎感兴趣的小伙伴可以做一些有趣的探索。</p><p></p><p>最后是 SysOM 安全中心。安全中心通过是 errata 的机制，结合 Anolis 的公勘去做了漏洞的一个实施，定期扫描。当然也是支持漏洞的第三方配置。我们通过比如说配置漏洞数据库，接入第三方的一些数据库来增强整个系统或者是运维环境的安全性。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/76/766cd8beb55678afed138f3ead1466f8.png\" /></p><p></p><p>那对一些高危的或者是需要我们重启的一些 CUE，我们在修复之后也是会给出相应的提示。如重启服务或者说内核需要重启系统来生效。</p><p></p><p>以上是整个 SysOM 相关内容的介绍，关于 SysAK 和 coolbpf 相关介绍可以通过 SIG 组了解，也希望大家参与到系统运维 SIG 组，大家一起来多多贡献。</p><p></p><h2>三、展望和规划</h2><p></p><p></p><p>目前 eBPF 提供了一种全新的动态插桩技术，为运维的性能和故障诊断带来新活力。统信软件也将持续贡献在 OS 方向的专家运营经验，携手龙蜥社区一起把系统运维 SIG 组做好，也把龙蜥生态做好，未来也将会在故障诊断、安全和权限管理持续发力。</p>",
    "publish_time": "2022-09-27 10:00:29",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]