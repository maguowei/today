[
  {
    "title": "PayPal开源JunoDB，支持3500亿次日请求的键值存储",
    "url": "https://www.infoq.cn/article/SabZ4XjSmvem6K32Z2V8",
    "summary": "<p>PayPal最近<a href=\"https://medium.com/paypal-tech/unlocking-the-power-of-junodb-paypals-key-value-store-goes-open-source-ee85f935bdc1\">开源了JunoDB</a>\"，这是一个底层使用RocksDB存储引擎的分布式键值存储。JunoDB是一个高度可用且非常注重安全的数据库。在PayPal，它每天处理3500亿次请求。</p><p>&nbsp;</p><p><a href=\"https://github.com/paypal/junodb\">JunoDB</a>\"是用Golang编写的，采用了基于代理的设计，支持连接的线性横向扩展。它使用一致性哈希算法对数据进行分区，最大限度地减少了集群扩展或收缩时的数据移动。为了实现零停机，JunoDB使用了数据中心内和跨数据中心复制，并通过基于仲裁的协议和两阶段提交确保数据一致性。PayPal首席MTS <a href=\"https://www.linkedin.com/in/yapingshi/\">Yaping Shi</a>\"写道：</p><p></p><p></p><blockquote>实际上，PayPal的每一个核心后端服务都依赖于JunoDB，从登录到风险再到最终的交易处理。使用JunoDB，应用程序可以有效地存储和缓存数据，以便在关系数据库和其他服务上快速访问以及降低负载。</blockquote><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/c6/c6f4909b1186dc7b2ac8a602b6212c42.jpeg\" /></p><p></p><p>图片来源：<a href=\"https://medium.com/paypal-tech/unlocking-the-power-of-junodb-paypals-key-value-store-goes-open-source-ee85f935bdc1\">https://medium.com/paypal-tech/unlocking-the-power-of-junodb-paypals-key-value-store-goes-open-source-ee85f935bdc1</a>\"</p><p>&nbsp;</p><p>该数据库主要包含三个组件：JunoDB 客户端库（有面向不同语言的版本）、JunoDB 客户端代理（一个连接存储服务器并负责分片的负载平衡器），以及JunoDB 存储（基于高性能嵌入式数据库<a href=\"https://github.com/facebook/rocksdb/\">RockDB</a>\"，同时提供了内存和磁盘持久化存储）。</p><p>&nbsp;</p><p>如果出现节点故障，那么它提供的自动化即时故障转移功能避免了集群领导的重新选举或数据的重新分配。</p><p>&nbsp;</p><p>对于这个新的NoSQL解决方案，其建议的应用场景包括缓存、存储用户首选项、帐户详情和API响应等信息、幂等性（确保操作幂等并消除任何重复处理）和延迟桥接（帮助解决由跨区域的分布式数据库所造成的复制延迟）。Shi介绍了该项目在PayPal内部的演进情况：</p><p></p><p></p><blockquote>它最初是一个单线程的C++程序，但后来，为了实现高并发和多核友好性，我们用Golang进行了重写。JunoDB还从一个短TTL（生存时间）的内存数据存储演变为一个支持长TTL的持久数据存储。默认情况下，它通过磁盘加密和TLS传输来提升数据的安全性。</blockquote><p></p><p>&nbsp;</p><p>Mercado Libre高级软件工程师Nahim Felicito Gomez<a href=\"https://www.linkedin.com/feed/update/urn:li:activity:7069421790057381888?updateEntityUrn=urn%3Ali%3Afs_feedUpdate%3A%28V2%2Curn%3Ali%3Aactivity%3A7069421790057381888%29\">评论</a>\"道：</p><p></p><p></p><blockquote>使用Golang重写JunoDB，PayPal充分利用了该语言的并发性和多核能力，那也是Golang成为构建JunoDB客户端库的理想选择的原因。</blockquote><p></p><p>&nbsp;</p><p>在<a href=\"https://news.ycombinator.com/item?id=35998359\">Hacker News</a>\"上，许多用户讨论了该项目及键值存储的好处，并将JunoDB与<a href=\"https://www.foundationdb.org/\">FoundationDB</a>\"等其他数据库进行了比较，而用户gregwebs则质疑公告中缺乏数据：</p><p></p><p></p><blockquote>如果能看到一些基准测试，或者只是提供一些数据，那就太好了。<a href=\"https://tikv.org/\">TiKV</a>\"是CNCF捐赠的项目，具有大致相同的架构，并已部署在超过200个节点的大型集群中。</blockquote><p></p><p>&nbsp;</p><p>JunoDB是<a href=\"https://github.com/paypal/junodb\">GitHub</a>\"上的一个开源项目，遵循Apache 2许可。为了帮助开发人员有效地使用该数据库，PayPal发布了<a href=\"https://www.paypalobjects.com/junodb/junodb_Server_Build.mp4\">服务器设置</a>\"和<a href=\"https://www.paypalobjects.com/junodb/junodb_client_sdk.mp4\">客户端构建</a>\"视频教程。该项目的路线图上还包括Golang客户端和Kubernetes JunoDB操作符。</p><p>&nbsp;</p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2023/06/paypal-junodb-kv-store/\">https://www.infoq.com/news/2023/06/paypal-junodb-kv-store/</a>\"</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/article/i0pNrspVB3mkVYe4Dk3E\">Skyscanner 数据文化的改进之道</a>\"</p><p><a href=\"https://www.infoq.cn/article/N5DEfKicsyv6BSsQRPeE\">DevSecOps，将安全性集成到软件开发的每一个阶段</a>\"</p><p><a href=\"https://www.infoq.cn/article/Qx4zJlivwd2B1XAzYxDr\">零拷贝技术升级，V6D 让数据传输更高效</a>\"</p>",
    "publish_time": "2023-06-24 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]