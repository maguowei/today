[
  {
    "title": "QCon全球软件开发大会（广州站）即将落地，与你探索数据架构的最佳实践",
    "url": "https://www.infoq.cn/article/mbT9rW1kGydYgSeG3Dap",
    "summary": "<p>如何在物理和虚拟层面整合各个分散的领域和数据“孤岛”；如何使用混合多云平台来管理和处理数据；如何凭借计算和存储可扩展性，应对不断增长的数据量；如何在整个过程中融入安全性、可扩展性和适应能力；以及如何在数据提供者和使用者之间的价值链中实现数据集成、数据工程和数据治理自动化等等，都是数据据架构所关心的问题。</p><p>&nbsp;</p><p>在在 5月26-27日<a href=\"https://qcon.infoq.cn/2023/guangzhou/schedule\"> QCon全球软件开发大会（广州站）</a>\"上，我们策划了【现代数据架构】专题，</p><p>我们很荣幸邀请到了罗庆超，阿里云资深技术专家来担任专题出品人。他是阿里云对象存储负责人，他在企业存储和云存储领域拥有丰富的技术与产品经验，曾就职于世界 500 强以及知名跨国公司的存储团队，并作为海量存储首席架构师负责文件存储、对象存储以及下一代分布式云存储的架构设计和实现；</p><p>&nbsp;</p><p>于此同时，我们也邀请了多位专家来分享他们的技术实践，下面是详细介绍：</p><p>&nbsp;</p><p><a href=\"https://qcon.infoq.cn/2023/guangzhou/presentation/5224\">谢凯</a>\"，字节跳动基础架构研发工程师。他将介绍字节跳动如何通过 Iceberg 数据湖支持 EB 级机器学习样本存储，实现高性能特征读取和高效特征调研、特征工程加速模型迭代。您将了解字节跳动数据湖方向的前沿技术与成果，并了解 EB 级机器学习样本存储的最佳实践；</p><p>&nbsp;</p><p><a href=\"https://qcon.infoq.cn/2023/guangzhou/presentation/5269\">柯维鸿</a>\"，网易游戏资深技术专家。他将分享⽹易互娱大数据平台出海上云架构设计与实践的经验。您将了解网易基于公有云构建 Hadoop 高性能存储层、计算层、数据分层方案设计，并了解整个方案的落地中的难点所在、实施效果和成本优化情况；</p><p>&nbsp;</p><p><a href=\"https://qcon.infoq.cn/2023/guangzhou/presentation/5285\">周皓</a>\"，阿里云高级架构师。他将介绍阿里云数据湖 3.0 架构与实践。您将了解行业最新的数据湖架构与技术，并了解数据湖架构在 AI、游戏等领域的实践应用。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/f9/f9c92740ba012906494b90ce8ef44051.png\" /></p><p></p><p>&nbsp;</p><p>更多精彩议题持续上线中...</p><p>&nbsp;</p><p>活动推荐：</p><p>&nbsp;</p><p>在5月26-27日，QCon全球软件开发大会（广州）站即将落地，在此峰会上，共有十二个专题，近五十余场分享。其中包括稳定性即生命线、编程语言实战、DevOps vs 平台工程、AGI 与 AIGC 落地、下一代软件架构、数据驱动业务、出海的思考、云成本优化、现代数据架构、AIGC浪潮下的效能智能化、新型数据库、大前端技术探索。欢迎与你一起交流，更多详细信息可扫描下方海报二维码了解。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/af/afc56e32706b051a6e0cd52cadb31550.jpeg\" /></p><p></p>",
    "publish_time": "2023-05-12 09:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "Slack实时消息处理架构，更新、更快、更稳定",
    "url": "https://www.infoq.cn/article/9lp0pYfij3bUxmHDXkxl",
    "summary": "<p>Slack最近公布了它们是如何实现在全球范围内<a href=\"https://slack.engineering/real-time-messaging/\">每天发送数百万条实时消息的</a>\"。该公司提供了对其<a href=\"https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern\">Pub/Sub</a>\"架构的全面讲解，这个架构的设计目标就是管理大规模的实时消息。它强调了在不同时区和地区发送实时消息的独特挑战，以及Slack的工程师如何设计基础设施来处理这些挑战的。</p><p></p><p>Slack的高级软件工程师<a href=\"https://www.linkedin.com/in/sameera-thangudu/\">Sameera Thangudu</a>\"阐述了这种架构的重要性：</p><p></p><blockquote>我们的服务器要为每台主机上的数千万个通道以及数千万个连接的客户端提供服务，我们的系统要在500毫秒内将消息传递到世界各地。凭借当前架构的线性可扩展性，我们可以为更多客户提供服务。</blockquote><p></p><p></p><p>她表示，该公司会加强其架构，以服务更多的客户群。</p><p></p><p>该系统的后端由多个服务组成。通道服务器（Channel Server，CS）是有状态的内存服务器，持有通道的历史。这里会有一个一致性散列机制将每个CS映射到通道的一个子集中。在峰值时期，每个主机大约为1600万个通道提供服务。一致性哈希环管理器（consistent hash ring manager，CHARM）会管理CS的一致性哈希环，确保在20秒内替换掉不健康的CS。Consul会存储一致性哈希值的最新配置。</p><p></p><p><img src=\"https://imgopt.infoq.com/fit-in/1200x2400/filters:quality(80)/filters:no_upscale()/news/2023/04/real-time-messaging-slack/en/resources/2Slack%20-%20Consul-1681645825634.jpg\" /></p><p></p><p>图片来源：<a href=\"https://slack.engineering/real-time-messaging/\">https://slack.engineering/real-time-messaging/</a>\"</p><p></p><p>网关服务器（Gateway Server，GS），与CS类似，是有状态的内存服务器。它们维护用户信息和WebSocket通道订阅，并作为Slack客户端和CS之间的接口。GS会被部署到多个地理区域，以优化连接速度。管理服务器（Admin Server，AS）是无状态的内存服务器，它们是Webapp后端和CS之间的接口。最后，状态服务器（Presence Server，PS）会跟踪在线用户，支撑Slack客户端的绿色状态点（green presence dot）。</p><p></p><p>每个Slack客户端有一个到Slack服务器的持久性WebSocket连接，以接收实时事件来维护其状态。客户端需要通过几个步骤来搭建WebSocket连接，比如从Webapp后端获取用户令牌和WebSocket连接的设置信息。然后，客户端会初始化一个WebSocket连接到最近的边缘区域，GS获取用户信息并向客户端发送第一条消息。<a href=\"https://www.envoyproxy.io/\">Envoy</a>\"会平衡传入的流量并处理TLS终止。</p><p></p><p><img src=\"https://imgopt.infoq.com/fit-in/1200x2400/filters:quality(80)/filters:no_upscale()/news/2023/04/real-time-messaging-slack/en/resources/1Slack%20-%20Client%20WebSocket%20Setup-1681645825634.jpg\" /></p><p></p><p>客户端设置完成后，在通道中发送的每条消息都会广播至通道中所有在线的客户端。消息在发送至全球范围的每个订阅的GS之前，要经过Webapp API、AS和CS。每个收到消息的GS都会将消息发送至订阅该通道ID的客户端。</p><p></p><p><img src=\"https://imgopt.infoq.com/fit-in/1200x2400/filters:quality(80)/filters:no_upscale()/news/2023/04/real-time-messaging-slack/en/resources/1Slack%20-%20Journey%20of%20a%20Message-1681645825634.jpg\" /></p><p></p><p>除了聊天消息，实时改变客户端状态的另一种消息类型是事件。瞬时事件，比如用户在通道中进行输入，会遵循一个略有差异的流程，因为数据库不会持久化保存这些事件。下图说明了这个流程。</p><p></p><p><img src=\"https://imgopt.infoq.com/fit-in/1200x2400/filters:quality(80)/filters:no_upscale()/news/2023/04/real-time-messaging-slack/en/resources/1Slack%20-%20Transient%20Event%20Flow-1681645825634.jpg\" /></p><p></p><p></p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2023/04/real-time-messaging-slack/\">Real-Time Messaging Architecture at Slack</a>\"</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/article/hhh8OGLNbsz121H43Df4\">Slack工程师如何解决最常见的移动开发痛点</a>\"</p><p><a href=\"https://www.infoq.cn/article/Pwkm3Ro1IqSzM3wLXvMS\">Zoom和Slack的第二曲线</a>\"</p>",
    "publish_time": "2023-05-12 10:37:19",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]