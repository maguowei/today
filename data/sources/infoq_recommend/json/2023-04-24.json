[
  {
    "title": "加入有序集合，Java集合框架变得更加完善",
    "url": "https://www.infoq.cn/article/PyfmlboNJMKzlhZTwDL3",
    "summary": "<p>JEP 431（<a href=\"https://openjdk.org/jeps/431\">有序集合</a>\"）已从Candidate状态进入到Proposed to Target状态（发布目标版本为JDK 21）。这个JEP建议引入“一系列新的集合接口，这些集合的元素按照指定的序列或顺序排列，并作为集合的结构属性。”其背后的动机是希望Java的集合框架能够提供定义良好的顺序和统一的操作。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/44/445787f834aaf9d3eafc4c747024b77f.png\" /></p><p></p><p>一直以来，Java的集合框架都需要一种集合类型可以表示指定顺序的元素序列和应用于这些集合的统一操作。不幸的是，对顺序的支持目前分散在集合框架的类层次结构中，这使得通过API来表达某些实际的概念变得较为困难。对此，有人提议引入新的接口来表示具有指定顺序的集合，并提供统一的API来访问它们的第一个和最后一个元素，可以按照相反的顺序处理它们。</p><p></p><p>缺少这种集合类型来表示具有指定顺序的元素序列一直是各种问题和抱怨的主要来源。例如，虽然List和Deque定义了顺序，但它们的公共超类是Collection，Collection并没有定义顺序。类似地，Set没有定义顺序，子类型（如HashSet）也没有，但其他子类型（如SortedSet和LinkedHashSet）有。</p><p></p><p>为了解决这个问题，新JEP为有序集合（Collection）、有序集（Set）和有序映射（Map）定义了新的接口，然后将其嵌入到现有的集合类结构中。这些接口中声明的所有新方法都有默认实现。有序集合、有序集和有序映射都具有不同的特征，有序集合表示元素具有指定顺序的集合，有序集表示不包含重复元素的集合，有序映射表示其条目具有指定顺序的映射。</p><p></p><p>新的reversed()方法提供了原始集合的反向顺序视图，支持所有不同类型的排序，可以使用所有常用的迭代机制（如增强的for循环、显式iterator()循环、forEach()、stream()、parallelStream()和toArray()）在两个方向上处理元素。</p><p></p><p>SequencedCollection接口包括几个新的方法，如下所示：</p><p></p><p><code lang=\"java\">interface SequencedCollection extends Collection {\n    // 新方法\n    SequencedCollection reversed();\n    // 从Deque抽象上来的方法\n    void addFirst(E);\n    void addLast(E);\n    E getFirst();\n    E getLast();\n    E removeFirst();\n    E removeLast();\n}</code></p><p></p><p>SequencedSet接口包含了与SequencedCollection相同的方法，包括reversed()。SequencedMap接口包含了几个新方法，如下所示：</p><p></p><p><code lang=\"java\">interface SequencedMap extends Map {\n  \n// new methods\nSequencedMap reversed();\nSequencedSet sequencedKeySet();\nSequencedCollection sequencedValues();\nSequencedSet&gt; sequencedEntrySet();\nV putFirst(K, V);\nV putLast(K, V);\n// methods promoted from NavigableMap\nEntry firstEntry();\nEntry lastEntry();\nEntry pollFirstEntry();\nEntry pollLastEntry();\n}</code></p><p></p><p>这三个新接口都刚好融入到现有的集合类型结构中，List将SequencedCollection作为其直接的父接口，Deque也将SequencedCollection作为其直接的父接口，LinkedHashSet实现了SequencedSet，SortedSet将SequencedSet作为其直接的父接口，LinkedHashMap实现了SequencedMap，SortedMap将SequencedMap作为其直接的父接口。</p><p></p><p>显式排位API（如SortedSet::addFirst和SortedMap::putLast）会抛出UnsupportedOperationException（因为它们的元素序列是通过比较来决定的），这些不实现所有SequencedCollection操作的不对称集合是有意义的，因为它将SortedSet和SortedMap也带入了有序集合家族，这样它们就可以得到更广泛的使用。</p><p></p><p>总的来说，引入新的接口来表示具有指定顺序的集合和应用于这些集合的统一操作，是Java集合框架向前迈出的重要一步。通过以一致且易于使用的方式提供对顺序的支持，集合框架对开发人员来说将变得更加直观和高效。</p><p></p><p>原文链接：</p><p>https://www.infoq.com/news/2023/03/collections-framework-makeover/</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/article/ecfagKNCSRckMTv7ozAI\">Java 近期新闻：JDK 21 发布计划、Payara 平台、JBang、JHipster、WildFly</a>\"</p><p><a href=\"https://www.infoq.cn/article/R4gOIJ1ILgX1KF8vU4Y2\">甲骨文推出新的 Java SE 通用订阅</a>\"</p><p><a href=\"https://www.infoq.cn/article/JtADhFJ2VYuoDT4BqkeF\">WireMock Spring Boot 将简化 Spring Boot 应用的 WireMock 配置</a>\"</p>",
    "publish_time": "2023-04-24 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "又一国产大模型来了，超对称联合复旦大学发布120亿参数语言模型BBT-2， 已开源",
    "url": "https://www.infoq.cn/article/peHc8AhcYXGJtdbj8AEb",
    "summary": "<p></p><p>InfoQ获悉，近日，超对称联合复旦大学发布并开源120亿参数语言模型BBT-2。</p><p>&nbsp;</p><p>2022年5月超对称技术公司发布了大语言模型Big Bang Transformer【乾元】的第一版BBT-1，10亿参数预训练语言模型，在中文金融语料上训练而成。近期，超对称公司再推出BBT-2，120亿参数的通用大语言模型，并在BBT-2的基础上训出代码，金融，文生图等专业模型。</p><p>&nbsp;</p><p>据悉，Big Bang Transformer【乾元】12B大模型的开发基于英伟达的DGX算力，超对称公司主导大模型的预训练，并联合复旦大学知识工场实验室完成指令微调和评测工作。</p><p>&nbsp;</p><p>超对称技术公司将发布基于BBT-2的系列模型（模型Index见于<a href=\"https://bbt.ssymmetry.com/\">https://bbt.ssymmetry.com</a>\"）</p><p>&nbsp;</p><p>BBT-2-12B-Text：120亿参数的中文基础模型BBT-2.5-13B-Text: 130亿参数的中文+英文双语基础模型BBT-2-12B-TC-001-SFT &nbsp;经过指令微调的代码模型，可以进行对话BBT-2-12B-TF-001 在120亿模型上训练的金融模型，用于解决金融领域任务BBT-2-12B-Fig：文生图模型BBT-2-12B-Science 科学论文模型</p><p>&nbsp;</p><p>另外，通过与UCloud在开源方面的合作，超对称还将3个大模型开源到官网、Github和UCloud，后续用户可直接在UCloud官方平台通过GPU云主机的行业镜像或算力平台直接开箱使用这些模型：</p><p>&nbsp;</p><p>BBT-1-0.2B：2亿参数金融模型，包括三个不同预训练方式进行训练的模型, 训了600亿Tokens：</p><p>&nbsp;</p><p>（1）BBT-1-0.2B-001：2亿参数，金融模型，T5 Decoder+Encoder架构&nbsp;</p><p>（2）BBT-1-0.2B-002: 2亿参数，金融模型，T5+GPT&nbsp;</p><p>（3）BBT-1-0.2B-003: 2亿参数，金融模型，T5+UL2</p><p>&nbsp;</p><p>BBT-1-1B：10亿参数金融模型，T5 Encoder+Decoder架构，使用金融中文语料库1000亿tokens进行预训练，包含社交媒体，财经新闻，券商研报，公司公告财报等数据</p><p>&nbsp;</p><p>BBT-2-12B-Text：120亿参数基础模型，GPT Decoder-Only 架构，未经指令微调，完成2000亿token预训练，模型性能还有较大提升空间，开发者可在通用模型上继续训练或进行下游任务微调</p><p>&nbsp;</p><p>BBT-2.5-13B-Text: 130亿参数基础模型，GPT Decoder-Only 架构，未经指令微调，完成2000亿中文+英文tokens预训</p><p>&nbsp;</p><p>开源下载链接：</p><p>&nbsp;</p><p>模型：</p><p>&nbsp;</p><p>官网：<a href=\"https://bbt.ssymmetry.com/model.html\">https://bbt.ssymmetry.com/model.html</a>\"Github：<a href=\"https://github.com/ssymmetry/BBT-FinCUGE-Applications/tree/main/model\">https://github.com/ssymmetry</a>\"</p><p>&nbsp;</p><p>语料库，开源了接近1000亿tokens的预训练语料，包括通用语料和金融语料，详见：</p><p>&nbsp;</p><p><a href=\"https://bbt.ssymmetry.com/data.html\">https://bbt.ssymmetry.com/data.html</a>\"</p><p>&nbsp;</p><p>评测数据集，开源了8个中文金融大模型的评测数据集，详见：</p><p><a href=\"https://bbt.ssymmetry.com/evaluation.html\">https://bbt.ssymmetry.com/evaluation.html</a>\"</p><p>&nbsp;</p><p>论文链接：</p><p>&nbsp;</p><p><a href=\"https://arxiv.org/abs/2302.09432\">https://arxiv.org/abs/2302.09432</a>\"</p><p>&nbsp;</p><p>&nbsp;</p>",
    "publish_time": "2023-04-24 10:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "Safari 版本更新？开发者的噩梦之旅！",
    "url": "https://www.infoq.cn/article/LAGPaxJrdAHx5x4zLt7I",
    "summary": "<p>近期Safari推出了16.4版本，新版本给我们带来的不是便利、而是又一场恐怖的噩梦。我们是基于浏览器的游戏开发应用Construct的软件商，Safari 16.4这个早期版本则在项目打开、项目预览和使用现有项目内容等各个方面都对Construct造成了毁灭式的打击。这里我想分享一点个人经验，让各位客户、开发者、监管机构乃至苹果自己感受到我们在Safari的这次例行发布中受到了怎样的折磨。</p><p>&nbsp;</p><p>大多数浏览器都会提供预发行版以供早期测试。Chrome Canary和Firefox Nightly就会每天更新，但其实际开发和测试版的发布频率则相对较低。苹果虽然也提供Safari技术预览版（STP），但却仅适用于macOS，而且不会公开发布任何更新时间表——大概的频率就是每两周一次。浏览器的预发行版往往很不稳定，其中的明显问题也能快速得到解决。而一旦进入测试版，专业用户得仔细观察、认真体验了。所以当Safari 16.4 beta 1于2月16号发布时（同样没有任何相应的公开时间表），我们马上开始研究，并很快发现了一大堆问题。</p><p>&nbsp;</p><p></p><h2>无法正常打开项目</h2><p></p><p>&nbsp;</p><p>Construct项目基于zip文件，我们使用流行的zip.js库来读取这些文件，在支持方面则反过来使用Compression Streams API。Safari 16.4添加了对Compression Streams API的支持，但却与zip.js存在一定的兼容性问题，因此在Construct中打开项目经常会触发失败。可以想见，Web上其他依赖于zip.js的项目应该也受到了类似的影响。</p><p>&nbsp;</p><p>我在2月17号<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d252474\">上报了这个问题</a>\"。在对这个问题是否等同于另一个问题抱有疑惑之后（实际并不相同），苹果工程师进行了调查并确定上报属实，表示在2月27日之前成功将其解决。最终效果不错，苹果方面的工作也值得赞赏。</p><p>&nbsp;</p><p>之后就是3月8号发布的Safari技术预览版165，我发现这个bug仍然存在。这时候Safari 16.4的正式版似乎很快就要来了，但我们也不确定，毕竟苹果根本就不提供公开时间表。这时候我们该怎么办？Bug的存在是因为苹果方面已经做了修复，但问题没得到解决？还是说他们根本就没在这个版本里做修复？可是一周多之前已经修复过了呀，怎么会出这样的纰漏呢？Safari的正式版会不会也有问题，之后再发布紧急补丁来解决？苹果不至于要先惹毛所有zip.js开发者用户，才猛然发觉需要补救吧？如果真是这样，那这个问题要持续多久？身为用户，我们是不是该啥都别做，单纯指望Safari 16.4能附带有效的修复程序？可万一正式发布的版本不行，那Construct必然会受到灾难性的影响。这简直是个恐怖的困境。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/09/0945481cc462e49083f608e819dc26af.gif\" /></p><p></p><p>我询问了Safari 16.4当中是否会包含修复程序，一位工程师虽然做出了回应，但却只表示技术预览版是修复过了的。这明显没有回答我们的问题，对方也没有明确保证技术预览版中的修复一定会被纳入Safari 16.4。</p><p>&nbsp;</p><p>最终，我们决定看看Safari 16.4到底是个什么情况。而且就在这段时间，我们的Construct已经无法正常打开大部分项目。当时我们唯一的选择就是不断手动测试各个Safari版本，浪费大量时间来验证苹果之前就已经收到过报告的问题。经过几个星期的痛苦等待，技术预览版166于3月23日星期四发布，Safari 16.4则于3月27日星期一推出。没错，这两个日期之间就只夹着一个完整的工作日，而且我还记得那天我干了啥——啥也没干。我跟公司请了个假，从那个周五开始连休接下来的整个礼拜。因为没有公开的发布时间表，所以我不知道Safari新版本到底何时才会到来。于是乎，我直到4月3号才真正能够验证对新版本做验证，这时候距离Safari 16.4的全球发布已经过去了整整一周。在这段时间里，我根本不知道自己的软件能不能在Safari上正常运行。但幸运的是，没出什么毛病。Safari 16.4跟技术预览版166拥有相同的修复程序，可整件事真的太悬了。</p><p>&nbsp;</p><p>如果苹果能像其他“正常”的网络浏览器开发商一样在修复完成的版本里标记出问题，那以上所有惊心动魄的猜测和焦虑本来都可以避免。哪怕项目的透明度再好上一点点，我们都不至于搞得这么被动。</p><p>&nbsp;</p><p></p><h2>无法正常预览项目</h2><p></p><p>&nbsp;</p><p>我们发现的下一个问题，就是Construct在预览项目时只能显示一个空白屏幕。这对我们来说也是大麻烦，于是很快完成了<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d252664\">问题上报</a>\"。苹果工程师再次协助调查，同样做得很好。由于过程非常复杂而且跟本文主题无关，这里允许我忽略具体细节。总之，Service Workers对于Construct中的项目预览功能非常重要，而我们不小心依赖了一个Chrome bug，导致我们的Service Worker在Safari 16.4上会崩溃。在这种情况下，问题其实出在谷歌那边（麻烦<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.chromium.org%2fp%2fchromium%2fissues%2fdetail%3fid%3d832071\">快点修复</a>\"，谢谢），但现在担子又落到了我们身上。然后，跟无法打开项目类似的问题又再次出现。</p><p></p><p>还是类似的可怕困境，但影响更糟糕：Safari好像马上就要正式发布了。要是只有我们自己来解决，那大概得花多长时间？这个问题非常重要，毕竟我们的Construct可是有着明确的发布时间表，包括用于测试的beta版本，而且每隔几个月就会向所有用户推出稳定版本。如果掌握了Safari的发布日期，我们就能核对双方时间表，估算出能拿多长时间来调查、确保修复程序能在Safari更新之前就按计划发放给我们的客户。但如果说Safari第二天就突然更新了，那我们可就完了：Construct无法正常预览项目，而我们必须尽快修复以防止客户受到干扰！总之大家懂的，就是例行修复和紧急状况之间的区别。</p><p>&nbsp;</p><p>苹果那边则总是遮遮掩掩，部分员工暗示他们不能透露更新时间表，唯一能说的就是新版本会“很快”到来。所以我们只能把问题当作紧急状况来处理，立刻采取行动。更糟糕的是，Service Workers开发难度很大，涉及各种复杂性因素，编码工作着实令人头痛。所以我们被迫经历了服务中断、放弃其他工作，争分夺秒先把迫在眉睫的难题搞定，努力把修复程序立即发布给所有客户。有经验的朋友肯定看得出来，这里头颇有风险——一旦搞出问题并破坏了其他组件，后果简直不堪设想。</p><p>&nbsp;</p><p>如果苹果能像其他“正常”的网络浏览器开发商一样提供明确的版本更新时间表，那以上所有惊心动魄的猜测和焦虑本来都可以避免。哪怕项目的透明度再好上一点点，我们都不至于搞得这么被动。幸运的是我们的修复工作进展顺利，其他东西没有受到破坏。期间最让人烦躁的，就是Safari对原有Service Worker脚本的缓存方式似乎跟其他浏览器都不一样。我一直不理解苹果为什么要搞这个特殊，这样真的很容易让情况变得更糟。</p><p>&nbsp;</p><p>最终，Safari 16.4隔了快一个月才推出。我们本来可以不那么拼命的，紧急响应引发了一系列不必要的服务中断和时间浪费，但当时的我们别无选择。</p><p>&nbsp;</p><p></p><h2>Construct中发布的所有内容都出了问题</h2><p></p><p>&nbsp;</p><p>除了打不开项目、无法正常预览项目之外，最严重的问题还没出场呢。在Safari 16.4中，Construct近年来发布的所有Web游戏全都出了问题。</p><p>&nbsp;</p><p>Safari 16.4添加了对<a href=\"https://www.construct.net/out?u=https%3a%2f%2fdeveloper.mozilla.org%2fen-US%2fdocs%2fWeb%2fAPI%2fOffscreenCanvas\">OffscreenCanvas</a>\"的支持，但却只支持“2d”上下文——换言之，不支持WebGL。Construct需要用WebGL进行渲染，于是在发现OffscreenCanvas受到支持之后，它就会创建一个worker和OffscreenCanvas，之后获取WebGL上下文。可这时能获取到的只有null，于是触发故障，用户面前只剩一个空白屏幕。而这才是本次浏览器版本更新的最大问题。众多原有Web内容因此受到影响，我们为此专门发布了另一个紧急补丁进行修复（期间服务再次中断）。但由于我们的客户多年来已经在网络上发布了各种各样的Web内容，所以对全部内容做更新基本上没有可能。受到影响的包括itch.io、Newgrounds、Poki和我们自己网站上的几千款游戏；企业使用的海量培训材料；教师使用的教材；博物馆中的交互式信息亭等等……如果放任不理，这将是一场彻头彻尾的灾难。</p><p>&nbsp;</p><p>这真的让我们惊掉了下巴。我们通过查看OffscreenCanvas是否已被定义（即typeof OffscreenCanvas !== \"undefined\"）来做检测，却没想到Safari浏览器居然只定义某些上下文、却漏掉了其他上下文。难道上下文不该跟标准的 <canvas> 元素拥有同等地位吗？为什么不这样呢？MDN文档压根没提过上下文可用性不一致的问题。Chrome在2018年就发布了支持所有上下文的OffscreenCanvas，Firefox在2022年完成了同样的全面支持。而Safari呢，时至今日还是没有做到。</canvas></p><p>&nbsp;</p><p>但苹果有自己的说辞，指出只支持部分上下文完全符合规范要求，开发者应该做好相应的错误功能检测工作。我没那个闲工夫去查什么<a href=\"https://www.construct.net/out?u=https%3a%2f%2fhtml.spec.whatwg.org%2fmultipage%2fcanvas.html%23the-offscreencanvas-interface\">相关规范</a>\"，哪怕真的符合要求，我也理解不了苹果为什么要这么干。难道作为浏览器开发商，苹果认真研究规范条文就是为了暗地里给Web开发者挖坑？</p><p>&nbsp;</p><p>首先，我认为规范的存在意义就是保持良好的Web兼容性——也就是让HTML设计原则中强调的“<a href=\"https://www.construct.net/out?u=https%3a%2f%2fwww.w3.org%2fTR%2fhtml-design-principles%2f%23support-existing-content\">支持现有内容</a>\"”真正落地。例如，在发现新的Array flatten方法名称会破坏网站时，<a href=\"https://www.construct.net/out?u=https%3a%2f%2fdeveloper.chrome.com%2fblog%2fsmooshgate%2f\">规范就会将其重新命名</a>\"为flat。是的，规范条款要以实际需求为准，而非实际应用以条款为准。所以我认为最合理的解决方案应该是更新规范，声明HTML Canvas和OffscreenCanvas应当支持相同的上下文。这不仅能避免我们（也可能包括其他人）面临的网络兼容性问题，也能让开发思路变得更趋统一。之后，Safari应该延迟发布OffscreenCanvas，直到确保其支持WebGL，这样所有受到影响的Web内容都能正常运行。</p><p>&nbsp;</p><p>其次，即使把规范奉为圭臬而且作者确实不打算修改，那难道苹果也不关心Web兼容性吗？无论如何，为什么不推迟OffscreenCanvas的发布？毕竟这才是尊重Web兼容性的务实选择。苹果完全可以放慢脚步，花点时间添加对WebGL的支持。我相信大多数有经验的软件开发者在职业生涯中都做过类似的判断：在开发后期发现新功能会引发问题，因此暂时关闭该功能，推迟到下一个预定版本再行发布，利用这段时间做好修复。而在Chrome全面支持OffscreenCanvas的4年零6个月之后，Safari才迟缓地发布OffscreenCanvas，而且还不能支持所有上下文类型。反正已经晚成这个样子了，为什么不能再等3个月，用完整的实施来维护Web兼容性？为什么一定得匆忙上线、破坏原有Web开发成果？我已经尽力想要说服苹果，但对方给出的回应非常模糊，基本没给项目延后留任何空间。</p><p>&nbsp;</p><p>在我看来，苹果的立场反而是想尽一切办法别影响已经定好的发布时间表。我们用户这边如大难临头，苹果那边的最佳选项是推迟这项调整登陆Safari 16.4的时间。但最后，他们居然添加了一项特殊的浏览器功能，用来检测我们的引擎并禁用OffscreenCanvas。这确实避免了兼容性问题，但却只适用于我们Construct——其他受到同类问题影响的朋友，不好意思了，这个办法对你的引擎无效。</p><p>&nbsp;</p><p></p><h2>一点个人吐槽</h2><p></p><p>&nbsp;</p><p>其实我不是个喜欢抱怨的人，但面对这次的大麻烦，我真心感觉应该强调一下问题的严重性。我个人最近几周过得很累、压力巨大，甚至因为焦虑而恶心反胃。对，不光是在工作中，回到家里也是一样。问题的根源就是苹果更新带来的不确定性：也许我们即将大祸临头，也许一切都能安然度过，但我不知道该信哪个、也不知道什么时候才能揭晓答案。连着好几个礼拜，我都在胆战心惊中生活，这种心情如同等待死刑。接下来的一天要么普普通通、要么炸响惊雷，而我只能坐等一切发生。我甚至不知道最终击倒Construct的到底会是哪个问题。另外提醒大家，虽然以往的情况没这么极端，但Safari之前的版本更新也曾经引发过类似的问题。</p><p>&nbsp;</p><p>我们都是人，是人就会犯错，这没什么大不了。但我想提醒大家的是，Construct是一家已经成立十几年的公司，从一人一台笔记本发展成了如今拥有25万月活用户的成功企业。在此期间，我也曾看到种种灾难、争议、愤怒的客户、意外的服务器故障等等。这些都很艰难，但我们专业人士总能坚持下去。但说实在的，Safari的这个版本是我经历过的最糟糕、压力最大的变数。最令人难以接受的是，这个问题本来很容易避免，苹果只要点点头就能把我们从苦难中拯救出来。但多年以来，他们一直坚定地拒绝改变、拒绝展现哪怕一点点仁慈之心。</p><p>&nbsp;</p><p>我想再次强调，我说的这些绝对不是针对任何一位特定的苹果员工。这个错不是苹果中的具体哪个人导致的——事实上，我在前文中也提到，很多苹果员工都把工作做得很好。苹果也绝对不乏聪明和勤奋的头脑。问题在于，苹果制定的版本管理政策太过僵化，毫无透明度的制度必然引发巨大的不确定性，这才是我们这些Web开发人员承受不必要压力的核心与根源。我之所以反复强调这一点，唯一的目的就是让苹果意识到Safari的管理政策在生态系统中造成了多大的苦难，希望苹果方面能够调整自己的政策设计思路。</p><p>&nbsp;</p><p></p><h2>苹果的“斑斑劣迹”</h2><p></p><p>&nbsp;</p><p>实事求是地讲，过去的Safari版本一般不会闹这么大问题，但类似的情况也确实出现过，给开发者造成了很大的压力甚至服务中断。从这次的事态看，苹果的一切都没有改变，或者说正在变得更糟。下面我向大家简要汇报一下之前遇到过的Safari相关问题。</p><p>&nbsp;</p><p>iOS 11.2.2<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d181781\">破坏了WebAssembly</a>\"，导致维基百科的部分内容、所有已发布的Construct内容等Web成果受到影响。许多问题本来可以通过关闭WebAssembly来避免，待做好准备再行开启。但苹果却决定默认启用，直到几个月后发布iOS 11.3时才完成修复。与此同时，苹果没有提供任何有意义的帮助或支持。期间我们只得到了一位乐于助人的维基百科工程师的支持，他分享了他们发现的解决办法。Safari 11.1破坏了<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d184502\">MessageChannels</a>\"并导致Construct无法正常运行，我们虽然找到了临时解决办法，但被迫在随后的好几年里都自行维持这套方案。Safari 14破坏了<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d217537\">replaceChildren()</a>\"方法，导致Construct发生故障。Safari 14破坏了<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d225344\">localStorage</a>\"和<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d226547\">IndexedDB</a>\"。即使问题已经解决，压力和不确定性也仍然存在。Safari 15中的<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d226922\">音频问题</a>\"可能会破坏所有Construct内容中音频素材的正常播放。虽然这个问题在Safari 15正式版发布之前就已经得到了修复，但苹果事前根本没做任何通知，所以我承受了跟这次相似的巨大心理压力。Safari 15.0至15.4版本中存在一个<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d234824\">WebGL bug</a>\"，会导致某些Construct内容显示空白屏幕。问题最终在Safari 15.5中得到了修复，但苹果未给出任何通知，我们在手动检查各个Safari版本时才自行发现。多年以来，我们一直希望拥有一种能在所有浏览器中播放的统一开放音频文件格式。WebM Opus距离成功就只差一步了——所有浏览器均可支持，包括macOS上的Safari，但就偏偏是<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d238546\">iOS和iPadOS上的Safari不行</a>\"。这是我们在全部浏览器上统一使用该格式的唯一障碍，若能消除将显著降低Web环境下音频支持的复杂度。然而，目前还不清楚苹果怎么考虑这个问题。而且在大概一年前提交申请以来，苹果从来就没给过我任何明确的答复。Safari 16存在一个<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d245428\">问题</a>\"，在某些情况下会破坏Construct中的音频播放。苹果似乎没有对此做出任何有意义的回应，而问题早在半年前我们就已经提交过去了。我们仍在维护自己的解决办法，但这同时也会导致其他并发问题。太多问题如石沉大海。我曾在约一年前向苹果<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugs.webkit.org%2fshow_bug.cgi%3fid%3d237082\">提出过问题</a>\"，对方没有做出任何有意义的回应。与之对应，<a href=\"https://www.construct.net/out?u=https%3a%2f%2fbugzilla.mozilla.org%2fshow_bug.cgi%3fid%3d1756803\">Firefox的处理态度</a>\"要积极得多。</p><p>&nbsp;</p><p>我们实际遇到的问题还远不止这些，聊起这个我能说个不停。而且各个问题都有类似的过程：不清楚当前发生了什么，从苹果那边得不到关于发布时间表的确切消息，苹果也拒绝向开发者透露必要的细节。</p><p>&nbsp;</p><p>没错，只有苹果和Safari毛病最多。我们在任何其他浏览器开发商那边都很少遇到类似的问题。而且即使出了问题，对方的解决方案也是完全透明的，可供我们做出相应的规划。</p><p>&nbsp;</p><p></p><h2>如何解决</h2><p></p><p>&nbsp;</p><p>解决问题的办法非常简单——学学其他浏览器开发商。没有任何一家开发商像苹果这样给我们惹出无数麻烦，这主要是因为他们会为Web开发者提供更友好的开发流程，具体包括：</p><p></p><p>更加透明：告知开发者即将发布bug修复的版本，并提供发布时间表。仅此一项，就足以消除大量不确定性。让Safari独立于操作系统更新之外：Safari是业界最后一款跟操作系统完全绑定的浏览器了，这也成为浏览器更新的一个巨大障碍。即使是小小但却重要的更新，也需要等待下次整个系统更新时才能完成。这无疑延长了解决严重问题的时间周期，把本可以几周甚至几天解决的问题拖上好几个月。如果Safari团队能自主控制发布周期并科学管理，相信很多问题根本就不会闹到这个地步。提供更多预发布测试选项：类似于Chrome Canary和Firefox Nightly，每天更新且独立于操作系统之外，这将有助于快速迭代问题并验证是否成功修复。苹果的技术预览版还应覆盖iOS和iPadOS，因为目前测试预发布iOS版Safari的唯一方法就是更新整个测试版系统。这样速度很慢、极不方便。沟通：错误时有发生，如果中断是由Safari中的某些问题所引发，苹果理应对外通报事件情况、目前正如何处理、预计何时能够解决，以及各开发商在此期间应如何应对。但苹果以往基本保持沉默，给人一种不关心开发生态的强烈印象。我怀疑苹果的员工其实是在乎的，只是从外部视角来看，实际感受真的很差。</p><p>&nbsp;</p><p>根据我的经验，其他所有浏览器开发商在这几个问题上都做得很好，只有苹果全方位表现稀烂。为Safari注入新功能当然是好事，苹果似乎也非常关注Safari 16.4，但却没有采取任何措施解决这些问题。</p><p>&nbsp;</p><p></p><h2>总结</h2><p></p><p>一切都已经过去，也确实没发生太大的问题。所以，我真有必要这么纠结吗？对，我觉得有必要。我希望有更多朋友能意识到在Safari上正常运行有多么费劲，而且每一次版本更新会给生态系统中的合作伙伴造成怎样的“精神创伤”。如果继续这么搞，终归会有人受到影响，我们也将反复面临灾难……每每想到这个，我恶心反胃的感觉就会翻涌而来。</p><p>&nbsp;</p><p>我其实很想对Safari说“爱你”，它的技术积累很棒，新版本也提供了不少令人兴奋的酷炫功能。很明显，苹果并不缺能迅速解决技术问题的优秀员工，而且我对苹果中的任何个人都没有意见。但遗憾的是，Safari的更新已经成了我们开发者的噩梦，而苹果显然有能力、也应该做得更好。新版本发布引发的严重中断已经存在多年，而苹果往往只需一点小操作就能很大程度上回避这些问题。可他们还是在坚持原本的旧办法，也从未表现出做改变的意愿和兴趣。于是像我这样的开发者就在噩梦中经受无尽折磨：正常工作被意外干扰，浪费时间检测那些苹果已经知道、却不愿主动告诉我们的问题，并在迫在眉睫的灾难压力和不确定性面前手足无措。在我看来，这些行为相当于是在忽视甚至迫害Web开发群体。</p><p>&nbsp;</p><p>我非常希望苹果能尽快做出改变。我希望Safari能成长为出色的浏览器。我希望开发出能在Safari中顺畅运行的精彩内容。我也希望它能作为一股重要的力量，为Web世界的健康发展做出贡献。但坦率地讲，我更希望苹果能重视我们开发者的心理健康。如果他们还不改变，那开发商们唯一的选择就是劝说用户改用Chrome或者Firefox，并通过监管机构强制扭转苹果的现有政策。虽然之前已经有监管力量的介入，但Safari 16.4版本的问题似乎证明苹果的问题反而日益恶化。与此同时，相较于解决问题，苹果好像更关注如何<a href=\"https://www.construct.net/out?u=https%3a%2f%2fwww.reuters.com%2ftechnology%2fapple-wins-appeal-against-uks-decision-investigate-its-mobile-browser-2023-03-31%2f\">回避监管</a>\"。如果我们最终只能选择Chromium作为唯一的答案，那不仅对Web世界不利，也会给我们自身带来新问题。而且哪怕最终事态发展到Chromium一家独大的地步，结合目前Safari的糟糕表现，我也只能略带惋惜地评价一句“活该”……</p><p>&nbsp;</p><p></p><h5>原文链接：</h5><p></p><p><a href=\"https://www.construct.net/en/blogs/ashleys-blog-2/safari-releases-development-1616\">https://www.construct.net/en/blogs/ashleys-blog-2/safari-releases-development-1616</a>\"</p><p></p><p></p><h5>相关阅读：</h5><p></p><p><a href=\"https://mp.weixin.qq.com/s?__biz=MzI3NzE0NjcwMg==&amp;mid=2650172901&amp;idx=2&amp;sn=fa7cb8505313022829104685aa6b1d22&amp;chksm=f36870c4c41ff9d2c93f3b7ead8d4457c005377dd4f45d77d3ad66021360ca4d20016a55717a&amp;scene=27#wechat_redirect\">Chrome、Edge 合力\"围剿\"，Safari 夹缝求生？</a>\"</p><p><a href=\"https://www.infoq.cn/article/x30xfzH6lPtYKkY6olvX\">为什么&nbsp;Safari&nbsp;浏览器这么不受 Web 开发者待见？</a>\"</p><p><a href=\"https://xie.infoq.cn/article/7fdedb1b91016b46fb015ff1a\">好用的油猴&nbsp;Safari&nbsp;浏览器插件：Tampermonkey 中文版</a>\"</p><p><a href=\"https://www.infoq.cn/article/TdS104Q68yk3oLONlk9x\">苹果：你甚至可以在&nbsp;Safari&nbsp;中使用 Chrome 的插件</a>\"</p>",
    "publish_time": "2023-04-24 10:08:39",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "5年，稳态+敏态一气呵成：最早进行前中后台一体化的城商行数字化实践",
    "url": "https://www.infoq.cn/article/9FRdGfIdRe3OIoygTBrt",
    "summary": "<p>坐落在彩云之南，<a href=\"https://www.fudian-bank.com/gyfd/202304/20230404_13244.html\">富滇银行</a>\"是一家拥有百年历史的老字号银行品牌。它的前身，是 1911 年由蔡锷创办的云南全省公钱局；1912 年改组为省立富滇银行（旧富滇银行），1932 年又改组成立新富滇银行。</p><p></p><p>当年的富滇银行，除了一般商业银行业务，还具有发行滇币的优越地位。它的影响力从云南辐射至整个西南，乃至东南亚各国。所以，在 2007 年原昆明市商业银行重组成立之际，“富滇”的品牌也被重新启用。</p><p></p><p>如今，新成立的富滇银行又走过了 10 多年的发展历程。作为云南省唯一的省属城市商业银行，不仅拥有 177 家营业机构，富滇银行还在老挝控股设立了老中银行，成为全国唯一一家在境外设立子行的城市商业银行。</p><p></p><p>但是，时代提出的“新考题”同样困扰着这家拥有百年积淀的银行老字号。作为具有地方性质的中小银行，富滇银行面临着区域竞争无优势、基础客群薄弱、发展模式单一等问题，再加上经营区域化的限制，富滇银行亟需找到新的发展突破口。</p><p></p><p>立足地方，深化本土服务，是作为一个地方城商行的独特职能，也是优势。比如，在云南，94% 的地貌都是山地高原，村民去趟县里办业务，需要花半天甚至一天的时间。这时候，如果银行业务能在手机 APP 上一键办理，它就意味着能让云南村民少跑几十公里山路，让他们做生意更方便。</p><p></p><p>所以，业务经营在线化成了富滇银行发展的关键突破口之一，也是数字化转型的切入点之一。</p><p></p><p>然而，所谓“在线化”绝不仅仅是业务内容的简单搬迁。在“冰山”下面，是一整套技术架构体系的升级，需要端到端的业务流程支撑。</p><p></p><p>于是，2018 年，富滇银行制定了围绕组织、业务、科技“一体两翼”蓝图的数字化转型初步规划。一方面，通过对银行核心系统的重建，提升“稳态 IT”能力；另一方面，通过<a href=\"https://www.infoq.cn/article/SEJ62iIqiEpPfW0pRm7f\">中台</a>\"建设打造“敏态 IT”能力。最终形成了“薄前台、厚中台、敏后台”的技术架构体系——成为国内最早进行前中后台一体化变革的地方城商行之一。</p><p></p><p>事实上，在 2018 年这样一个时间点开始数字化进程，富滇银行并称不上是什么先行者。对此，富滇银行自己深有认知，所以，相较于其它企业小心试水、单点创新的心态和动作，它选择的是通过一次性体系化、系统化的转型，对组织、业务、技术进行彻底变革。</p><p></p><p>可以说，面对数字化时代带来的巨大生存压力，富滇银行的转型思路和实践，是众多城商行寻求变革的一个典型缩影。在这个时间紧、任务重的转型过程中，富滇银行自身如何进行思考？如何达成上下统一的认知？如何把战略付诸于具体行动？时至今日，又取得了哪些可见的成果？日前，InfoQ 采访了富滇银行“滇峰计划”项目组关键核心成员。</p><p></p><p>以下为采访实录（经 InfoQ 编辑整理）：</p><p></p><h3>数字化转型既是为了“活下来”，更是为了“活得好”</h3><p></p><p></p><h5>InfoQ：富滇银行被誉为地方城商行数字化的典型样本，那么，地方城商行的发展模式和业务挑战与其他全国性银行有哪些差别？</h5><p></p><p></p><p>富滇银行：地方性商业银行的核心定位是服务地方经济，做本土的特色化服务，包括服务中小企业、城乡居民。近几年来国家持续发展乡村振兴，提倡小微普惠，对我们来说，如果能抓住机会，业务发展模式是有很大优化空间的。</p><p></p><p>但与此同时，银行间的竞争也越来越激烈，导致息差收窄压力越来越大。对于大型银行，他们拥有更大的息差调整空间。反之，对于富滇银行这样的地方城商行而言，就是比较大的挑战。</p><p></p><p>第二个问题是地方城商行的风险抵御能力相对有限。如今，外部市场经济环境快速变化，作为中小型银行，整体的风险抵御能力必须不断加强。</p><p></p><p>第三个问题在于，如今城商行明确了经营区域化，不能进行异地展业。而在一个在区域内的金融机构非常之多，以云南为例，除了富滇银行之外，还有国有银行、全国性的股份制银行，以及农商行，所以，我们的业务发展会在比较大的程度上受到地域人口、本地经济结构等因素的影响。</p><p></p><p>第四问题是产品同质化，这是中小型银行面临的普遍问题。</p><p></p><p>第五个问题是人才匮乏，因为经营区域化，我们的人才招募也受制于地域。</p><p></p><h5>InfoQ：这些特有的定位和挑战对于富滇银行数字化战略的制定会带来哪些影响？</h5><p></p><p></p><p>富滇银行：从本土特色化服务的定位出发，富滇也一直在坚持走特色化、专业化、差异化的道路。</p><p>具体来说，我们制定了“1234”战略：</p><p></p><p>“1”是一个基石，即把零售金融作为基石；</p><p></p><p>“2”是两重，即把产业和公共事业金融，以及乡村和普惠金融作为重点；</p><p></p><p>“3”是三个特色，即绿色、文旅、跨境。富滇银行拥有百年历史，同时，它还是唯一一家走出国门的城商行，在老挝与老挝外贸银行合资成立了老中银行；</p><p></p><p>“4”是四大工程，即风控强行、科技兴行、人才立行、客户富行。</p><p></p><p>而“1234”战略需要数字化转型进行全面支撑引领，没有把涉及业务领域全都用数字化方式重做一遍的决心和勇气，战略很难有效落地。</p><p></p><h5>InfoQ：富滇银行的业务主要立足于本土，业务的规模和交易需求，是否真的到了非数字化不可的地步？促使我们进行数字化的初衷和背景是什么？</h5><p></p><p></p><p>富滇银行：“一体两翼”金融科技战略是 2016 年形成的，在此之前，我们的信息化系统建设相对来说还是比较保守和落后。举例来说，在规划之前，富滇银行的核心系统已经用了 10 多年，已经有了代际差，业务流程涉及大量的人工操作，从整体信息化建设水平来看，已经相对落后于其他城商行。</p><p></p><p>所以，从 2016 年开始，我们制定了“一体两翼”的战略，聚焦稳态和敏态两个方面。其中，稳态就是核心系统项目群的全面重建，我们在 2019 年完成了整个核心系统项目群的建设，形成了以核心系统为中心的传统金融业务群的<a href=\"https://xie.infoq.cn/article/774363f7d07e4203f84a7752e\">稳态架构</a>\"落地，基本上解决了信息化的问题。</p><p></p><p>2018 年左右，在核心系统建设的同时，我们对“一体两翼”中敏态的战略也进行了谋划，设计和构建了一整套敏态架构。</p><p></p><p>回过头来看，通过信息化我们主要解决的是“金融产品全面支撑能力”的问题，同时尽可能地提升信息化水平，替代手工操作，释放人力资源，减少操作风险，同时适配监管合规的要求，主要解决的是“生存问题”。而通过敏态架构的构建，推动数字化转型，主要解决的是“发展”的问题，包括利用数字化手段，实现以用户为中心、实现银行业务价值的重构，以及组织架构的变革等等。</p><p></p><p>所以，是不是到了非数字化不可的地步？我觉得是的。数字化是这个时代必须去应对的“时代考题”，可以说没有数字化的企业没有未来。</p><p></p><h5>InfoQ：那从 2020 年之后，富滇银行数字化的重点工作又是什么？</h5><p></p><p></p><p>富滇银行：其实从 2018 年之后，富滇银行整个规划框架已经成型了。在明确了架构目标以后，数字化的推进又大概分为几个阶段：</p><p></p><p>第一阶段是交流考察。</p><p></p><p>2020 年，我们对核心系统相关工作进行了收尾，并通过与阿里、腾讯等主流头部供应商，以及中电等主流的 ISV 进行了上百场次的交流，在内部也有无数次的沟通碰撞，讨论到底这个事情具体怎么做。正是通过第一阶段这种充分的交流和讨论，我们最终明确了整个敏态的架构体系。</p><p></p><p>第二阶段是数字化转型项目“滇峰计划”的正式启动。</p><p></p><p>首先，从 2021 年 4 月份开始，我们主要基于架构驱动、产品导向进行了敏捷实践。通过整合业务中台，对银行金融能力进行抽象，解决弹性基础设施底座的问题，以及整个技术架构统一规范落地的问题。只有这些基础打好以后，才能做更深层的业务价值流程重塑。同时，我们还在这个阶段开始培养团队的敏捷意识，打造了敏捷的实践团队，培养“数字化产品经理”（当时称为“物联网化产品经理”）的产品价值观。</p><p></p><p>第三阶段是“滇峰计划”的进一步推进。</p><p></p><p>随着 2022 年 1 月 16 日富滇银行个人手机 APP 的上线，“滇峰计划”的上半段项目正式结束。而下一步主要是基于业务价值驱动，以业务交付为导向，通过重塑业务价值链和业务流程，把此前培养的敏捷和数字化的文化，进一步的在整个富滇银行的科技和数金的条线中进行传播，实现业务持续的交付和经营。</p><p></p><p>第四个阶段是数字化项目由点到面的持续完善。</p><p></p><p>这个阶段从今年 4 月开始，一方面，是持续完善和提升富滇银行整体数字化能力，进一步优化业务流程。另一方面，是把面向整个银行的敏捷组织转型提上日程，过去我们的敏捷实践主要还是在项目组内进行尝试，现在，我们希望在各个条线推广和普及这种敏捷的意识和组织架构。</p><p></p><p>后续是数字化成熟度的持续提升，转型没有终点、永无止境。我们已经迈过了朦胧期、反应期，到达进展期和沉浸期临界点，我们要争取尽快跨入沉浸期，并在 3 年内争取进入成熟期。</p><p></p><h3>培养数字化产品经理“架构观”，用工具帮团队做“塑形”</h3><p></p><p></p><h5>InfoQ：富滇银行特别重视培养“数字化产品经理”的产品价值观，是否可以结合例子介绍一些这种价值观是什么样的？包括哪些因素？</h5><p></p><p></p><p>富滇银行：针对数字化产品经理，我们提出了一些基本要求。其中非常重要的，是要具备“架构观”。</p><p></p><p>过去，很多银行业务人员是没有“架构观”的，他们更多地是去做一些业务执行的动作，这导致大家在做产品的过程中，思考角度往往是本位化的。但是，数字化是平台型经济，基于的是平台共享的架构模式，如果不能跳出本位主义，形成横向的架构观，一定设计不出所谓的“数字化产品”。</p><p></p><p>同样，对于技术人员来说，过去大家也很少基于整个架构视角交付技术管理，而是各管各的系统。所以，我们要求技术人员也要有“架构观”，只有在这个前提下，才能实现对整个产品流程设计的拉通，形成全面的产品视角，基于业务价值去做通盘的考量。</p><p></p><h5>InfoQ：如何培养大家的“架构观”？</h5><p></p><p></p><p>富滇银行：对于任何一个企业来说，这种数字化思维的转变都是一个非常艰难而漫长的过程。如今，我们也还在尝试和摸索的阶段。</p><p></p><p>我们希望大家拥有统一的思维和认知，或者至少是目标一致，这样才能避免矛盾冲突，才能力出一孔。而这，需要通过敏捷组织变革来实现。</p><p></p><p>华为在做组织变革的过程中，强调的是“先僵化、后优化、再固化”。因为改变一个人的认知是很难的，那么不如先从行为上进行改变。</p><p></p><p>对富滇银行来说，我们主要通过文化的宣导和工具的“塑形”，一方面去做一些认知层面的培训，从文化层面进行潜移默化；另一方面，使用<a href=\"https://xie.infoq.cn/article/34be10becced42be21bd78bf4\"> DevOps </a>\"等工具帮员工先进行流程的“塑形”，把大家的行为拉到敏捷交付模式之下，让他们在使用工具的过程中，去感受什么叫“架构引领”、什么叫数字化产品和思维、什么是平台、什么叫共享、什么叫最小交付闭环等等，然后在这个过程中再慢慢琢磨，慢慢改变。</p><p></p><p>有的人改变的速度更快，有的人比较慢。对于前者，我们会把他们作为“种子”，散到团队中去，让他们去影响其他人。最终，形成以点带面的状态，把组织的活力激发出来。</p><p></p><h5>InfoQ：除此之外，在“滇峰计划”项目推行过程中，富滇银行强调所有产品设计都是“以业务价值和用户为导向”的，这又具体体现在哪些方面？</h5><p></p><p></p><p>富滇银行：我们相关的产品设计主要围绕几个层面的关键业务展开：</p><p></p><p>第一，是传统金融业务的价值流程再造。从互联网视角来看，大家都在强调用户体验。对银行这样的传统金融机构而言，这种用户体验的提升也很重要。所以，在这方面，我们主要是实现线下业务线上化、线上业务敏捷化。所谓敏捷化，就是对前端用户来说，可以做到操作敏捷；对后台来说，可以实现监管风控的敏捷。</p><p></p><p>第二，是数字化金融业务（泛金融业务）的构建，也就是把银行的服务能力深入到泛金融场景中，打造新的商业模式。在这个过程中，就会涉及对银行业务价值流的重塑。</p><p></p><p>举例来说，在技术系统层面，我们会接入一些社区和教育平台，在教育场景提供相关的银行服务；此外，作为地方性城商行，我们还会根据云南省各个地区的学校情况和需求，提供相应的差异化服务，调整智慧教育场景的商业模式，从而达到多方共赢。</p><p></p><p>第三，除了传统金融和泛金融业务，我们的 C 端流量入口也不再仅仅局限于网点和 APP，而是逐步切入到微信、抖音等公域流量中，然后再从公域走向私域。这也是富滇银行业务价值流程创造的一个关键点。</p><p></p><h3>银行天生适合做中台，富滇是最早“吃螃蟹”的地方城商行</h3><p></p><p></p><h5>InfoQ：富滇银行是国内最早进行前中后台一体化变革的地方城商行，促使我们第一个“吃螃蟹”的原因是什么？传统的架构和模式存在哪些具体挑战？</h5><p></p><p></p><p>富滇银行：虽然数字化转型被称为是“非常困难但也非常正确的事”，但对于人才匮乏的区域城商行而言挑战和风险巨大。但是为什么我们还要来“吃螃蟹”？事实上，在这样一个高频竞争、无处不数字化的时代，跟不上时代步伐、不做变革将难以生存。</p><p></p><p>通过前中后台的一体化变革，我们的目的是把过去烟囱式的系统架构打通，从而真正深入到业务场景，解决业务重塑、价值链重育的问题，包括业务的智能决策、对用户需求的实时响应、<a href=\"https://www.infoq.cn/article/b9oQ0zdLVdGDFlEF2Fut\">办公自动化</a>\"的实现等等。</p><p></p><h5>InfoQ：但是作为最早做这件事的地方城商行，我们的决心跟底气又是什么呢？有没有迟疑过？</h5><p></p><p></p><p>富滇银行：对于富滇银行这样的中小银行来说，如果也是一步步尝试，一是可能没有那么多时间，市场不等人、客户不等人；二是成果不会那么显著，最后各个层面的信心慢慢就消磨了，更难形成“长期主义”的转型定力。所以，我们就选择了一次性进行前中后台整体架构构建的路径。</p><p></p><p>那么我们底气是什么？</p><p></p><p>从 2018 年建设新核心系统我们开始做这件事，整个银行就从领导层面给予了很大的支持。并且，团队中的关键角色在方向上的认知也是一致的。此外，我们在早期还考察了很多数字化企业，包括阿里、美的、华为等等，他们的数字化创新实践给了我们很多启发。</p><p></p><p>拿华为来说，早在 2015 年，华为就提出了基于数字化转型的用户体验模型（ROADS）。R 指的是实时，O 指的是按需，A 指的是全在线，D 指的是服务自助化，S 指的是社交化，强调极致的用户体验。</p><p></p><p>其实这跟富滇银行数字化的模式基本上是趋近的。换句话说，当时我们从组织形式、业务价值流重塑、数据资产管理到敏捷变革和数字化产品观的塑造，参考和借鉴了外部的很多案例。我们把这些例子拿到内部，不断地讨论和优化，形成了小步快跑的创新。</p><p></p><h5>InfoQ：但是每个企业的情况并不一样，最终富滇是怎么找到一条适合自己发展的路径，并且确定了“薄前台厚中台敏后台”这样一个架构模式的？</h5><p></p><p></p><p>富滇银行：富滇银行的架构模式主要基于的是阿里最早提出的中台战略。我们认为，银行是天生适合做中台的。</p><p></p><p>银行主要提供的是将金融服务融入客户生态环境，我们也会做很多“跨界、行业赋能”的事，但金融能力仍是本质，这些能力是应该能够被抽象、被提炼成可复用的共享能力的。我们的业务目标是以用户为中心进行业务流程再造，实现业务产品智能化，通过数据支撑实现智能决策，并且快速响应市场需求。这些目标反馈到架构层面，要求我们必须形成平台化的共享服务能力，而这就是中台的核心价值。</p><p></p><p>具体来说，我们构建了前中后台一体化的模式。</p><p></p><p>首先，前端负责触客和用户体验提升，通过所有与用户交互页面“应埋尽埋”的埋点原则，充分分析用户行为轨迹，分析业务流程断点和卡点，进行不断迭代优化；</p><p></p><p>其次，业务中台负责把用户、账户、产品、支付、合约、安全、交易、消息、共享能力、对账差错、积分、权益等主题能力进行抽象，并在业务编排层根据前端流程的需要进行流程化组装，支撑业务能力输出和快速响应业务能力需求变化。</p><p></p><p>最后，把业务全流程产生的数据通过“应采尽采”的原则回流到数据中台，经过数据清洗、加工，形成业务数据化、数据服务化、服务智能化和产品化的全业务流程的数据链，打造共享服务能力，实现业务价值可视化，然后再反哺到对业务的洞察和分析；后台是“滇峰计划”的算力中心，主要指的是我们基于阿里云构建的私有云平台。</p><p></p><p>其中，<a href=\"https://xie.infoq.cn/article/f52e6153324984ccbba31ee7e\">云效</a>\"作为阿里云企业级一站式研发协同平台，提供了从“需求-开发-测试-发布-运维”的端到端协同服务和研发工具。</p><p></p><p>这就是我们践行“薄前台厚中台敏后台”这个架构体系的主要依据和路径。</p><p></p><h3>先提速再提质，下阶段将注重追求业务质量提升</h3><p></p><p></p><h5>InfoQ：结合具体的场景案例，介绍一下富滇银行的数字化转型对业务带来了哪些价值？</h5><p></p><p></p><p>富滇银行：从业务发展模式来看，我们明确了围绕数字化转型的三条增长曲线——数字化信贷直营、数字化平台经营、数字化场景赋能。</p><p></p><p>第一，聚焦数字化信贷直营，我们利用智慧信贷平台、数字化风控平台，以及数据中台、业务中台形成产品模型加风控的模式，快速组成线上消费信贷、小微信贷等一系列金融产品。</p><p></p><p>第二，聚焦数字化平台经营，我们构建了业务中台、数据中台、AI 中台三大中台，形成了整个银行服务共享的能力。据此，快速响应传统金融业务、泛金融业务，以及流量业务变现、数字化产品赋能，通过敏捷创新能力和开放银行的建设，对接泛金融产业公司，与生态伙伴展开联动，持续为用户提供服务。</p><p></p><p>在这个过程中，我们的想法是通过 B 端带动 C 端，形成 BC 联动一体化，加快加深在云南本地的旅游、教育、农贸、零售等特色产业的布局，最终实现业务发展模式的变革。比如，在整个架构体系中，有一个“业务支持应用层”，包括数字化运营平台、数字化营销平台、智慧信贷平台和数字化风控平台；再往上，是小程序矩阵、APP、远程银行等多元化的生态服务应用。</p><p></p><p>第三，聚焦数字化场景服务，我们目前已经推出了数字化生活产品、旅游产品、教育产品和农贸产品，在这基础上，我们还会继续构建一些具有云南本地特色的数字化产品服务，比如具有高原特色的面向农业的产品，或者更深化的旅游场景产品等等。</p><p></p><p>从整个营销运营体系上来说，我们已经从 0-1 构建了整个数字化运营营销体系。事实上，数字化运营层面的事情是最难做的，这也是我们比较引以为傲的，因为富滇银行是最早开始尝试数字化运营探索的城商行。</p><p></p><p>具体来说，我们构建了六大运营体系，包括用户运营、渠道运营、产品运营、内容运营、活动运营和阵地运营。比如，我们构建了积分和权益中心，虽然各大银行也在做，但我们的独特之处是，富滇银行的积分权益中心更加开放，可以和其他产品的积分进行互通、互补。就是说，不再局限于自己的生态，而是可以和商场、旅行社等其他的场景生态去互换积分和权益。</p><p></p><p>在整个<a href=\"https://www.infoq.cn/theme/171\">营销</a>\"平台层面，一方面，我们沉淀了抽奖、兑券等 15 个常规的主题营销活动；另一方面，我们也基于对用户的浏览等行为进行埋点，针对性地策划和推送触发式的营销活动，比如，用户看了某个产品，就可以及时向他推送对应的积分和奖券。</p><p></p><p>最终，形成以用户精细化分层运营为核心，以营销活动为抓手，以阵地为承接、渠道为引流的运营全链路、精细化体系。虽然这套方法论业界可能都在尝试，但是经过我们多年考察，发现成体系化的运作是比较少的。</p><p></p><h5>InfoQ：目前这一系列实践具体取得了什么样的成绩？</h5><p></p><p></p><p>富滇银行：以数字化信贷为例，在 2022 年，富滇银行投放了 11 款信贷产品，这些信贷产品的整体利息收入目前占全行利息收入的 14.19%。</p><p></p><p>从用户规模来看，从 2022 年初富滇银行 APP 上线，经过一年的调整优化，到 2022 年末，我们的用户规模增长了 53%，MAU（Monthly Active User，月活跃用户数）增长了 70%，增速比达到 21 倍。而从 MAU 转向 AUM（Asser &nbsp;Under &nbsp;Managerment，资产管理规模），具体增长了 40%。拿理财定期存款产品为例，销售占比同比上年增长了近 5 倍多。</p><p></p><p>需要特别强调的是 ROA（资产收益率）这一指标。仅从数字金融业务板块来看，ROA 达到了 2.38%。</p><p></p><h5>InfoQ：基于这些成绩，未来富滇银行数字化转型的重点和规划是什么样的？</h5><p></p><p></p><p>富滇银行：谈规划之前要先看目前我们面临的一些主要挑战。</p><p></p><p>第一，在敏态架构体系形成之后，我们的传统金融产品、泛金融生态场景创新的连接会越来越多，这意味着银行越来越多的业务会转向移动端，这要求端到端的流程的打通；并且，在泛金融生态中还会涉及跨领域、跨场景、跨流程的协作。</p><p></p><p>具体到技术架构层面，也就是说，我们需要去对接生态上不同企业的异构体系，无论是难度还是成本，都非常大。</p><p></p><p>第二，随着我们的运营从公域流量转向私域流量，包括视频、直播以及一些新的社交方式的出现，都会导致银行内数据和外部数据交互越来越频繁，从而对我们的运营风险和安全带来新的挑战。</p><p></p><p>第三，是 <a href=\"https://www.infoq.cn/article/peHc8AhcYXGJtdbj8AEb\">AI</a>\" 的深度应用对数据和业务流程重塑提出了越来越高的要求，因为只有通过大量的数据进行学习，AI 才可能真正支撑业务场景的智能化。</p><p></p><p>这一系列的趋势会导致银行的业务系统、技术架构变得越来越复杂，数据规模呈指数级增涨，对于银行本身的技术专业能力、数据质量能力、风控能力、人员响应能力等等都有更高的要求。</p><p></p><p>在这个过程中，一旦这些问题处理不好，可能过去两年数字化转型所产生的价值递增，就会变成递减。所以，为了应对这些挑战，未来我们的工作会聚焦几个方面：</p><p></p><p>首先，进一步强调和强化业务价值驱动，围绕以用户为中心，实现用户细化分层运营的主体思想。理想汽车创始人李想说，“企业规模大了以后，质量就是效率”，其实对于富滇银行也一样，两年来我们一直在落地数字化项目，也取得了很多成绩，但是，我们也在反思，在这个过程中是不是跑得有点快。</p><p></p><p>在华为的数字化转型实践中，他们也提到了“慢就是快”。如今，富滇银行数字化组织已经从流程“僵化”阶段进入“优化”阶段，下一步的重点任务就是做“固化”，这个过程需要不断迭代。在这个阶段，我们会着重在业务层面上追求质量的提升。</p><p></p><p>其次，坚持架构引领。一定要避免“自嗨”，要持续加强企业级架构的认知，特别是针对应用架构和数据架构。</p><p></p><p>一方面，面向越来越多元化的场景建设，异构系统挑战越来越突出，应用架构的设计就非常重要；另一方面，针对数据架构，重点要管控数据质量，尤其是随着 AI 的深化应用，如果数据治理做不好，那么业务智能化就难以落地。</p><p></p><p>最后，是加强安全体系和风控体系的建设。当银行变得越来越开放，加上<a href=\"https://www.infoq.cn/theme/187\"> AIGC </a>\"等技术等落地，我们必须去重新反思银行的风控体系如何构建，比如越来越智能化的机器人，如何利用技术升级反欺诈、反洗钱策略，这是我们需要深度思考的问题。</p><p></p><p>参考链接：</p><p>https://new.qq.com/rain/a/20210624A009UE00</p><p>https://fund.eastmoney.com/a/202304102686396372.html</p>",
    "publish_time": "2023-04-24 11:18:48",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "为什么说用友 iuap 是更懂企业业务的数智平台？",
    "url": "https://www.infoq.cn/article/ACRSeciA78MqfK5P1HqW",
    "summary": "<p>4月19日-21日，为期三天的2023用友BIP技术大会圆满落幕了，近千位来自三十个行业的企业家、CIO/CDO、企业主管、专家学者、媒体、分析师代表现场参与了此次大会。与往届用友BIP技术大会不同的是，本届大会在日程内容、覆盖规模上做了全面升级，并将原本一天的议程延展到了三天。</p><p>&nbsp;</p><p>但尤为引人注目的仍是首日的技术峰会，本次技术峰会以“升级企业数智化底座”为主题，进一步探讨了领先企业如何从构建全面的数智化能力和体系。同时，用友联合IDC发布《建设数字中国 升级数智底座——企业数智化底座白皮书》。</p><p></p><h1>升级数智底座的需求呼之欲出</h1><p></p><p>&nbsp;</p><p>数智化转型的浪潮不断翻涌向前，在一众数智化转型的领先实践中，我们能够发现企业已经从局部应用场景创新、数据相对分散、只有部分平台能力的1.0阶段，进入到围绕生产、经营及管理主题的融合化应用创新、重视和系统推进数据治理、全面升级数智底座的2.0阶段。</p><p>&nbsp;</p><p>在外部环境变化越来越快的当下，企业都希望背后的创新系统能够更加适配业务发展。目前，已经有一些大型企业走入了无人区，在没有更多可以学习样例的前提下，对数智化系统的柔性和韧性提出了更高的要求，统一数字底座也是成了核心的诉求。</p><p>&nbsp;</p><p>在此背景下，企业升级数智化底座的需求呼之欲出。基于这样的诉求，我们也看到了用友BIP-iuap的迭代、创新，其始终贴合着企业业务进行深耕、突破。</p><p>&nbsp;</p><p>在会上，用友网络副总裁罗小江介绍了用友iuap具体如何为企业数智化底座提供四大能力能力：第一，数据驱动能力，为了顺应流程驱动、数据驱动以及智能驱动的变革趋势，用友iuap通过数据中台与智能中台，提供了数据工厂的作业流程以及各大领域的智能化分析场景；</p><p></p><p>第二，快速创新能力，举例来说，技术平台与低代码开发平台Yonbuilder覆盖了全场景开发——无代码、低代码、原生开发。同时iuap中的连接集成平台YonLinker让企业在混合云环境中更便利实现开放互联、简集成，使能企业形成快速应用创新能力；</p><p></p><p>第三，柔韧适能，在外部环境不断变化的前提下，企业需要具备更快的创新能力，让数智化系统有效地柔性拓展，同时具有韧性的生存能力；第四是信创安全，用友BIP提供了从芯片、服务器、操作系统以及数据库、中间件到安全等等，全栈适配四大主流的信创体系，为中国企业提供安全可信的价值化国产替代方案。</p><p>&nbsp;</p><p>除了平台能力体系，用友iuap通过数智化工程体系、可持续运营体系，助力企业平台应用体系全面升级，让企业实现从工具链构建到运营，随需享受云计算、大数据、人工智能等新技术带来的便利及价值。同时，用友提供“数智化+信创化”相结合的价值化国产替代解决方案，并按照咨询诊断、解耦重构、价值方案、平稳实现和敏捷迭代等五个步骤帮助企业实现国产替代。</p><p></p><h1>作为更懂业务场景的数智平台，用友iuap的底气从哪来？</h1><p></p><p>&nbsp;</p><p>围绕此次技术峰会，我们发现用友iuap被描绘成了“更懂企业业务的数智平台”。如果细究这句话的背后依据，从用友iuap的领先实践中便可找到答案。</p><p>&nbsp;</p><p>用友BIP-&nbsp;iuap平台累积了用友35年服务数百万企业客户的人财物项、产供销研等10大领域和众多行业的应用实践，并且具备应用架构的多项领先创新。</p><p>&nbsp;</p><p>一方面，用友iuap平台以企业业务为导向，实现了多项应用架构的领先创新，包括支撑业务变化和精准运营的特征体系、支撑产业链及价值网业务协同的社会化商业组织与数据模型、重构企业精细管理的事项会计中台、支持组织柔性与灵动发展的多维组织模型、支撑企业实时管控与精益运营的PDCA循环、业务导向随需应用的场景化应用组装等，使能企业随需而变、柔性扩展、韧性成长。</p><p>&nbsp;</p><p>另一方面，用友iuap业务中台把通用的企业服务功能提炼封装为可复用、可扩展、可运营的中台能力，如用户、企业、组织、权限、流程、报表、供应商、物料、商品、电子发票、全球化应用等，并为中台能力的开发、运营提供系列能力支撑；用友iuap数据中台沉淀了众多先进管理思想和领先企业实践，预置了覆盖财务、人力、采购、制造、营销等10大领域240+业务模型和多个行业的主题包，支持业务人员轻松生成分析报表，大大降低使用门槛，提高数据服务能力。</p><p>&nbsp;</p><p>更值得一提的是，在今年年初，用友还对面向大型企业的业务组织架构进行了新一轮的调整：由原来以地区为主、“地区+行业”的组织模式升级为以行业为主、“行业+地区”的运行模式。这也无疑体现了用友深入产业、扎根产业的决心，组织先行的策略也将让用友持续了解企业业务，进一步使得用友iuap成为更懂业务场景的数智平台。</p><p></p><h1>升级数智化底座的领先实践，用友iuap用实绩说话</h1><p></p><p>&nbsp;</p><p>在本次技术峰会当中，中船集团、杭钢集团和北京地铁作为领先企业代表，还分享了自身在推进数智化转型的实践经验。</p><p>&nbsp;</p><p>其中，北京中船信息科技有限公司作为中国船舶集团的数科公司，分享了自身在服务央国企数智能化转型的思考。据了解，目前中船集团有22万员工、1.89亿资产，作为全球最大的造船集团，数据驱动的运行模式已经迫在眉睫。为此，中船集团在数智化转型的过程中，尤其注重构建底座平台的核心基础能力、核心架构能力以及数据驱动能力。那么，用友iuap在此过程中带来了哪些实际作用呢？北京中船信息科技有限公司董事长张凯将其比喻为“0和1”的关系，由于数智化转型是一个广泛互联的过程，靠单点的能力很解决所有的能力要素。因此，企业数智化底座便是组织必须要拥有的武器和工具环境，也需要用友iuap这样的数智平台进行赋能。</p><p>&nbsp;</p><p>杭钢集团有限公司总经理助理施永益分享了用友iuap助力杭钢集团建设企业数智化底座的实践经验，他谈到，基于数智化转型面临的问题，杭钢采取了小步快走的策略，从2021年开始与用友进行全面合作，打造集团一体化智能化管控平台。目前，已经实现了从门户到入口、到应用、到数据的一体化集成 与整合；集成门户成为文化基地、全员工作台、业务平台；统一集成规范，统一数据标准；基于大数据的ESB集成全部完成；围绕集团管控和四大板块业务，全面构建智能分析体系。未来，将进一步深化产业经营数字化赋能，推动杭钢集团数据要素价值化。</p><p>&nbsp;</p><p>此外，北京市地铁运营有限公司副总会计师、财务部部长梁清还介绍了北京地铁财务的数智化进展。她认为，数据已经成为驱动财务智能向价值创造升级的重要引擎，数智化转型不再是政府倡议的可选项目，从内部管理的诉求来说，数智化转型是企业增加管理效益、高效配置资源、增强企业生存能力的一个必选项。在此背景下，用友BIP助力北京地铁实现了企业全面的业务透视，形成了生产经营计划、全面预算、财务核算这三者高效联动运转的体系，充分发挥了数据在业财融合中的作用。</p><p>&nbsp;</p><p>当然，以上提到的领先数智化转型实践仅仅是用友iuap服务大型企业的一个能力缩影。据悉，中国一汽、国家电投、中广核、上海机场、南山控股、明日控股、中建五局、振华集团、德荣医疗等都选择了用友iuap升级企业数智化底座，推进数智化建设。未来，我们也期待在用友iuap的持续赋能下，将涌现出更多大型企业数智化转型的领先实践。</p>",
    "publish_time": "2023-04-24 11:20:16",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]