[
  {
    "title": "“TDD就是死亡”？我要为单元测试辩护",
    "url": "https://www.infoq.cn/article/Brwh11Pqd6Oa2T8VBpC2",
    "summary": "<p>在2014年的时候，<a href=\"https://dhh.dk/\">David Heinemeier Hansson</a>\"在软件开发界引起了轩然大波。他在<a href=\"https://youtu.be/9LfmrkyP81M\">RailsConf</a>\"的台上公然宣布“<a href=\"https://TDD is Death\">TDD就是死亡</a>\"”。</p><p>&nbsp;</p><p>这是个大胆的举动，但他也成为了很多不满于测试的人所寻找的领头人。很多人选择了跟随，开发者们就此分成了两个阵营。</p><p>&nbsp;</p><p>当时所掀起的新浪潮一路带我们到了今天，单元测试不再重要，集成测试占据上风。Mike Cohn所提出的著名测试金字塔如今被重塑为菱形形状。推动这股浪潮的因素并不唯一，在对现有测试实践不满的背后，或许并不难找到许多原因。</p><p>&nbsp;</p><p>这种情况常常伴随固化的实践传播、缺乏的正确指导，以及沉溺的抽象思维出现。人人都试图做到最好，不断尝试、失败，再尝试，直到有人能打破锁链，开拓不同的道路，一条承诺通往低维护性测试套组的道路。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/db/db8a8ffba8339f72ef138754c5a44898.png\" /></p><p></p><p>&nbsp;</p><p></p><h2>什么是最好的方向？</h2><p></p><p></p><p>即使是在新领域，我们也很容易遗忘历史，这是我在这个行业中所学到的事。飞速发展的步伐让我们相信过去没有答案，而未来充满奇迹。我不知道未来会如何，但我相信我们总会倾向于追寻创新而非寻找信息。</p><p>&nbsp;</p><p>或许下面这些问题能让很多质疑用测试菱形替代金字塔的声音：</p><p>问题是由单元测试或单元测试编写所引起的吗？集成测试是否应用于需要的组件？我的误解是否导致了多处相同的断言？我是通过测试优化设计，还是围绕现有设计进行测试？</p><p>&nbsp;</p><p>&nbsp;</p><p></p><h2>寻根&nbsp;&nbsp;</h2><p></p><p></p><p>答案或许又一次藏在了过去。</p><p>&nbsp;</p><p>那么在集成测试上，历史能告诉我们什么呢？历史中，集成测试是不同开发单元一同测试的阶段。这些单元独立开发，且通常来自不同团队。在这一阶段，我们要确保的是所有接口的实现和运行正常。</p><p>&nbsp;</p><p>如今的集成测试常常用于同一团队所开发的代码单元，这就意味着每个源码文件都是一个系统边界，相当于每个代码文件都是由同一个自主团队开发一样，模糊了单元测试和集成测试之间的界限。</p><p>&nbsp;</p><p>因此，我们可以断定，集成测试与单元测试之间区别的根源是个错误。认定集成测试是用于团队之间测试，而单元测试是用于单一团队测试，这种区分观念本身便是不对的。我们所要解决的果正是自己造下的因。</p><p>&nbsp;</p><p>我们应当明确这二者的界限，明确开发团队之间的界限而非层次。界限的明确会让你从新的角度看待系统的角色，以及它与其他领域的交互。类似于Alistair Cockburn所描述的<a href=\"https://alistair.cockburn.us/hexagonal-architecture/\">六边形架构</a>\"，后者也被称作是“端口与适配器”。在他的描述中，系统拥有里外两个面，而我们要做的，就是通过明确定义的边界来连接这两个面。</p><p>&nbsp;</p><p>这有什么用呢？正是这个内外层的关系，明确了单元测试与集成测试之间的关系。单元测试负责从外向内地测试界限，而集成测试则是从内向外地对边界测试。具体来说，集成测试确保了适配器、网关和客户端，这些负责连接其他开发单元（如API、插件、、数据库和模块）之间关系的正常运作。</p><p>&nbsp;</p><p></p><h2>针对行为的测试</h2><p></p><p></p><p>“单元测试”中的“单元”是什么？单元是指行为的单元。这段定义中完全没有提到过任何针对单一文件、对象，或者函数的测试。那么，为什么编写针对行为的测试很难？</p><p>&nbsp;</p><p>多数测试类型都会遇到的问题来自软件结构和测试之间的紧密联系，其中开发者忽视了测试目标，并以透明盒（有时也被称作是白盒）的方式应对测试。透明盒测试是指内部设计时以系统正常运作为目标，常见于单元测试。但透明盒的问题在于，测试往往会过于细化导致产生大量用例，而这些用例又与底层结构紧密耦合，给维护增加了难度。</p><p>&nbsp;</p><p>人们对单元测试的不爽部分来源于此。而集成测试由于更多地脱离底层的设计，受重构的影响往往比单元测试要小。</p><p>&nbsp;</p><p>我更倾向于从另一个角度看问题。这一点是集成测试的优势，还是由透明盒测试所带来的问题？如果我们以基于行为的不透明盒（有时也被称作黑盒）方式进行单元测试，那么结果是否一样或更好？</p><p>&nbsp;</p><p>人们常常以为不透明盒测试只能应用于系统的外部边界，但这是不对的。我们的系统是由许多边界组成，有些可以借助通信协议访问，有些可以通过进程中的适配器扩展。这些适配器都有自己的边界，可以通过基于行为的方式进行测试。</p><p>&nbsp;</p><p></p><h2>模拟：孤注一掷</h2><p></p><p></p><p>透明盒测试通常大量使用模拟（mock），可一旦过度依赖模拟，测试便会更难维护。也许这就是Mark Seemann所说的“<a href=\"https://blog.ploeh.dk/2022/10/17/stubs-and-mocks-break-encapsulation/\">桩（stub）和模拟破坏了封装</a>\"”。在正视这类由过度使用模拟所带来的问题后，厌恶、甚至不惜一切代价地避免模拟是很正常的。仅使用API的测试通常会导致对模拟的过度依赖。</p><p>&nbsp;</p><p>但问题又回到了最初，这是否真的是由模拟或对模拟的误用导致的呢？</p><p>&nbsp;</p><p>模拟和桩或许更难维护，但它们的存在是有意义的。它们让测试更快也更稳定，我们需要掌控它们，且不在必要之外滥用模拟和桩。</p><p>&nbsp;</p><p></p><h2>减少代码的公共表面</h2><p></p><p></p><p>透明盒测试的另一弊端在于其会导致更多代码的暴露。验证器、映射器，以及其他可能的内部实现细节都会因为测试的缘故暴露在公共契约（contract）内。任何使用Java或C#的人都知道接口在代码库中的普遍程度。仅仅为了模拟一个依赖，开发者很可能会引入一个新接口。</p><p>&nbsp;</p><p>可被从外部访问的代码将会更难变动，测试也将成为必须项，让代码的可维护性受到质疑，在没有大量重写单元测试的情况下，重构几乎成为不可能。乍一看，这一问题似乎利于集成测试；集成测试更关注于外层，不会暴露很多的实现细节。</p><p>&nbsp;</p><p>但还是那个问题，这究竟是单元测试的问题，还是我们在实现单元测试方式的问题？如果我们以不透明盒的形式进行单元测试，无视内部设计方式，仅关注于消费者需求，或许我们会收获更小的契约，一个更易于测试的契约，更少的测试量，以及更便于维护的测试。</p><p>&nbsp;</p><p></p><h2>以架构为指导原则</h2><p></p><p></p><p>测试常常是围绕架构进行的。我们常常在系统设计完成之后才会考虑测试，但这也会让系统测试的难度更上一层楼。多层架构中这种情况屡见不鲜，对数据访问技术的依赖让领域层的单元测试更加繁复。</p><p>&nbsp;</p><p>采用测试隔离的架构可以轻松避免这种问题。无论是六边形架构还是干净架构（Clean Architecture），可选的有很多。这类架构的构建是独立于设备的，所有基础设备依赖都会通过依赖配置接入系统。架构的单元测试会更加舒适，并引导集成测试到适当的应用下：测试连往外部的适配器。</p><p>&nbsp;</p><p>集成测试的适配器会为我们的测试策略带来一个薄弱点。在所有组件相连的情况下进行集成测试，将收获测试在配置和组合方面的优势，显然这是我们想要的目标。当然我们也可以继续在组件全部相连的情况下测试，但这些测试只会是“烟雾弹”，不需要测试所有的边界情况，从而导向更稳定，也更可靠的测试。</p><p>&nbsp;</p><p></p><h2>结论</h2><p></p><p></p><p>质疑行业中的固有观念很重要，但在质疑之前先充分理解这些观念也同样重要。</p><p>&nbsp;</p><p>我们都知道历史是不断重复的，过去会带给我们关于将来决定的信息。但我们也应该明白同样的错误将会不可避免地一遍遍发生。这是人之本性，是否能规避这些错误将取决于我们自己。测试策略也是这些不断重复的错误之一。我们要面对这些由于信息或知识匮乏，以及错失已有优秀实践而导致的痛点。</p><p>&nbsp;</p><p>测试与架构是息息相关的。我们需要在设计架构时不忘测试情况，在我们追寻优秀测试策略时，单元测试仍会是我们可用的工具。</p><p></p><p>原文链接：</p><p><a href=\"https://www.infoq.com/articles/unit-tests-testing-pyramid/\">https://www.infoq.com/articles/unit-tests-testing-pyramid/</a>\"</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/article/l0jqESl4bgNs3jC0GFvG\">个性化测试流程，不搞一刀切</a>\"</p><p><a href=\"https://www.infoq.cn/article/SxEUUtjMIWxc2cvJGZK4\">只擅长构建软件是不够的，我们必须擅长构建可测试的软件 | QCon</a>\"</p>",
    "publish_time": "2023-01-09 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "字节回应员工因没年终奖与HR互殴；乐视实行 4 天半工作制：不降薪无 996，研发可准点下班；亚马逊发全员信，拟裁员超1.8万人 ｜ Q资讯",
    "url": "https://www.infoq.cn/article/2VOCzMCsy7JQT27Aa8XR",
    "summary": "<p></p><blockquote>字节回应员工因没年终奖与HR互殴；乐视实行 4 天半工作制：不降薪无 996，研发可准点下班；Salesforce宣布重组计划：裁员10%并削减办公空间；Twitter解雇40名广告团队的工程师；亚马逊CEO发全员信，拟裁员超过1.8万人；谷歌希望 RISC-V 成为“一级”Android 架构；微软将推出AI版必应搜索，采用ChatGPT爆红技术；Debian 移除 Python 2；黑客免费公开2.35亿Twitter用户的数据，含姓名、邮件地址等信息……</blockquote><p></p><p>&nbsp;</p><p></p><h2>科技公司</h2><p></p><p>&nbsp;</p><p></p><h4>字节回应员工因没年终奖与HR互殴</h4><p></p><p>&nbsp;</p><p>1月4日，有报道称，字节跳动开启裁员后，有网友爆出被离职员工表示自己干到12月份，每天晚上做到7点半却没有年终奖，因此与HR产生肢体冲突，双方在公司内互薅头发后HR也被离职。对此，字节跳动相关人士对媒体表示，网传“裁员没年终奖字节员工与HR互殴”信息不实。经排查，公司内部未发现互殴情况；字节跳动今年的年终奖评定工作还没有启动，一般在每年4月发放。</p><p>&nbsp;</p><p>根据之前的媒体报道，字节跳动计划将整体规模优化10%左右，而到2022年底，该公司员工有约11万人左右，也就是说，此次裁员将涉及1.1万人，各条业务线也基本确定了优化目标。据称，抖音、TikTok、今日头条、飞书、商业化、Data、懂车帝都收到了裁员通知。</p><p>&nbsp;</p><p></p><h4>乐视实行 4 天半工作制：不降薪无 996，研发可准点下班</h4><p></p><p>&nbsp;</p><p>1 月 3 日，乐视 CEO 张巍发布了 2023 年致全体员工的一封信，名为《乐视，从来与众不同》。全员信中，乐视宣布自 2023 年 1 月 1 日起，公司将执行每周四天半工作制，每周三实行弹性的半天工作制，考勤时间调整为连续 5 小时，如上午 10 点至下午 15 点、上午 11 点至下午 16 点都符合规定。</p><p>&nbsp;</p><p>据潇湘晨报报道，乐视市场部的一名员工称，自去年 7 月起，乐视就已经提出这个制度了，这项决策并不是管理层的一时兴起，而是作为一项长期执行的制度。而且最重要的是，实行 4 天半工作制并不会降薪。</p><p>&nbsp;</p><p>乐视在公开信中表示，这项工作制有四点好处：</p><p>&nbsp;</p><p></p><blockquote>1、有利于员工和家人及时就医。疫情让我们认识到健康的重要性，周三休息半天，员工不用请假可以更灵活安排自己和家人就诊，对自己负责，更是对家庭、对社会负责。&nbsp;2、有利于缓解“周一工作焦虑症”。大城市工作压力大，上下班路远时间长，很多人周末休息后因周一至周五要连续工作五天，一到周一便感到焦虑。周三休息半天，员工可以去跑跑步、健健身或进行其他娱乐活动，能有效缓解这种焦虑。&nbsp;3、有利于员工学习和提高专业技能。活到老学到老，工作不只是输出，更需要充电。对于想要提升自己的员工尤其是刚毕业的年轻员工，周三弹性工作能增加周二晚和周三晚学习时长，规避周末突击学习的弊端，有利于提高学历和备考各类专业证书。&nbsp;4、有利于提升家庭幸福感。对于已经组建家庭的员工，可以更好的平衡工作与家庭。如果家里有孩子，周三不需要请假就可以接送孩子上下学 ; 如果还没有孩子，那么也有利于提高员工生育率，拥护国家政策。</blockquote><p></p><p>&nbsp;</p><p></p><h4>Salesforce宣布重组计划：裁员10%并削减办公空间</h4><p></p><p>&nbsp;</p><p>1月4日消息，美国软件开发商Salesforce宣布一项重组计划，包括裁员约10%，旨在降低运营成本，提高运营利润率。Salesforce预计，与此次重组计划相关的费用约为14亿美元至21亿美元，其中约8亿美元至10亿美元预计将在2023财年第四季度产生，该计划下的员工重组相关行动预计将在公司2024财年结束时基本完成。</p><p>&nbsp;</p><p></p><h4>Twitter解雇40名广告团队的工程师</h4><p></p><p>&nbsp;</p><p>1月6日消息，据The Information报道，Twitter于周三深夜解雇了约40名从事广告业务的数据科学家和工程师，这至少是自去年12月中旬以来的第三轮裁员。这位知情人士说，裁员的对象是Twitter领导层认为失败的领域，比如广告产品，以及不重要的领域，比如数据科学。有网友表示：“作为一名数据科学家，我极为愤慨。马斯克居然说数据科学不重要。”</p><p>&nbsp;</p><p></p><h4>亚马逊CEO发全员信，拟裁员超过1.8万人</h4><p></p><p>&nbsp;</p><p>1月5日，据亚马逊官网，亚马逊CEO安迪·贾西发布全员信，称公司计划裁员超过1.8万人，比较早时媒体报道的亚马逊将裁员逾1.7万人更多，裁员占亚马逊约30万企业员工的 6%。Andy Jassy在全员信中称，鉴于经济的不确定性，以及在过去几年中大规模招聘，年度规划变得更加困难，而且“由于我们的一位同事对外泄露了这项计划，我们决定提前公布消息，以便直接向大家传达细节。我们希望从1月18日开始，与受影响的员工展开沟通。”</p><p>&nbsp;</p><p></p><h2>IT业界</h2><p></p><p>&nbsp;</p><p></p><h4>谷歌希望 RISC-V 成为“一级”Android 架构</h4><p></p><p>&nbsp;</p><p>1月5日消息，谷歌已经正式宣布Android将支持RISC-V指令集架构。该消息的公告来自去年12月举行的RISC-V峰会，谷歌 Android 工程总监 Lars Bergstrom 在会议上提到了 Android 对 RISC-V 架构的支持愿景。他表示希望 RISC-V 成为 Android 支持的 “一级” 架构平台 (tier-1 platform)。</p><p>&nbsp;</p><p>目前，用户可以为RISC-V下载具备非常有限支持的Android版本，但它不支持用于Java工作负载的Android Runtime (ART)。大多数Android应用程序都使用Java代码发布，这意味着目前几乎没有应用程序会在Android上支持RISC-V。</p><p>&nbsp;</p><p>在峰会之前，Bergstrom 还曾表示过在 RISC-V 上优化 Android 构建需要 “大量工作”，并概述了需要 “几年” 才能实现目标的路线图。而现在，谷歌表示官方模拟器支持即将到来，而ART支持预计将在2023年第一季度的某个时候到来。一旦ART支持到来，可以一定程度上将Java转译为RISC-V，因此大多数Android应用程序将无需开发人员额外的工作即可运行。</p><p>&nbsp;</p><p></p><h4>微软将推出AI版必应搜索，采用ChatGPT爆红技术</h4><p></p><p>&nbsp;</p><p>1月4日，据彭博社报道，有知情人士透露，微软正准备将 OpenAI 的 ChatGPT 聊天机器人添加到其 Bing 搜索引擎中，以吸引竞争对手谷歌的用户。</p><p>&nbsp;</p><p>这位知情人士表示，微软相信，对于搜索用户来说，提供更具对话性和上下文回复，可以比链接提供更好的答案，从而赢得用户。微软可能在未来几个月内推出附加功能，但现在仍在权衡聊天机器人的准确性以及将其纳入搜索引擎的速度。该知情人士表示，最初的版本可能是对一小部分用户的有限测试。</p><p>&nbsp;</p><p>微软的 Bing 服务规模远小于 Alphabet Inc.占主导地位的谷歌搜索引擎，这位知情人士表示，微软几个月来一直在试用 ChatGPT。微软尚未置评，OpenAI不予置评。</p><p>&nbsp;</p><p></p><h4>Debian 移除 Python 2</h4><p></p><p>&nbsp;</p><p>Debian 从 FTP 服务器上移除了 Python 2 包。Python 2 已经在 2020 年结束支持，Python 开发者在 2020 年 4 月发布了 Python 2.7 分支的最后一个版本，也是一个非常特殊的版本：Python 2.7.18（近似欧拉常数）。大部分 Linux 发行版开始着手移除 Python 2 包。</p><p>&nbsp;</p><p></p><h4>63GB！黑客免费公开2.35亿Twitter用户的数据，含姓名、邮件地址等信息</h4><p></p><p>&nbsp;</p><p>1月5日消息，有黑客在论坛上泄露了含有2.35亿Twitter用户的数据。据Cybernews报道，此次泄露的数据大约有 63GB，其中包括用户的姓名、电子邮件地址、粉丝数量和账户创建日期。该数据库甚至是公开的，允许任何人下载它。</p><p>&nbsp;</p><p>据《华盛顿邮报》报道，这些记录很可能是在2021年底利用Twitter的一个漏洞泄露的，该漏洞允许掌握电子邮件地址或电话号码的外人在Twitter上找到任何与该信息相匹配的账户。这些查询可以自动化，以检查无限数量的电话号码和电子邮件地址。</p>",
    "publish_time": "2023-01-09 08:03:57",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "马斯克极致省钱：推特员工自带卫生纸上班；裁员不发年终奖致员工薅头发互殴，字节跳动辟谣；马云露面称希望尽快回国 | AI一周资讯",
    "url": "https://www.infoq.cn/article/oxYBmr0IeBykqjQUM2zR",
    "summary": "<p></p><p></p><blockquote>创下裁员记录！亚马逊裁员将增加到1.8万人；百度研究院发布2023年十大科技趋势，这些技术上榜；国产特斯拉大幅降价，公司副总裁陶琳回应：坚持以成本定价；报告称，2亿多推特用户的电子邮箱被黑客泄露；李彦宏内部讲话：马化腾说的问题，百度也都有；打击谷歌？微软必应搜索或将引入ChatGPT....</blockquote><p></p><p></p><p></p><h2>资讯</h2><p></p><p></p><h4>羊了个羊招聘研发，最高年薪40万，推荐奖金最高达1万</h4><p></p><p>近日，羊了个羊发布招聘公告，招聘岗位包含Cocos研发工程师和动画设计师两个岗位，推荐奖金最高达1万元。据该公司有关负责人介绍，动画设计师年薪在12万～20万元。研发工程师薪资则将根据面试情况评级，最高年薪40万。</p><p></p><h4>马斯克疯狂省钱：推特员工“自带卫生纸”上班</h4><p></p><p>据外媒报道，随着马斯克在推特公司实施全面的成本削减措施，包括解雇了公司的一些保洁人员之后，推特员工被迫自己带卫生纸进入“有臭味的办公室”。</p><p></p><p>《纽约邮报》称，为了节省开支，马斯克本月突然解雇了该公司旧金山总部的一些保洁人员，这些保洁人员是在为加薪而罢工后被解雇的。</p><p></p><p>《纽约时报》援引知情人士消息具体补充说，由于缺保洁人员，推特公司的“办公室一片混乱”，卫生间变得“脏兮兮的”，“吃剩的外卖（味道）和（人的）体味”挥之不去，并且一些员工甚至只能从家里自己带厕纸。</p><p></p><p>有网友拿题为“在埃隆·马斯克裁掉保洁人员后推特员工用上了自己的厕纸”的《纽约邮报》报道发问，“这是真新闻还是假新闻”，马斯克在推特上回复这名网友称，“BYOTP！哈哈，有半天是这样的。”另有网友提到，马斯克说的“BYOTP”是“自带卫生纸”的英文首字母缩写。《独立报》认为，马斯克的这一回应“似乎证实了有关报道的真实性”。</p><p></p><h4>创下裁员记录！亚马逊裁员将增加到1.8万人</h4><p></p><p>1月4日，据彭博社报道，亚马逊决定裁员1.8万余人。报道指出，该数字比之前预计的要多，这是美国技术行业衰退加重的迹象。</p><p></p><p>报道称，亚马逊首席执行官安迪·贾西（Andy Jassy）4日在给员工的备忘录中宣布了这一决定，称其遵循了公司的年度规划流程。据悉，裁员主要集中在公司的企业级别，包括零售部门和人力资源的招聘部门。亚马逊打算从1月18日开始与受到影响的员工沟通。</p><p></p><p>“亚马逊从曾经的经济不确定性和困难中走过，我们将继续这样做，”Andy Jassy在备忘录中说道，“这些变化将帮助我们以更强大的成本结构寻求长期机会。”</p><p></p><h4>2022，俞敏洪给自己打8分：没欠任何员工一分钱工资</h4><p></p><p>1月4日，新东方创始人俞敏洪在其个人公众号中表示，对于2022年，“我给自己打了一个8分的分数”。</p><p></p><p>这8分主要有两个依据：首先，“毫无疑问稳定了新东方的发展”。“不管2022年怎么变化，但2022年新东方还有5万多员工，没有欠员工一分钱的工资，没有欠员工奖金，也没有更多的员工被新东方淘汰掉，而是进入了一个稳定的布局”。第二就是因为有了东方甄选。他表示，东方甄选从2021年12月28号第一个粉丝买第一单开始，在一年里实现了跨越式发展，“也给新东方带来了更好的发展基础，提供了一个新的机会”。</p><p></p><h4>百度研究院发布2023年十大科技趋势，这些技术上榜</h4><p></p><p>1月5日，百度研究院发布2023年十大科技趋势预测，今年上榜的十大科技趋势涵盖了大模型生态、数实融合、虚实共生、自动驾驶、机器人、科学计算、量子计算、隐私计算、科技伦理和科技可持续发展等领域，凸显了技术底座不断夯实、AI跨领域融合更加扎实、智能化创新更加务实，“技术向实”正在发生。百度研究院认为，2023年的核心科技趋势将围绕技术底座不断夯实、AI跨领域融合更加扎实、智能化创新更加务实三大方向展开。</p><p></p><h4>裁员不给年终奖致员工互殴？字节跳动回应：消息不实</h4><p></p><p>近日，有网友爆料字节跳动有员工被离职，没有年终奖，并因此与HR产生了肢体冲突，双方在公司内互薅头发后，HR也被离职。对此，字节跳动相关人士回应中国证券报记者称：网传“裁员没年终奖字节员工与HR互殴”信息不实。经排查，公司内部未发现互殴情况；字节跳动今年的年终奖评定工作还没有启动，年终奖一般在每年4月发放。</p><p></p><h4>马云公开露面：希望尽快回国</h4><p></p><p>马云现身了。12月30日，农历腊月初八，马云公益基金会发起的“乡村教师计划”如期举办。马云公益基金会微博公布的照片中，马云身穿白色立领衬衫，面带笑容，在一台苹果电脑前做了双手比心的动作。该微博称，当天马老师全程连线参加，他跟老师说，腊八之约他从不缺席，希望尽快能和大家线下见面。</p><p></p><h4>国产特斯拉大幅降价，公司副总裁陶琳回应：坚持以成本定价</h4><p></p><p>1 月 6 日，特斯拉中国宣布&nbsp;Model 3 与 Model Y 价格调整。其中，Model 3 后轮驱动版 22.99 万元起售，Model Y 后轮驱动版 25.99 万元起售，降价幅度从 2 万元-4.8 万元不等。</p><p></p><p>对于大幅降价，特斯拉公司全球副总裁陶琳回应称，特斯拉价格调整的背后，涵盖了无数工程创新，实质上是独一无二的成本控制之极佳定律：包括不限于整车集成设计、产线设计、供应链管理、甚至以毫秒级优化机械臂协同路线…… 从“第一性原理出发”，坚持以成本定价。以实际行动响应国家号召，促进经济发展，释放消费潜力。</p><p></p><h4>报告称，2亿多推特用户的电子邮箱被黑客泄露</h4><p></p><p>1月5日，据路透社报道，以色列网络安全监控公司Hudson Rock的联合创始人阿隆·加尔（Alon Gal）于2022年12月24日首次在社交平台上发布了一份有关推特邮箱地址泄露的报告，称黑客正将2亿多推特用户的电子邮箱地址发布于一个在线黑客论坛上。</p><p></p><p>加尔于1月4日在社交平台上写道：“这次入侵将很不幸地导致大量黑客攻击、有针对性的网络钓鱼和信息泄密”，他称之为“见过的最严重的泄密事件之一”。</p><p></p><p>据报道，该电子邮箱泄露事件可能最早发生于2021年，早于埃隆·马斯克接管推特的时间。目前尚没有可用于追踪黑客身份或位置的线索。截至目前，推特方面暂未对该报告发表评论，也尚不清楚推特是否采取任何行动来调查或弥补该问题。</p><p></p><h4>SaaS巨头Salesforce宣布裁员8000人</h4><p></p><p>1月5日，全球最大的 SaaS 软件公司Salesforce宣布，由于对经济的担忧，公司计划裁减10%的岗位，即约8000名员工，并缩减办公空间。&nbsp;该公司联席首席执行官马克·贝尼奥夫在致员工的一份宣布裁员的报告中表示，“环境仍然充满挑战，我们的客户在做出购买决定时正采取更加审慎的态度。”</p><p></p><p>在一封信中，贝尼奥夫暗示公司在那段时间招聘过于激进。&nbsp;贝尼奥夫表示，“我们雇用了太多人，导致了我们现在面临的经济衰退，我对此负有责任。” 截至10月底，Salesforce的员工人数接近8万人。</p><p></p><h4>打击谷歌？微软必应搜索或将引入ChatGPT</h4><p></p><p></p><p>据 Information 周二报道，微软公司于 2019 年向 OpenAI 投资了 10 亿美元，该公司正在努力推出其搜索引擎 Bing 的一个版本，该版本使用现在流行的 ChatGPT 背后的人工智能。</p><p></p><p>这位知情人士表示，微软相信，对于搜索用户来说，提供更具对话性和上下文回复，可以比链接提供更好的答案，从而赢得用户。微软可能在未来几个月内推出附加功能，但现在仍在权衡聊天机器人的准确性以及将其纳入搜索引擎的速度。该知情人士表示，最初的版本可能是对一小部分用户的有限测试。</p><p></p><p>微软的 Bing 服务规模远小于 Alphabet Inc. 占主导地位的谷歌搜索引擎，这位知情人士表示，微软几个月来一直在试用 ChatGPT。The Information 早些时候报道了微软的计划。</p><p></p><h4>Facebook“吹哨人”给马斯克指明方向：推特算法必须开源，才能成为公共广场</h4><p></p><p>据新浪科技报道，1月3日，Facebook“吹哨人”弗朗西斯·豪根（Frances Haugen）在接受媒体采访时表示，如果埃隆·马斯克（Elon Musk）想把推特变成公共广场，就应该对其算法开源。“对埃隆·马斯克来说，要证明他想要打造一个公共广场，最重要的事情之一就是发布算法。”</p><p></p><p>马斯克之前曾经讨论过将推特打造成一个数字城镇广场，以供讨论对人类未来至关重要的事情。</p><p></p><p>“开源算法，”她补充道，“他会得到更多帮助——成本会降低，利润会更高。”</p><p></p><h2>IT界热评新闻</h2><p></p><p></p><h4>乐视宣布实行4天半工作制度</h4><p></p><p>1 月 3 日，乐视 CEO 张巍发布了 2023 年致全体员工的一封信，名为《乐视，从来与众不同》。全员信中，乐视宣布自 2023 年 1 月 1 日起，公司将执行每周四天半工作制，每周三实行弹性的半天工作制，考勤时间调整为连续 5 小时，如上午 10 点至下午 15 点、上午 11 点至下午 16 点都符合规定。而且最重要的是，实行<a href=\"https://mp.weixin.qq.com/s?__biz=MzU1NDA4NjU2MA==&amp;mid=2247585256&amp;idx=1&amp;sn=b1d7b3eb976a7ad9bb23ed91fc20f157&amp;chksm=fbeb3427cc9cbd3173f2ea90748e0ecbcdf2520751f356a6a6f6204cba8de037ce74892cd475&amp;token=1509420125&amp;lang=zh_CN#rd\">4 天半工作制</a>\"并不会降薪。</p><p></p><p>乐视这封公开信一出，便引起了极大的关注度。“4 天工作制要不要推行”， “全国推行 4 天半工作制可行吗”，“如果上 4 天班你会搞副业吗”等相关话题很快登上热搜，引发广泛讨论。在国内，“四天工作制”的呼声也很高涨，但要想短时间内并不容易实现。</p><p></p><h4>小米汽车陷舆论漩涡</h4><p></p><p>1月2日晚间6点半，微博自媒体博主“理记”爆料称，小米汽车车型已经定版，酷似Taycan。截至目前小米汽车的品牌仍未获批，且被列入到资本无序扩张概念，可能将来不准叫小米汽车，只能给别人代工。后该条微博因被投诉侵权，已被删除。</p><p></p><p>1月2日晚间9时许，小米公关部总经理王化发微博回应称，该消息不实，不存在所谓品牌需要批准的说法，此外小米汽车进展顺利。</p><p></p><p>王化回应后，“理记”又发文称，王化的“辟谣”比较模糊，是针对具体用词而不是信息本身所表达的意思，并表示自己的信息均来自小米汽车内部的权威信源。“理记”进一步爆料，“小米造车生产销售资质不一定能批下来”是十一月份时的消息，当时情况是车不能挂小米的牌子，可以找个现有的有生产资质的工厂，车造出来后，挂的不是小米的牌子。</p><p></p><p>1月3日早间，博主“理记”再次发微博称：“小米汽车生产销售资质审批遇挫折的事，在业内也不算什么秘密。”</p><p></p><p>1月3日午间，王化再次回应：“辟谣非指责谁，仅仅是对有误导性的不实信息做澄清……这年头网络信息这么发达，谁不认识几个内部人士呢，如此反复纠结于道听途说的小道消息也不用干活了。”</p><p></p><p>随即，“理记”在回复中表示，对事不对人，对王化本人敬业态度表示理解，守土有责。不过，“理记”表示，王化不针对具体信息而专注于扣帽子显得反应过度。这种处理方法只是把辟谣当口号喊出来了，实际上并没有起到效果，因为明眼人看到的是人家在说ABC，你辟的“C不该大写”。</p><p></p><p>而1月6日，据《晚点 Auto》获得的消息，小米造车有了关键进展，已在讨论定价区间。第一款车为中型溜背式轿车（内部代号 Modena 摩德纳），分为两个版本，内部讨论方案为一个版本定位 26 万-30 万元区间，另一个版本在 35 万元以上。</p><p></p><h4>李彦宏内部讲话：马化腾说的问题 ，百度也都有</h4><p></p><p>据36氪报道，1月3日晨间，百度内网发布了一篇题为《简单之约：谈机会谈挑战，新思考新要求》的文章，其内容取自2022年12月末，李彦宏面向全体员工的一场内部直播。这场直播由主管百度人力资源体系的百度集团资深副总裁崔珊珊主持。</p><p></p><p>在直播中，有员工问及Robin（李彦宏）是否关注到马化腾的内部讲话。此前马化腾在2022年内部员工大会上，谈及了业务部门改革表面、追求大数字营收、内部贪腐“触目惊心”等问题。</p><p></p><p>“腾讯的那些问题，百度也都有。”李彦宏答道。李彦宏同时指出：“我们也是零容忍，一旦发现这种事情就去处理，不会妥协。马化腾说的那些问题，百度也都有，我们也在试图积极地去解决这些问题。” 崔珊珊也补充：反腐的例子百度也经常看到，也是“吓死人”。</p>",
    "publish_time": "2023-01-09 10:19:02",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "智能时代，操作系统的升维所面临的挑战",
    "url": "https://www.infoq.cn/article/meREfszLYp0xsG6XlE7m",
    "summary": "<p></p><p>近几年来，智能操作系统非常火爆，不亚于芯片。其实在每个时代，它都会被放到风口浪尖上。每个人无时无刻不在用操作系统，尤其是作为一名开发者。有的人用Windows，有的人用Linux，还有些人用Mac OS。每个时代的操作系统不一样，从Unix到今天智能手机的操作系统。</p><p></p><p>我们当前所处的智能时代，操作系统的升维面临哪些挑战？操作系统后续如何演化？下面我分享一下我的观点和建议。（本文整理自中科创达战略产品部首席架构师刘寿永在<a href=\"https://dive.infoq.cn/2021/beijing/track/1205\">DIVE全球基础软件创新大会2022</a>\"的演讲分享）。</p><p></p><p>以下为刘寿永演讲的精华内容，经编辑。</p><p></p><p>首先我会介绍下中科创达。然后回顾一下操作系统的历史，读史可以明智，知古鉴今，我们可以通过历史发展的车轮看到操作系统的演化，从而预判它未来的发展趋势。第三部分主要分享下操作系统面临什么样的挑战，在每一个时代，引爆操作系统发展的点往往不一样。第四部分，从更高的维度，看看操作系统未来的发展是什么样子。创新和历史是我所谓的阴阳之道，是正反两面。因为做创新时往往会背负历史包袱，我们应该怎么去看待操作系统的创新和历史，最后会总结一下我的观点，并展望下操作系统未来的趋势。</p><p></p><h1>创达简介</h1><p></p><p>中科创达是智能系统技术供应商，成立于2008年，在2015年上市，现在大约有一万多名员工，其中90%是软件开发工程师，服务于全球一千多个客户，分布在全球大约三十个城市。</p><p></p><p>创达的核心业务主要有四块。第一块是传统的智能手机和其他智能终端；第二块是智能物联网；第三块是智能汽车；第四块是智能行业，现在无论是物联网，还是汽车，人工智能都是必不缺少的模块。</p><p></p><p>创达的技术范围覆盖了所有的类型终端，比如说摄像头、安全、人工智能，还有近几年来比较火爆的边缘。边缘端的微服务、混合云、容器编排、以及云端和云端链接、设备管理等等，创达的技术范围都能覆盖到。创达已经建立了全套的产业链上下游合作服务伙伴，包括ODM、芯片厂、云厂商、操作系统厂商等等。</p><p></p><h1>操作系统历史回顾</h1><p></p><p>从70年代的Unix小型机，到80、90年代的个人电脑，到2010年开始的智能手机，再到从2020年开始到现在的物联网，每个发展时期，都有不同的操作系统作为主导，都有其成功因素和核心系统。</p><p></p><p>比如说Unix系统，它的主要核心技术在于分时共享、C语言的编程接口。其主要成功因素则在于通用计算，一切皆文件。到今天为止，大部分的类Unix操作系统的核心概念还是文件。</p><p></p><p>到了80年代，个人PC出来以后，操作系统以MacOS和Windows为典型代表，主要强调图形界面交互。另外，它们有了自己的应用软件，尤其是办公软件。</p><p></p><p>到了90年代，随着因特网的发展，Linux横空出世。Linux是因为因特网诞生的，它的一个著名发行版是Red Hat，提供了优秀的操作系统和服务。它的主要成功因素是移动互联网和开源运动。现在整个Linux世界里，几乎所有的软件都是开源软件，它们推动了Linux整个生态和基础软件的发展。</p><p></p><p>到了2010年，智能手机出现，典型的操作系统代表就是iOS和安卓。它们更强调交互，不是键盘式的交互，而是多点触摸，触摸屏式的交互。另外它们第一次有了“应用商店”概念。所以它们最主要的成功因素是移动互联网的发展和更好的用户体验。</p><p></p><p>到了今天，物联网的发展更强调自然交互，已经超越了触摸，也不仅仅是视觉、手势、语音，而是各方面的交互。这主要取决于人工智能的发展，还有开放协作的模式，能够把物联网系统打造得更流畅、更人性化，交互体验更好。</p><p></p><h1>操作系统面临的挑战</h1><p></p><p>在每个时代，每个操作系统都有自己的挑战，就像《易经》里讲的“物极必反，否极泰来”。当一个时代发展到某个程度时，某一类操作系统变得不再适应时代的发展，它要么自我突破，要么被另外一个系统取代。</p><p></p><p>在不同的时代，系统都需要做哪些突破？</p><p></p><p>二零零几年时，出现了MID（Mobile Internet Device）。以前的手机屏幕很小，这时出现了大的交互式屏幕，图形系统就显得尤为重要，大家都致力于如何把图形的性能提高，交互性做好。</p><p></p><p>到了智能手机时代，又面临另外一种挑战。智能手机的发展越来越复杂，硬件设计越来越复杂，功能系统越来越复杂。硬件的复杂使得整个系统的模块越来越复杂。现在整个安卓系统的代码，可能就有上亿甚至十亿的代码行数，已经远远超过了以前的系统。另外还有了“应用”生态。很早以前，应用和系统是绑定的，没有人要单独去装一个应用。随着智能手机的到来，产生了各种各样的应用。比如大家经常刷的抖音、社交经常用的微信、还有一些轻音乐软件，甚至还有一些行业上的APP等等应用。为什么现在应用占据了生态？因为脱离了这些应用，手机可能就只是一个打电话的工具了</p><p></p><p>而到了现在我们所处的智能时代、物联网的时代，操作系统的发展又面临着一些新的挑战。</p><p></p><p>第一，整个物联网时代，设备形态越来越多样化。大家可以观察一下自己的家里和外面，像无人机、扫地机、监控摄像头，还有语音交互设备和Box等等，它们的形态不一样。形态不一样，产业链上下游的路径会变得越来越长，会有不同的硬件供应商、AI算法供应商、系统集成商、云厂商等等，它们交织在一起，形成了一个庞大的产业链上下游。</p><p></p><p>第二，不同的设备上运行着不同的操作系统。如何打通这些多样化的操作系统？这是现在面临的挑战。不是说所有设备上必须装统一的操作系统，但所有的设备互联互通，是智能物联网时代应该解决的问题。</p><p></p><h1>从更高维度看智能系统</h1><p></p><p></p><h2>软件×硬件=人体</h2><p></p><p>现代的操作系统已经不单纯是软件问题，而是包含了软件和硬件两个部分。底层的硬件，从设计到产品，再到上面运行的软件，软件又包含了一些可拆卸的模块，典型的比如UI模块、多媒体模块、互联模块、设备管理模块、安全模块、AI模块。每个模块功能各有不同，这些模块是可以拆卸的组合，根据不同的设备形态和应用场景，把这些模块做一个排列组合，就能形成一套系统，来适配物联网设备。</p><p></p><p>所以我们把软件和硬件的结合，称为一个统一的智能系统，就相当于人体一样，由肌肉、骨骼、血液，组合在一起，形成了整个人体。所以不能单纯从软件角度去看智能系统，而应该把硬件也囊括在内，通过软件硬件统一看待整个系统的发展。</p><p></p><h2>计算×感知=智慧</h2><p></p><p>再从另一个维度看一下，如果人有了骨骼、肌肉，还缺什么？缺大脑和感知。人能和自然界交互，主要就靠这两样。感知，用佛教的说法叫“眼耳鼻舌身意”，能够感觉到、看到、触摸到、听到，才会对外部世界有感知。有了感知以后，更重要的是大脑要进行处理，也就是计算。</p><p></p><p>2001年时，云计算刚开始发展起来，是中央控制的计算模式。现在，随着硬件和边缘感知的发展，计算和感知融合到了一起，不仅仅发生云端，也可能发生在边端，甚至可能发生在设备端。</p><p></p><p>这产生了几个特点：</p><p></p><p>第一，超低功耗。可能随便一个超低功耗的设备就可以具有感知和计算能力。</p><p></p><p>第二，维护变易。之前的电话线、网线都是有线连接，未来可能是无线连接，随时更换，系统更容易升级。</p><p></p><p>第三，隐私安全。一些隐私安全的问题，可以直接在设备端做AI分析，比如人脸识别、物体跟踪，不用传输到云端。路径越短越安全，因为限制到一个局域网的范围之内，不会脱离到广域网，就不容易被黑客攻击。</p><p></p><p>第四，集成智能。一些内置的AI等丰富的算法可以供设备端使用。</p><p></p><p>第五，丰富连接。尤其是WiFi、BT、ZigBee等无线连接，都可以无缝连接。未来，计算与感知的应用领域也会非常广泛，比如像智能零售、智能楼宇、智慧家庭、安全监控、入侵检测等。</p><p></p><h2>人×物=社交</h2><p></p><p>除了计算与感知之外，未来的社交范围也扩大了。</p><p></p><p>现在我们是人与人之间的社交，以后是物与物之间的社交。比如说边缘端和近端的交互、边缘端和云端的交互。</p><p></p><p>另外，人与物之间也产生了交互。未来，人的交互对象可能未必是一个人，可能是一个物。物与物之间也可以做一些交流，这样，可以建立人与物之间的互动场景。</p><p></p><p>通过软件，可以定义一些场景模型。就像现在比较火爆的元宇宙一样，人也进入了一个虚拟环境，物也进入一个虚拟环境，虚拟与现实结合，形成很大的社交群体——人、物的社交群体。</p><p></p><h2>技术×行业=数字化</h2><p></p><p>行业的技术落后于互联网发展，也落后于行业本身的发展。如果把一些新技术应用在行业上，帮助行业做数字化改造，形成一套广泛应用的行业系统，这时操作系统就有了新的定义。比如导入一个AI，建立一个视觉融合平台，再在产线上配套一些摄像头，内部有一些预处理模块、AI算法、账户绑定，可以做缺陷检测、物体识别、尺寸测量这样的系统，然后部署到工业场景，这对工业场景的数字化改造有非常大的帮助。</p><p></p><p>所以说不能简单地看待操作系统，像传统意义上的那种操作系统：有一个内核、几个中间件，能跑在X86、ARM或者RISC-V上，并不是那么简单。可能更多要从场景驱动，通过场景来定义不同行业的操作系统。</p><p></p><h2>端×云=边</h2><p></p><p>现在，边缘计算发展非常迅速，应用场景也越来越多。边缘计算未来会形成自己独特的领域，现在好多云计算的场景、技术，可能会下沉到边缘。因为随着处理器的速度、AI的运算能力在边缘侧不断增长，无论是技术还是平台，都可以移到边缘上。</p><p></p><p>边缘端会发展为由许多边缘设备组合到形成的边缘集群网络，然后在边缘网络上运行一些边缘的组件，比如设备的编排、算力网络的编排、容器化、以及边缘协同、边缘链接等。</p><p></p><p>另外，边侧会内置一些算法。因为有些情况下，需要做实时交互，如果能在边侧处理，就尽量在边侧处理，不需要到云侧绕一圈。</p><p></p><p>还有一些操作系统的核心模块，比如作为一个开发者，需要去做低代码开发、H5编程，或者需要连接物联网设备，在边的场景，这些都可以轻而易举触摸到。</p><p></p><p>还有一些边缘模块，像安全模块，比如设备认证、区块链加密的，可以放在边缘上，让边缘变得更加安全。</p><p></p><p>另外可能还有些特殊的模块融入到边缘，比如图形处理模块，还有一些机器人的模块，也可以放在边缘，作为一个机器人的控制中心。</p><p></p><h1>创新和历史包袱的碰撞</h1><p></p><p>从应用场景创新来看，到目前为止，操作系统的发展还是比较快的。但这产生了另外一个问题：创新和历史的碰撞。就像《易经》里说的“一阴一阳之谓道”。因为创新就意味着要破除旧的东西，是不是旧东西就没有用，就应该抛弃它？我分享一下我的观点。</p><p></p><h2>内核的纠结——“大脑”：安全还是效率？</h2><p></p><p>关于内核，提到Linux时，我们讲的更多是Linux内核（Linux内核是一个宏内核的结构，历史上就有微内核和宏内核之争）。没有内核就没有顶层的应用，世界上能提供安全内核的没有几个厂家，尤其是在消费市场上。</p><p></p><p>内核意味着安全可靠和效率。效率往往和安全可靠是一种平衡关系。无论是宏内核还是微内核，在什么样的场合就应该用什么样的内核。关键还是要发展自主内核，这条路我们还是要坚持走下去，因为它是操作系统的根基。</p><p></p><h2>中间件的缺失 ——“器官”：新生还是移植？</h2><p></p><p>除了内核之外，还有中间件。</p><p></p><p>为什么中间件如此关键？安卓系统之所以被称为操作系统，正是因为它在Linux内核上叠加了一层中间件，这就是它区别于Linux的最大不同。比如它的硬件抽象层和Linux不一样，整个中间件，整个框架层，比如SurfaceFlinger、AudioFlinger，和以前的Linux的PulseAudio、Gstreamer，还有S11系统，都是完全不一样的模式，所以安卓被称为操作系统。它的顶层支撑的应用也有单独的API，包括应用商店。所以中间件的创新，对整个操作系统是非常关键的创新。</p><p></p><p>今天讲操作系统，我们更多是缺失中间件，这意味着更多的是缺失基础软件的创新。如果缺失了中间件，我们就回到了原始的编程状态，比如要用API去调POSIX的接口；如果要画一个图，还要去操作Frame Buffer。</p><p></p><p>为什么说中间件需要创新？从开源的历史上讲，软件设计思想都集中在开源模式里，都集中在以前的软件设计的模式里。如果跳出以前的软件设计模式去看现在的应用场景，看现在的系统的设计模式，可能是不一样的。</p><p></p><h2>应用要扎根</h2><p></p><p>说到中间件，不得不说应用，因为所有的中间件都是用来支撑应用发展的。很多人从应用讲生态，如果没有应用，操作系统是没有用的。所以应用非常关键，它也是一个操作系统生态能够野蛮生长、顺利成长的一个关键因素。</p><p></p><p>但不是说有了应用，就可以抛弃中间件和底层内核。因为它们是基础，所有的应用都是建立在基础之上的，就像建立在沙滩上的城堡一样，如果根基不稳，大水一来，整个城堡都会垮掉。应用很重要，应用很关键，的确应用也是生态的一部分，但是永远不要忘了，还有基础。</p><p></p><h2>人才不足</h2><p></p><p>目前，我国基础软件领域尤其是操作系统这块的人才不足。智能系统的发展要素里，硬件或云的发展，IOT设备的种类，AI.....这些都不是关键。</p><p></p><p>创新的人才才是真正的关键。从计算机的教育系统开始，如何去培养这种创新性人才？如何给予这些创新性的人才一些精神和物质上的资助，这些很关键，这样才能让这些创新性人才不停发展。</p><p></p><p>基础软件的商业模式还是比较难的，所以培养人才比较关键，从学校开始，包括社会上的支持，共同打造整个人才发展的路径。</p><p></p><h2>开源是机会</h2><p></p><p>开源对操作系统发展来说，是很大的机会。如果了解了操作系统和开源的历史——尤其是理查德·斯托曼发起的开源运动，它标志着整个Linux生态野蛮生长，就知道开源对操作系统来讲，是一个绝妙的机会。因为它带来了几点好处：</p><p></p><p>首先，开源这种合作模式是一个全球异地化的合作模式。</p><p></p><p>另外，它需要企业之间的合作、协同，而不是单一的企业搞一个小作坊就能生产出一套软件来，因为现在软件越来越庞大，系统越来越复杂。</p><p></p><p>除了企业之间的合作，它也是人与人之间的一种合作模式。这有利于更好地发展软件的可交互性和稳固性。</p><p></p><p>还有一点就是开源的商业模式，我希望未来开源软件有比较好的商业模式，这样才能支撑开源软件的发展。比如说单个项目的开源版本、商业版本、收费服务、订阅服务，需要我们去尊重开源软件、基础软件开发者的劳动成果。另外还有用开源项目做成产品化的。这些就是开源的商业模式。</p><p></p><p>还有开源软件的生态环境，这也是为什么开源能够发展得如此大的一个重要原因。比如像现在的开源芯片RISC-V，在短短的几年之内发展势头非常迅猛。</p><p></p><p>Linux操作系统已经有30多年的历史了，现在依然占据着很重要的位置。另外中间件，比如像K8s、AJX这种边缘中间件、编排管理中间件、甚至一些调度中间件，它们形成了操作系统中间件的一层很稳固的生态。从生态环境来看，无论从底层到上层，从硬件到软件，它们是很好的环境，有利于整个生态的发展。</p><p></p><p>另外，对每个工程师来讲，开源是一个可以自我成就的过程。从组织上讲是全球的协作分工，大家能学到很多东西；从技术上讲，很多开源项目都来源于大企业，你可以和顶尖人才去交流。</p><p></p><p>最后就是人才方面。它能够帮助我们培养出更多具有先进软件工程思想的人才，有利于发展我们自己的基础软件，所以说开源是我国操作系统发展的一个绝好的机会。</p><p></p><h1>总结</h1><p></p><p>如果我们看过历史，看过未来，却不去思考，那将是一种毁灭性的灾难。</p><p></p><p>内核依然要坚持，因为内核才是根。比如说有个内核过了ASIL-D认证，那它就是一个安全的内核，可以应用到很多安全的行业里去。</p><p></p><p>中间件是发动机，是最需要创新的地方，也是我们把它称之为操作系统的地方。如果未来我们有一个称之为操作系统的东西，那它一定是在中间件和传统的操作系统上有很大的不一样，无论是和Linux、安卓或者其他操作系统。中间件是发动机，是我们需要创新的地方，是我们需要改变软件架构思想的地方。</p><p></p><p>应用也非常关键，是连接、繁荣整个生态的地方。但是没有好的发动机，没有好的根，应用也会死亡。</p><p></p><p>所以，未来的系统是一个软硬结合的系统，软件离不开硬件，硬件离不开软件；未来的系统也是一个端云结合的系统，从端侧到云侧，端、边、云协同工作，成为一个整体。</p><p></p><p>还有技术与行业的结合，把移动互联网的技术，一些新的技术，应用于行业当中，帮助行业做数字化转型，推动整个行业发展，也是未来智能系统的一个很关键的要素。</p><p></p><p>最后是边缘。边缘是系统发展的未来，因为无论是从端侧，还是云侧，现在都开始往中间走。所以我认为边缘是一个很重要的场景。边缘算力网络未来必定会成为整个智慧行业的中心，无论是智能楼宇还是智慧家庭。</p><p></p><p>讲师介绍</p><p></p><p>刘寿永 ，中科创达软件股份有限公司战略产品部 首席架构师。2011年至今在中科创达从事软件开发相关工作，任职战略产品部首席架构师，负责中科创达操作系统相关技术和产品的设计与研发，熟悉高通、Intel、ARM、海思、展讯、MTK等多个芯片平台，主要专注在Linux/Android/鸿蒙/RTOS等操作系统整个架构设计和生态建设。积极贡LF/LFEdge/AGL/Autoware/RISC-V等开源社区和技术联盟。和芯片厂、OEM、OEM、操作系统厂商、互联网、开源基金会等产业链上下游共同合作，为行业客户提供稳定易用的Mobile/IoT等操作系统平台方案和产品。</p>",
    "publish_time": "2023-01-09 11:44:21",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "IT系统为什么需要可观测性？",
    "url": "https://www.infoq.cn/article/2rkRbQ4m88UD6S0Aqrjt",
    "summary": "<p>为什么需要可观测性？是新瓶旧酒的概念炒作，还是指标、日志、追踪数据的统一管理，抑或是解决分布式系统的未知问题？我们的答案是：可观测性的价值在于大幅提升IT人员的开发和架构能力。本次活动将从可观测性的核心概念出发，深入探讨可观测性平台的三个关键能力及三类构建方式，为可观测性的系统性落地指明道路。本次活动亦将通过对金融、运营商、智能制造等大型行业用户的实战用例分析，进一步说明可观测性可以解决的实际问题，以及可观测性如何为各行业的IT人员带来认知与技能的真正提升。</p>",
    "publish_time": "2023-01-09 13:24:15",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "构建统一的云原生应用可观测性数据平台",
    "url": "https://www.infoq.cn/article/cJrI2mJLDweVsYsv1qZu",
    "summary": "<p>\"随着越来越多的应用采用云原生架构，可观测性的受关注程度急剧上升，成为2021年业界讨论的云原生热点话题。在Metrics、Tracing、Logging三大支柱理论体系的指导下，开源社区已经形成了一大批优秀的可观测性软件组件和解决方案。然而企业在实际践行可观测性的过程中，往往会遇到应用代码改造多、观测数据割裂、数据引擎性能瓶颈等挑战，阻碍可观测性乃至云原生的快速落地。</p>\n<p>基于云杉网络可观测性平台DeepFlow的长期技术积累，我们将其核心 —— 零侵扰的可观测性数据引擎 —— MetaFlow正式开源。MetaFlow深入运用了领先的eBPF技术，并结合高性能的数据传输管道、统一数据标签、统一数据查询体系，帮助用户组合Grafana、Prometheus、Skywalking、ClickHouse等开源技术栈搭建一套完善的云原生应用零侵扰可观测平台。\"</p>",
    "publish_time": "2023-01-09 13:24:31",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "高清云网可观测之全链路追踪实战",
    "url": "https://www.infoq.cn/article/rgGX6UEaZw1DE3EMoqIw",
    "summary": "<p>随着可观测性话题的热度越来越高，链路追踪也被频繁的谈及到，但开发人员的主要关注点通常只停留在应用代码层面，对冰山之下深不见底的云网络知之甚少。由于云网络的复杂性，“网络问题”经常成为应用故障用于甩锅的话术；由于云网络可观测性的缺乏，大量问题遗留下来成为悬案并又频频重现。对云网的诊断如何才能摆脱对云厂商的依赖？如何解释客户端的高时延和服务端的风平浪静？K8s Service NAT前后的流量如何追踪？VXLAN、IPIP、GRE等层层隧道封装的流量如何追踪？穿过云上云下错综复杂的各类网关流量如何追踪？云网络的全链路追踪问题实实实在在的困扰着我们的工程师们！</p>",
    "publish_time": "2023-01-09 13:24:33",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "5GC与电信云构建云网络可观测性平台的必要性",
    "url": "https://www.infoq.cn/article/XDD4gmQBcPrydcAGgvu2",
    "summary": "<p>\"随着5G核心网NFV化的技术演进，IT领域的云技术、容器技术在通信网得到越来越广泛的应用，伴随而来的是在新的技术架构下5G核心网运维和可靠性保障的巨大挑战。</p>\n<p>首先现阶段5GC运维工作面临着系统“黑盒化”、运维技术难度高、跨专业协同难、故障定界难、面向业务保障难等诸多困难；其次5GC三层解耦演进的工作推进困难。</p>\n<p>为什么会出现这样的局面呢？根本的技术原因在于，在新的技术架构下云基础设施运维与上层软件运维之间隔离，缺乏跨专业、跨技术栈的运维方法和工具。而云网络可观测性则是拉通5GC和网络云之间运维能力，消除三层解耦的阻塞点，实现网络云和云上5GC业务高可靠性运行的必要手段。\"</p>",
    "publish_time": "2023-01-09 13:24:45",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "DeepFlow —— 开启高度自动化的可观测性新时代 - 第八期",
    "url": "https://www.infoq.cn/article/Xb2FfL5eaY1i3l32aLZx",
    "summary": "<p>为了让观测更自动，让开发者更自由，云杉网络开源了 DeepFlow（原名 MetaFlow），它是一个高度自动化的可观测性平台，能够显著降低开发者的埋点、插码、维护负担。DeepFlow 通过 AutoTagging 机制打破数据孤岛，解锁数据下钻能力；基于创新的高性能 SmartEncoding 机制告别高基烦恼和资源焦虑。我们很高兴宣布 DeepFlow 第一个开源版本的发布，基于eBPF/BPF 的技术创新，使得它能够自动化的呈现任意服务的全栈性能指标、全景访问依赖，并能够自动追踪Spring、Istio等架构下的分布式调用。在此基础上，DeepFlow已支持集成并无缝关联 OpenTelemetry、SkyWalking、Prometheus、Telegraf数据，下一步还将逐步集成 Sentry、Promtail、Fluentbit等。DeepFlow 是我们给这个世界精心准备的一份礼物，期待和你分享这一时刻。</p>",
    "publish_time": "2023-01-09 13:24:58",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "挥别“中国芯”？消息称戴尔计划2024年全面停用中国芯片",
    "url": "https://www.infoq.cn/article/7buffIjmsP0LumMANDhP",
    "summary": "<p></p><blockquote>全球芯片产业变局不断，对“<a href=\"https://www.infoq.cn/article/IIrxAaTj0zL0vmWeDqMl\">中国芯</a>\"”而言，有“危”亦有“机”。</blockquote><p></p><p></p><h2>消息称戴尔计划明年逐步淘汰 PC 产品中的国产芯片</h2><p></p><p>&nbsp;</p><p>近日，据《日经亚洲新闻》援引知情人士消息称，戴尔计划到 2024 年停止在产品中使用由中国生产的芯片。</p><p>&nbsp;</p><p>据悉，戴尔在 2022 年年底就告知供应商，公司目标是要“显著减少在产品中使用中国制造芯片的数量，包括非中国芯片制造商在中国工厂生产的芯片”。到 2024 年，戴尔要实现其产品使用的所有芯片都在中国以外生产。而且在此之前，戴尔就打算大幅减少产品中使用的中国制造集成电路。知情人士补充道，除芯片外，戴尔还要求电子模块和印刷电路板等其他组件的供应商和产品组装商，提高在中国以外国家的产能。</p><p>&nbsp;</p><p>目前尚不清楚戴尔是否真的从 2024 年开始执行这一政策，亦不清楚此次供应链多元化调整是否/或将如何影响成品价格。</p><p>&nbsp;</p><p>据《时代财经》报道，戴尔 CPU 和 GPU 主要供应商是英伟达、AMD、<a href=\"https://www.infoq.cn/article/SBvuCMSKhdFQlvRbovdZ\">英特尔</a>\"，这些芯片并不在中国大陆制造，戴尔的芯片政策可能会影响国内通信芯片、电源管理芯片等领域的企业。</p><p>&nbsp;</p><p>据了解，中芯国际和华虹等中国芯片制造商生产的大多是相对简单的低端芯片，包括用于各类 PC、显示器、键盘、鼠标和其他设备的显示驱动器集成电路（MCU）、电源管理集成电路（PMIC）及微控制器单元（MCU）产品。与此同时，三星和 SK 海力士等厂商在中国工厂中生产 3D NAND 和 DRAM 芯片，美光则在中国设有测试和封装工厂。</p><p>&nbsp;</p><p>广东一家为戴尔制造显卡的工厂对《时代财经》表示，厂里一直在做戴尔订单，目前没有受影响，“（戴尔）很多芯片都是从中国台北、中国香港周转过来的，GPU 生产全部来自境外。”戴尔很多零件产地是广东、江苏等省份，包括电容、电阻，“若戴尔改用国外厂商，可能导致某些国内工厂停产，影响交料给我们”。</p><p></p><h2>戴尔回应：正在全球范围内不断探索更加多元的供应链构成</h2><p></p><p>&nbsp;</p><p>目前，戴尔并未证实到 2024 年在产品线中剔除中国制造芯片的计划，仅表示“正在全球范围内不断探索更加多元的供应链构成”。</p><p>&nbsp;</p><p>有评论认为，戴尔现在的生产很大程度上依靠中国供应链，但从全线产品中剔除中国制造芯片是一项艰巨的任务，因为众多设备是由第三方生产，搞清楚其中的元件来历和用途并非易事，由此引发的成本震荡更是难以估量。</p><p>&nbsp;</p><p>一位为戴尔和惠普供应芯片的芯片制造商高管向《日经亚洲新闻》证实，“笔记本电脑中有成千上万的组件，中国多年以来已经发展出一套非常成熟和完整的生态系统。以往我们就知道戴尔计划从高度依赖中国转向多元供应，但这次的行动有点激进。戴尔甚至打算直接拒绝使用中国制造的芯片，理由是担心美国政府的政策……而且这不是立场表达、不是空口白话，而是一项真实的、正在推进的计划，整体趋势看起来已经不可逆转。”</p><p>&nbsp;</p><p>公开信息显示，戴尔在国内的关联公司戴尔（中国）有限公司成立于 1997 年 12 月，该公司共有 20 余家分支机构，包括沈阳分公司、西安分公司、南京分公司等，其中戴尔（中国）有限公司杭州办事处、戴尔（中国）有限公司成都分公司等 8 家已被注销或吊销。年报信息显示，戴尔中国 2021 年参保人数为 3332 人。</p><p></p><h2>对国内半导体产业而言，有“危”亦有“机”</h2><p></p><p>&nbsp;</p><p>近两年，全球半导体产业来到转折点，“缺芯潮”、“涨价潮”不断。</p><p>&nbsp;</p><p>有分析师悲观地预测，2023 年全球芯片市场将出现不可逆的极度衰退。花旗分析师 Christopher Danely 更是预计，芯片行业的下滑将是至少十年甚至二十年来最严重的。他指出，每一家公司和每一种芯片产品都可能受到影响。</p><p>&nbsp;</p><p>有专家表示，戴尔此次全面停用中国芯片，如果搞成供应不足，将对其发展非常不利。</p><p>&nbsp;</p><p>据《环球时报》报道，通信行业资深专家项立刚表示：“中国制造的芯片总体来说成本更低，现在个人电脑这样的产品利润空间并不大，竞争非常激烈。如果一家企业生产成本上升，影响是非常负面的。”项立刚说，戴尔现在的生产很大程度上依靠中国供应链，如果要去找替代方，短时间内很难解决。“在这个过程中，企业本身就会伤筋动骨，如果搞成供应不足，那对它的发展就非常不利，造成竞争力下降。最后就只能回到美国销售，把其他竞争对手赶走。”</p><p>&nbsp;</p><p>总的来说，戴尔此举对于对国内半导体产业而言，有“危”亦有“机”。</p><p>&nbsp;</p><p>存储芯片厂商深圳市铨兴科技有限公司黄少娃在接受《时代财经》采访时表示，这是中国芯片企业的机会。她表示，国内很多应用终端都在用国外的芯片，要提倡用国货、倡导内循环，大力推动产业链上下游协同，加速国产供应链完善。</p><p>&nbsp;</p><p>尽管当前全球半导体产业风云变幻，但近几年，芯片国产化成果有目共睹。</p><p>&nbsp;</p><p>大概从 2014 年开始，国内开启了芯片<a href=\"https://www.infoq.cn/article/SS8RFtU37FI6Ay7l1aVK\">国产化</a>\"替代潮。不到十年时间，从无到有，从有到优。虽然当前最先进制程的高端芯片全套工艺以及设备国产化存在一定难度，但中低端芯片已经基本实现了自给自足。</p><p>&nbsp;</p><p>半导体行业人士陈启此前在接受 InfoQ 采访时曾表示，“这几年，芯片国产化的成果有目共睹，这也是全体半导体行业上下游共同努力的结果，下游给机会，上游能进步。一方面，资本以及其他生产关系资源进入到了半导体行业，形成良性循环；另一方面，下游客户态度发生了巨大改变，从过去的不敢用、不敢试，到现在的敢用、敢试，上游供应环节也从简单的打价格战，变成了靠产品综合实力打天下，靠技术赚钱，靠实力拿订单。这种产业链上下游态度上的转变，带来的影响力是巨大的，是正面的。”</p>",
    "publish_time": "2023-01-09 14:17:21",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "DeepFlow —— 开启高度自动化的可观测性新时代",
    "url": "https://www.infoq.cn/article/Xb2FfL5eaY1i3l32aLZx",
    "summary": "<p>为了让观测更自动，让开发者更自由，云杉网络开源了 DeepFlow（原名 MetaFlow），它是一个高度自动化的可观测性平台，能够显著降低开发者的埋点、插码、维护负担。DeepFlow 通过 AutoTagging 机制打破数据孤岛，解锁数据下钻能力；基于创新的高性能 SmartEncoding 机制告别高基烦恼和资源焦虑。我们很高兴宣布 DeepFlow 第一个开源版本的发布，基于eBPF/BPF 的技术创新，使得它能够自动化的呈现任意服务的全栈性能指标、全景访问依赖，并能够自动追踪Spring、Istio等架构下的分布式调用。在此基础上，DeepFlow已支持集成并无缝关联 OpenTelemetry、SkyWalking、Prometheus、Telegraf数据，下一步还将逐步集成 Sentry、Promtail、Fluentbit等。DeepFlow 是我们给这个世界精心准备的一份礼物，期待和你分享这一时刻。</p>",
    "publish_time": "2023-01-09 13:24:58",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "当架构进入“超高可用”时代，信创环境下的应用可持续运行得到保证",
    "url": "https://www.infoq.cn/article/NxlCZeoELmWxa1N0vAr2",
    "summary": "<p>2023年，一个全球化部署的业务还需要停服更新？</p><p>2023年，打开一个应用的加载时间还需要以分钟计？</p><p>2023年，一个系统的访问延迟还停留在分钟级时代？</p><p>&nbsp;</p><p>数字化时代，我们的信息水平在显著提升，但上述三种情况并没有完全消失。如今，仍然有大量的应用在持续性层面存在问题，现阶段只有1%（数据来源：艾瑞咨询研究院发布的《数字时代应用可持续性和验证白皮书》）的用户认为数字化体验达到了自己最初或者最好的预期，而这种应用不可持续性问题最直接影响的就是企业收入，Facebook在2021年10月初宕机三小时导致市值蒸发数十亿美金。</p><p>&nbsp;</p><p>既然技术如此重要，那么砸钱、砸人是不是就能解决了？</p><p>&nbsp;</p><p>且不论很多企业没有办法像互联网大厂、四大行、三大运营商那样投入大量资源达成目标。即便可以，应用本身的流量是不稳定的；技术栈也在逐年变化；新的诉求不断产生，比如实现对系统全链路的可观测；信创对系统全部迁移完成的时间做出了明确规定，企业无法按照原计划逐步替代旧有系统......每一项变数都将企业陷入多难境地。</p><p>&nbsp;</p><p>既然现有方案无法解决问题，我们就需要反向思考：满足数字化及信创要求的、满足应用可持续性要求的、满足不断变化的业务要求的架构应该长什么样子？</p><p></p><h2>探索架构新模式：双轨超高可用架构设计</h2><p></p><p>&nbsp;</p><p>当下，维持应用可持续性的架构主要分为两大流派：一是F5过去多年在金融领域主要推广的双活数据中心架构，这种分布式的体系可以保证单节点出现故障不影响整个应用运行；二是以云厂商为主的“Design for Failure”模式。前者在五年前是非常先进的架构模式，但现在已经无法满足企业“多云多活”的现状；后者对企业而言的实现门槛颇高，不投入一定的资源是很难建成企业级解决方案的。</p><p>&nbsp;</p><p>基于此，神州云科试图以全新的架构来解决应用可持续的问题，这种新的模式就是双轨超高可用架构设计。</p><p><img src=\"https://static001.infoq.cn/resource/image/8f/c4/8ff018b24e9aca6fcffdd1e2dc8c2ac4.png\" /></p><p></p><p>神州云科副总裁，通明湖云和信创研究院副院长吴静涛表示，“在提出双轨超高可用架构之前，神州云科一直专注和实现应用领域的高可用，通过产品和解决方案帮助用户实现从小机到X86服务器的过渡，从大机时代到X86服务器时代的更迭，再从X86服务器时代到虚拟化、云时代的更迭。应用平滑迁移，应用高可用，全局智能调度，应用安全和应用优化一直是神州云科专注和擅长。在应用交付走向国产化信创的时代，神州云科考察和调研了用户在信创建设过程中所面临的痛点和挑战。基于此，提出了双轨超高可用架构的解决方案。”</p><p>&nbsp;</p><p>双轨超高可用架构解决方案的设计理念是两个分和四个原则。第一个“分”指的是分阶段建设思想，即用户在信创建设过程中采用分段的建设思路。在第一阶段，用户先实现信创业务和非信创业务的双轨运行模式；第二阶段，用户可以分批次逐渐扩大信创建设的业务范围；第三阶段实现全栈信创。第二个“分”指的是分区、分域、分中心的思想，基于此思想对信创建设进行统筹规划，分阶段故障隔离以稳步推进信创建设。四大原则则分别是：超高可靠原则，高效推进原则，业务创新原则，安全防范原则。这四大原则基本满足了用户在信创建设中所要达成的目标。</p><p>&nbsp;</p><p>从架构层面，双轨超高可用架构可以看作是高可用架构的另一种表现形式，这里的“双轨”主要指的是在跨中心和跨区之间增加了域的逻辑层，实现了跨中心、跨域和跨区的协同。比如信创域和非信创域之间的调度，在域里边还有互联网区、核心业务区、一般业务区之间的调度。</p><p>&nbsp;&nbsp;&nbsp;</p><p>举例来说，一个业务在同一个数据中心里面无法同时运转在信创域和非信创域，一旦信创过程出现什么问题，系统无法回退将会给企业带来巨大的损失。双轨超高可用架构就可以很好地解决这个问题。</p><p>&nbsp;</p><p>那么，这种信创域与非信创域之间的协同调度具体是如何设计出来的呢？</p><p></p><h2>双轨超高可用架构设计思路</h2><p></p><p></p><p>首先，信创域与非信创域在能力编排、服务构建等层面是一样，既包含传统互联网业务，也包含云原生业务，二者之间的协同调度则通过五大引擎来实现。</p><p><img src=\"https://static001.infoq.cn/resource/image/dc/1b/dc11d8d11040cdf766915d865a192f1b.png\" /></p><p>一是高可用调度引擎，其主动与信创域进行协同和调度。一旦信创域出现任何稳定性问题，该引擎负责立刻将流量切回到传统的非信创域系统。如果运转良好，则可以将非信创域的业务负载逐渐向信创域灰度交接。其具备如下三大特点：一是实现对信创业务的充分验证，企业可以复制真实的业务报文到信创区域进行充分验证，消除未知隐患；二是支持动态调整信创业务比例，企业可以精准识别业务类别，动态调整比例分配，从而保障信创业务的真实可用；三是实现信创业务的应急逃生，通过高可用调度引擎及时发现未知风险，实现业务的秒级切换，这样的好处是可以原封不动地保留信创业务的故障现场，方便分析以排除隐患，为下一次的成功上线做准备。</p><p>&nbsp;</p><p>二是安全服务编排引擎。当部分业务需要防火墙等做应用和网络攻防，或者需要3A认证和SSL加解密，该引擎可以根据应用特征做安全流量编排。该引擎的特点是可以实现降本增效，对于安全设备的池化部署可以弹性扩展，并提高攻防对抗能力，提高可用性；池化之后还可以支持异构部署，池内的安全设备是异构状态，实现了信创业务的架构创新，提高整体信创业务的攻防对抗能力；支持灰度发布，实现安全服务动态编排，安全策略灰度发布，从而有效避免因此出现业务拦截。</p><p>&nbsp;</p><p>三是信创高可用引擎。信创环境中的服务器、存储、操作系统、中间件等的良好运行均可通过神州云科的双轨超高可用架构技术能力得到保证。神州云科双轨超高可用架构解决方案可以为信创环境应用的可持续性提供负载均衡与应用交付服务。此外，在云原生架构转型过程，神州云科可提供以NGINX技术为实现原理的现代应用高可用引擎，类似互联网公司的四层用ELB技术，七层用ALB技术架构。</p><p>&nbsp;</p><p>五是大数据引擎。神州云科在2019年基于探针技术研发了大数据引擎，进而实现了可观测性。大数据引擎可以率先发现问题根因，通过控制业务切换节奏来保证现网业务的绝对稳定和可靠。该引擎的特点是实时无侵，可以实现T+0的数据收集，包括对双轨运行状态的全景监控；基于这样的监控实现全程可视，实现网络质量、用户体验、用户行为分析等全路径的监控；支持快速排障，通过大数据引擎实现对于业务统一路径的监控，快速定位问题，发现问题并排除故障。</p><p>&nbsp;</p><p>吴静涛强调，“五大引擎是双轨建设的核心灵魂。双轨超高可用架构的技术优势是实现了对于信创的高可用引擎和高可用调度引擎的智能协议级互联互通。高可用引擎可以通过信创引擎快速感知到信创业务的状态，从信创引擎里汲取必须要判断的信息，可以作为对一个业务质量的综合判断。体现的动作就是可以动态调整信创业务的分配比例，这是一个自动化的过程。甚至在一些极端情况下，还可以实现对于信创业务的应急逃生。”</p><p>&nbsp;</p><p>基于这五大引擎，双轨超高可用架构可以极大帮助客户在信创过程中规避稳定性、可靠性或者用户体验层面的风险，确保主营业务或者核心业务平稳地进入信创区域。</p><p>&nbsp;</p><p>从海外厂商提供的技术转向国产化信创技术，从主要依靠硬件的高性能转变为虚拟化甚至是云原生服务，从讨论端口、吞吐以及其他指标到现在讨论如何通过架构的形式实现可持续、可观测的服务，设备本身的性能和功能不是那么重要，架构是第一位的。神州云科认为最核心的是整个切换过程在保证可持续的过程中真正实现架构统一，统一纳管和服务才能保证企业以最低的风险完成迁移，而全过程的用户体验是没有任何区别的。</p><p></p><h2>如何在信创环境中落地？</h2><p></p><p></p><p>如果企业希望在内部落地双轨超高可用架构，大概可以为分为三步：一是进行充分验证之后实现信创双轨建设，重要业务、核心业务逐渐往信创切；二是不宕机的情况下进行灰度迁移；三是全部流量切换至全新的信创环境中。在该架构的帮助下，过去五年甚至十年的工作可以在两到三年时间全部完成。</p><p>&nbsp;</p><p>以某银行的实际经验为例，起初该银行采用的是相对激进的新老系统替换的方式，最终由于对信创业务不熟悉导致业务稳定性很差，经常性出现业务故障，甚至遭到了行内多个领导的投诉。显然，这种盲目推进信创建设的行为是比较欠考虑的，且出现问题之后很难进行排查和故障定位。最终，该银行决定实践双轨超高可用架构，通过将部分核心业务在信创区域和非信创区域进行双轨运行，按照一定比例进行业务发布，充分预留出容错空间，为业务平滑性提供了稳步推进。最后，神州云科利用大数据引擎，帮助用户构建了一个大数据分级平台，通过这种无探针的采集实现了T+0的业务可视化。不仅帮用户解决了信创业务上线的可靠性问题，还帮助用户构建了信创业务全路径的可视化。</p><p>&nbsp;</p><p>与此同时，神州云科在架构设计的过程中同样围绕国内主流的硬件厂商做了很多兼容验证性工作。在负载均衡部分，研发团队突破了很多难题，最终云科通明湖信创系列产品性能突破了80G的大关，足以满足当前绝大多数客户在信创应用交付领域的性能需求。此外，神州云科的容翼系列产品在设计之初就考虑到要与云原生与微服务应用进行结合，以容器为底座并进行了API优先设计，可以帮助客户自动实现应用快速调用或者批量配置下发。在网络端口设计部分，该架构的高端接口部分设计了百G的网络接口，中低端在25G左右，这些接口全部都可以向下兼容，可以满足当前客户未来对于高流量输入输出的需求，同时兼具了绿色节能低碳环保的设计理念。</p><p>&nbsp;</p><p>随着相关文件的出台，企业的信创进程明显加快。在这个过程中，企业内部的组织架构、技术栈设计等难免出现各种问题，只有可以充分容错的架构设计方案才可以更好地满足要求。信创不是唯一目标，业务和应用的可持续运行才是，双轨超高可用架构则在二者之间达到了绝妙的平衡。</p><p>&nbsp;</p>",
    "publish_time": "2023-01-09 14:25:52",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "2022 年数据库发展总结：中国和海外数据库差距还有多远？",
    "url": "https://www.infoq.cn/article/wrDYuuQBG4kTLYe9K1PU",
    "summary": "<p></p><p>中国数据库行业随着 2021 年 7 月 PingCAP 完成 3.4 亿美元融资，估值达到 30 亿美金，把中国数据库行业引爆了。2022 年 12 月 23 日达梦数据库 IPO 顺利过会，如果上市成功预计估值在 500 亿人民币，不出意外的话，这将是科创板最大的 IPO 之一。</p><p></p><p>那么你知道中国的数据公司有多少吗？据不完全的统计已经超过 300 多家，那 2023 年数据库市场又会是什么变化呢？我这里抛出来 5 个问题借本文与大家讨论一下。</p><p></p><p>Q1. 中国和海外数据库的差距还有多远？</p><p>Q2. 未来是 OLTP 还是 OLAP ？</p><p>Q3. 从国际上来看 HTAP 是不是未来？</p><p>Q4. MySQL DBA 和大数据从业者会有什么改变？</p><p>Q5. 现在还是不是数据方向的创业好的时机？</p><p></p><h4>Q1：中国和海外数据库的差距还有多远？</h4><p></p><p></p><p>也许有很多朋友认为，我们现在国内有 300+ 数据库公司，每家公司的产品都有独到之处，如果从全球的数据库上来看，我们应该是最先进的了吧。例如 2019 年 OB 打榜了 TPC-C，全球开源项目 TiDB……</p><p></p><p>如果单纯的比较中国数据库和海外数据库差多远，其实都比较主观，那么不如通过 OB 打榜 TPC-C 来分析一下。</p><p></p><p>其实如果懂行人来看 OB 打榜第一名，感觉说是中国数据库第一次参与了 TPC-C 更有意义。2019 年 OB 打榜 ，距离上次 Oracle 2010 年的打榜过去了 9 年，在硬件、系统、软件都有变化的情况下做到了和 Oracle 上次打榜基本相同的成绩：tpmC 为 6.25，Oracle 第二名 1.01USD，从成本上来讲几乎是相差无几。OB 打榜公布的第一次打榜费用是 380,452,842 元，通过这件事情可以说，我们追上了人家 9 年前的实力。也许是被行内人指出来了，OB 也觉得需要再次雄起一下，2020 年 OB 再次打榜 TPC-C 花费 2,814,509,552 元，实现 3.98 元 /tpmC。细心的朋友可能对比出来了，硬件再次提升了，机器规模又翻 7 倍 + 的情况再次打榜。因为每家的 TPC-C 压测程序都不开源，大家也基本是压着 tpmC 上限是 12.86 测试，高于这个值就被视为全内存操作的无效测试。</p><p></p><p>粗略整理了一些数据方便对比：</p><p></p><p><img src=\"https://static001.geekbang.org/wechat/images/14/146a15a4f11940958feea763021b0ed3.png\" /></p><p></p><p>从上面的数据看，测试数据基本上都是贴着 12.86 进行，你懂的。</p><p></p><p>如果通过这个测试来对比中国数据库和海外数据库的先进性，我的观点是：</p><p></p><p>中国的分布式数据库可以进行 PB 级别的操作中国的分布式数据可以进行到上十万个 + core 一起工作中国分布式服务器可以达到上千台一起工作</p><p></p><p>那我们先进吗？我只能说我目前没看到有项目能运行起来这个环境，毕竟一个数据库项目花 28 亿人民币（3 年费用），我还没见过。OB 的测试是基于云上来评测的，我们也来看看海外云上的 RDS 及对应的报价。</p><p></p><p>Oracle Cloud 上 MySQL 报价</p><p></p><p><img src=\"https://static001.geekbang.org/wechat/images/e6/e6e517dcf9345e4485f316c908cd4802\" /></p><p></p><p>MySQL 单集群 HTAP 解决方案，月成本：2 万美金，存储最大支持：50T。</p><p></p><p>AWS Aurora VM 报价</p><p></p><p><img src=\"https://static001.geekbang.org/wechat/images/7a/7a4a981aa814e961fc687fbaba7123e4\" /></p><p></p><p>AWS 的 Aurora 最高配支持 5 PB 存储，每月 517,256 美元，其中存储太贵占到了 512,000 美元，实际生产中肯定不会这么干，因为真正的 OLTP 数据不会有这么多，更多的数据可以归档到 Databend、Snowflake 类在线数仓中来降低成本，这类云数仓每 TB 的成本在一个月 120 元左右。</p><p></p><p>阿里云 PolarDB</p><p></p><p><img src=\"https://static001.geekbang.org/wechat/images/e2/e27232f7cc698f9971854de78799ee5c\" /></p><p></p><p>就成本来算，我觉得阿里的 PolarDB 价格是优于 Oracle、AWS 的价格。我们再回过头来看，中国的数据库和海外的数据库差距还有多远？</p><p></p><p>从 DB-engines 排名上看 TiDB 排名 49 位，GBase 排名 79 位，OceanBase 排名 87 位，TDSQL for MySQL 排名 101 位，前 150 名排名中阿里云进入 4 位。我感觉到我们部分场景确实超越海外的产品，但感觉海外的产品在向着更加务实的方向发展，反观国内这种超大集群的引导，造成了用户不必要的成本浪费。海外数据库今年发展方向：</p><p>云原生方向：CockroachDB（排名 34 位）, YougabyteDB （排名 44 位）, Snowflake （排名 8 位）更加易用的方向发展：更方便维护，例如 PlanetScale 在 OLTP 中对数据引入 &nbsp; git branch 概念DB Serverless 按使用时间付费，存储按使用空间付费，不再为预留付费</p><p></p><p>从这些方面看来，国内的数据库追赶的很快，国内也有上面类似的产品，但真正 get 到灵魂，这些理念被企业所接受，估计还需要 3-5 年时间。</p><p></p><h4>Q2：未来是 OLTP 还是 OLAP ？</h4><p></p><p></p><p>首先从 TPC-C 打榜上来看，数据库厂商对于这个 Benchmark 大都失去兴趣了，也冷静了，微信群里也没有因为打榜而进行口水战，我们也成熟了。因为基本上大家也都明白，在一定成本预算下，选择出来合适的产品就可以。例如，业务对 SQL 响应指标要求 500 ms 以下，支持 3000 QPS 就可以满足业务，支持到 IPO 没啥问题了。在这样的前提下，大家肯定不再是按打榜来选择，因为大家在数据库这个方向上有所积累后，可以选择的开源产品太多了，甚至云上的 RDS 采购一个也够用了。整体上来看现在的 OLTP 已经非常成熟，现在 OLTP 卖货，更多是打着安全、有保障、合作联合开发（卖数据库保险一样在卖货）。</p><p></p><p>大家口水了多年的 MySQL、PostgreSQL 谁更强，争论多年后，也终于有了一个初步的结果。在互联网领域里 MySQL 还是当之无愧的王者，Pg 也在国产化领域中披上各种马甲在冲锋，MySQL 也在披着马甲，还有套着 Pg 往前冲的。也可以说 OLTP 基本是一种成熟状态，最终谁能在这波浪潮中赢下来，就看谁能拥抱一个更加开放的生态，整合更多的合作伙伴，输出更多解决方案，例如银行系统运行、火车票售票系统、电力的数据库系统等。</p><p></p><p>虽然 OLTP 比较成熟，但通常它的成本也比较高，大家也会把 OLTP 的数据慢慢转向 OLAP 对外提供服务，也就意味着 OLAP 可以创造更多的财富？我现在算是从 OLTP 跨入了 OLAP ，给大家分享 2022 年我看到的两个案例：</p><p></p><p>Case1：一个朋友在从事猎头行业，别人找他要人后，他总能很快的找到合适的人给甲方，并较快的获得到甲方的认可。这个事情，最初我看到觉得他太牛 X 了，我也非常好奇他怎么做到的？后来熟悉后才知道他就是 OLAP 运用的高手，他获取 gharchive.org 上数据存入 Databend(Databend + COS) ， 然后对甲方想要的技术人员画像，这样些人可能对什么 Repo 感兴趣，然后找到对应的 Repo 中的贡献者，联系其中活跃的人，给他们分享机会，获得认可。他是我见过转猎头比较成功的程序员。Case 2：分析区块链钱包，进行跟投（纯属虚构）我们在炒股中，经常想着可以看看今天谁买了什么，或是大家都在买什么就可以有很多决策了，但这些数据需要去购买，而且非常的贵，还拿不到成交和账户的对关系。在区块链中，这一切都是透明的，谁花了多少钱，买了什么，这一切都在链上。今年看到一些猛人对链上的数据进行解析后，分析出来盈利最多的 Top 1000，然后再找到适合个人风格的进行跟投。这个也可以说 OLAP 的一个应用。</p><p></p><p>举了两个个人在使用 OLAP 的场景，其实企业的使用 OLAP 的场景也非常多，也有成熟的套路，只是后续的 OLAP 的成本会越来越低，越有利于用户的使用。目前也可以说是海量的数据时代，在 OLAP 中数据到 PB 级都和玩一样，今年经历了 N 多单天数据量在 100T 以上的项目，也让我对 Databend 这个项目产生了非常大的敬意，这类数据的压缩基本能达 8-20 倍的压缩， 同时还能较好的支持计算。</p><p></p><p>新一代的云原生 OLAP 也在替代着传统大数据项目，SQL 成为统一语言，新一代的云原生 OLAP 也会让大数据项目越来越简单。OLAP 让大数据项目也在向着更便宜、更好用、高性能的方向发展。</p><p></p><p><img src=\"https://static001.geekbang.org/wechat/images/14/14e36fcc599fe8d6dbbba847e313ab45\" /></p><p></p><p></p><h4>Q3：从国际上来看 HTAP 是不是未来？</h4><p></p><p></p><p>HTAP（Hybrid transaction/analytical processing）是一个数据库的超融合方案，把事务处理和分析处理都集中在一个系统中对外提供服务。目前这也是 OLTP 方向的数据库在追求的一个重要方向。</p><p></p><p>目前国内实现 HTAP 数据库有：</p><p></p><p>TiDBOceanBasePolarDB （阿里）TDSQL-H （ 腾讯）BaikalDB (百度)</p><p></p><p>海外实现 HTAP 数据库有：</p><p></p><p>MySQL + HeatwaveSnowflakeSingleStore( 前身 MemSQL)AlloyDB( Google)Aurora + Redshift</p><p></p><p>可以说一时间大家把是否支持 HTAP 作为数据库对比的一个重要指标，更夸张的一个论调说：HTAP 是 MySQL 生态的最佳归宿。实质上这里有一个前提，在 10TB 以下 HTAP 感觉可以一战，再大一点 HTAP 的方案的成本不是一般人能扛住。以至于很多用户产品演示时上最贵的 HTAP 过关再说，交付时可能挂一个 PostgreSQL 也能满足客户实际场景的也不少，同时今年可能是因为行情不好，遇到挺多跑 300-400 台 HTAP 集群，数据量在 500T 左右的用户，抱怨复杂 SQL 影响整体集群处理能力，也不太敢扩容，把数据定期归档到 Databend ，利用 Databend + 对象存储对外分担一部分的查询分析，从而降低成本。</p><p></p><p>那么 HTAP 是不是未来？</p><p></p><p>我觉得是的。用户最终赚钱的是业务，让业务可以更加简单的在数据库上运行起来，把 OLTP 和 OLAP 包装起来对用户透明，绝对是一个非常硬的需求，这估计也是 Snowflake 今年增长特别快的原因之一吧。</p><p></p><p>但 HTAP 也有它的局限性，价格太贵。通常在云环境中，我们认为计算和网络是最贵的，但在 HTAP 数据库系统中，当存储增长到一定量时，你会发现好像计算和网络又是最便宜的，但这些相对于对象存储 1T 一个月只要 110 元（国内更便宜）无法相比，这也是我个人感觉 HTAP 适合中小型项目快速 Startup 的原因，让业务赚到钱生存下来，再说利用云原生数据库相关技术把成本和运维降下来。</p><p></p><p></p><h4>Q4：MySQL DBA 和大数据从业者会有什么改变？</h4><p></p><p></p><p>这个时代一切都在变，我刚工作那会能把 LAMP + Squid 在 40 分钟内顺利安装完毕，入职 Sina 都没啥问题了；再早一点时帮别人安装一个 Oracle RAC 一晚上赚个 IBM T40 也没啥问题；再后来 Oracle OCP 失业了，MySQL 时代来了， 大数据时代来了，AI 时代来了，一浪接一浪，总有拍死在沙滩上的，当然也有乘风破浪的弄潮儿。其实在这些 IT 大浪中，你能抓住一浪就基本生活无忧，早期 BAT 的朋友不知道是不是有钱，还看到他们天天加班，但都住着千万以上的房子，开最骚气的车。我说这些是想表达什么呢？我想说：选择比努力更重要。</p><p></p><p>MySQL DBA 和大数据从业者会有什么挑战呢？</p><p></p><p>首先我们来说一下 MySQL DBA 面临什么挑战：</p><p>MySQL 方面的技术，现在非常成熟，合理的使用基本可以做到按年计算不停机使用 MySQL 低级错误越来越少，例如早期做 SQL 注入攻击和检测的，基本不存在了MySQL 在现在开发架构中已经融入 Serverless ， 离服务越来越近更多的用户选择了使用云上 RDS 开局， 传统的 DBA 事情越来越少研究 MySQL 内核上手的人也越来越多</p><p></p><p>现在有利于 MySQL DBA 的点：</p><p>国内化乙方需要一大波交付的 DBA，基本上大家都招聘 MySQL DBA 为主K8s+ MySQL 的融合需要更多面向 IaC 方面的 DBA有较强业务能力的 MySQL DBA 会有越来越多的机会</p><p></p><p>其实早期各个云 RDS 出现后，DBA 圈子里就有一种声音：云平台的 RDS 可能把 MySQL DBA 干掉， RDS 平台的人员还各种掩饰这个问题，现在看来是真正发生了 ：） 其实这个也是可以预见的，一个云平台 RDS 开发通常在百人以上的规模，把 DBA 能想到事情，基本都可以自动化实现了。</p><p></p><p>再来说一下面向大数据人员面临的挑战：</p><p>现在来看 Hadoop 生态，基本要成为历史，笨重的 MapReduce 编程终会被 SQL 替代传统的复杂的大数据会趋向越来越简单化，以前看大数据架构中，很多公司在重度依赖 Kafka，存储可能 40 台，中间的 Kafka + 数据洗清机器可能是 80-100 台大数据架构师决定把数据存储几种数据库，大数据工程师每天就在应对数据的清洗和不同数据源中数据一致性的比对业务产出不明显，但部门成本比较高，更多是面抽报表，ad-hoc 查询生活中心化团队，容易成为瓶颈，整天奔跑在救火线上的工作模式</p><p></p><p>现在利用于大数据从业人员的点：</p><p>内心对数据质量有一定的敏感理解不同数据的使用习惯和资源的空闲经历过大数据业务系统的磨砺（建立在对业务有理解的基础上）</p><p></p><p>大数据平台原来那波 Hadoop 生态的，现在可能是 Hive、Hbase、HDFS 为主，HDFS 的成功，也让很多做对象存储创业的较为成功，例如 xsky 对象存储，在互联网和传统企业都占据了半壁江山。但 Hive 现在也在被很多产品所替代，比如 Doris、Clickhouse、Presto、Trino、Impala，还有国内很多基于 Greenplum 的二开产品，也有新生代云原生数仓如 Databend，都在看着这块市场。</p><p></p><p>那么 MySQL DBA 和大数据从业人员的未来在哪里？</p><p></p><p>MySQL DBA 如果不转型，现在最好的归宿是乙方数据库公司，如果能跟上节奏抓着 MySQL + K8s 或是熟悉 Terraform、SQL 自动审核类工具，了解 CI 还可以在互联网企业一战（DevOPS 运维时代真的来了，运维代码化，避免了面传口授，无法追录过程的运维时代）。其实也给了互联网 DBA 一个更大的想象空间，例如利用云轻松实现多 IDC 多中心设计，利用 metabase 轻松实现一个 CMDB + 数据控查询系统，利用 terraform 轻松把基础资源管理起来。</p><p></p><p>大数据人员现在分为两类，一类是报表展现人员，另一类是数据整理人员。比较危险的是数据整理人员，对于 Databend 这类云原生数仓（ Snowflake 开源实现）中很多理念如果落地，会大大简化大数据方面人力和资产的投入，使大数据走向一个 case by case 的模式，同时又能较方便地实现各部门数据的共享、互惠。大数据人员最终会变成数据质量、数据血缘方面的专家。</p><p></p><p><img src=\"https://static001.geekbang.org/wechat/images/a4/a4d4bf0144e6946a5f8fc7966e2bbadf\" /></p><p></p><p></p><h4>Q5：现在还是不是数据方向创业的好时机？</h4><p></p><p></p><p>对于数据库创业来讲，我觉得今年可能不是一个好时间，但市场也不缺乏好机会。为什么说现在不是一个好时间呢？2021 年资本差不多已经完成了数据软件的布局，很多公司甚至也是高估值拿到了融资，这个过程中也不乏一些摸鱼创业者，其实资本也都不傻，都会看明白的。我们知道对于基础架构的创业比较漫长，看海外的产品 10 年都属于正常现象，第一个 3 年能完成产品开发 + 打磨迭代到成熟，然后就是 3-4 年的生态建设，接下来 3 年才是商业收获的过程，这个过程也可以说是漫长的，对资本来讲是一个收获比较慢的过程。数据库融资方面，感觉在 2021 年 10 月份以后，资本忽然集体冷静下来了。2022 年也可以说是市场最不景气的一年，但也不要泄气，看美国成名的数据库公司也都是在经济危机时间创建的，经济危机时不知道做什么，就节衣缩食，专心做个数据库吧。</p><p></p><p>但我们需要明白，中国的数据库市场规模相对还是比较小，据 2021 年的市场评估，全球数据库市场 700 亿美元，中国市场只有 47 亿美元，仅占 5.2%。这以至于 2022 年大部分数据库公司也在忙着社区建设，更多希望通过开源带动商业发展，导致现在给我的感觉是，全球基础架构开源看中国。</p><p></p><p>国内数据库市场在面对大额采购时，各大公司的 CTO、CIO 可能至少面对 10 家以上（现在数据库估计在 400 家以上）的数据库公司在清洗，大公司的 CTO、CIO 也都是经过市场考验的战士，他们也是冷静的决策者，于是决策过程也变得更加的长。</p><p></p><p>那么现在还是不是数据库公司的创建的好机会？我觉得市场在这个冷静期，以及 2022 年资本市场环境不好，估计 2023 年会有不少数据创业公司离场，但随着达梦 IPO 成功，我估计还会让资本有点小小的冲动。另一个实际情况是 MariaDB 借壳上市到现在直接跌了差不多 70% + 。</p><p></p><p><img src=\"https://static001.geekbang.org/wechat/images/94/94e265d762dd72ee28e046800e8d76ca\" /></p><p></p><p>那对于想进入数据库创业者的机会是什么样呢？</p><p></p><p>和我交流过数据创业的人，我通常给的建议是“求差异，利他人，共建生态“这三点来谋发展。2022 年在做 DTCC 规划过程中，我给唐川讲今年也可以搞一个开源秀，让在 DTCC 参考的嘉宾及公司或是想创业的伙伴有更多的爆光机会，最后经过几轮讨论后，很快就把开源小秀场落地，直至现在已经进行了 7 期，大家可以想想这个栏目为什么能做起来。我在 2022 年遇到同行问的最多一句话是：有没有质量高一点的 meetup 推荐？甚至有的公司已经开始各种地方碰瓷宣传。实质上你会发现海外真正牛 X 的产品对中国都是禁售的，中国的 IP 不能注册，中国的信用卡不支付，所以自家就不用碰了，真正做事，可以研究一下海外的产品吧，一个月 3000-4000 元的基本成本投入就可以把一个基础的数仓项目运营起来，这个放到现在国内的所有的数仓项目中都是无法实现的，真的是创业是我辈当自强。</p><p></p><p>现在看来单纯创业上来讲， 做现有数据库的改善或是增强，甚至是数据生库的服务，都比从 0 开始做一个数据库比较安全。这块在 Rust 生态有一些不错的参考，如：</p><p></p><p>ReadySet 用于提升现有数据库的性能和可用性，支持 MySQL、PostgreSQL，看到这个项目时，也让我想起了内心一直在规划的 update server ，看看别人已经实现了。Polars 轻量级 DataFrame，这块今年美团基于 Databend 社区的 databend-meta 也搞了一个类似的工具，感觉也是挺赞的，这块也是 Databend 2023 的规划之一。</p><p></p><p>我觉得这些是有绝对的生命力，也是对社区和业务是有绝对帮助的。如果你一定要在这个方面创业，你也可以考虑这些方向，例如我现在也比较看好的：</p><p></p><p>Tapdata 实时数据同步工具，有点把 Oracle 的 Golden Gate SAAS 化的感觉sqlpad[3] 网页版本的 SQL 编辑器类似于 Metabase 的商业化支持：衡石科技（可能已经比 Metabase 强大了）</p><p></p><p>另外，如果对数据库方面创业有较强的执念，可以先想清楚定位，不能只把生意定位在国内还是海外，一定要想清楚做这个事情究竟可以给社会创造什么价值，这才是真正存活的下来的根本。创业的本质就是：忍人之所不能忍，能为人之所不能为。创业没有最好的时间，也没有最差的时间，这只是一种生活的方式，如果你想这一生要做点什么才无悔，就加入进来吧。数据市场上还有很多事情可以一起合作，共建这个生态。Dongxu 也是这个方向比较好的天使投资人，如果你想好了就加入进来吧。2023 年一起携手共进。</p><p></p><p><img src=\"https://static001.geekbang.org/wechat/images/61/61ee9b91374533b81b9523269bc1fa16\" /></p><p></p><p></p><h4>作者简介</h4><p></p><p>吴炳锡，Databend 联合创始人 &amp; 架构师，腾讯 TVP 成员，Oracle ACE-A，TGO 成员。专注 Databend 大数据分析及应用，熟悉 MySQL 生态应用。</p><p></p><p>引用链接</p><p>[1] DB-Engines Ranking - popularity ranking of relational DBMS: <a href=\"https://db-engines.com/en/ranking/relational+dbms\">https://db-engines.com/en/ranking/relational+dbms</a>\"</p><p>[2] DB-Engines Ranking - popularity ranking of relational DBMS: <a href=\"https://db-engines.com/en/ranking/relational+dbms\">https://db-engines.com/en/ranking/relational+dbms</a>\"</p><p></p><p>如果你想了解更多数据库的相关内容，欢迎关注将于 2023 年 2 月 5 日 -7 日落地北京的 <a href=\"https://qcon.infoq.cn/2023/beijing/track\">QCon 全球软件开发大会</a>\"。大会邀请到了 Datafuse Labs 联合创始人、前阿里云数据库内核组早期成员、前青云数据库团队负责人、开源 Databend 项目主要负责人张雁飞老师。他将在【分布式数据库】专题分会场分享<a href=\"https://qcon.infoq.cn/2023/beijing/presentation/4531\">《Databend：基于对象存储构建实时云原生数仓》</a>\"的精彩演讲，点击此处查看大会日程。</p><p></p><p>现在购买大会门票还可参与<a href=\"https://www.infoq.cn/article/NM7wNWeVLHSfpyjD29uz\"> InfoQ 技术大会年底储值特惠活动</a>\"，购票不止 7 折，咨询详情请联系小助手：15600537884（微信同电话）。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/88/88918d3e7129ca468efbb364038f68cd.png\" /></p><p></p>",
    "publish_time": "2023-01-09 14:35:31",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "Flink创始团队二次创业再被收购，Kafka母公司与阿里“遭遇战”已经开始",
    "url": "https://www.infoq.cn/article/kt5QOlVDMIwFQxTHxohR",
    "summary": "<p>当地时间1月6日，Confluent 联合创始人兼CEO Jay Kreps <a href=\"https://www.confluent.io/blog/cloud-kafka-meets-cloud-flink-with-confluent-and-immerok/\">发布公告称</a>\"，Confluent 已经签署了收购Immerok的最终协议，但其并未公布收购金额。</p><p>&nbsp;</p><p>Immerok 是一家支持专注云上构建和运行 Apache Flink的创企，开发了名为 Immerok Cloud 的 Apache Flink 云服务，它是无服务器的，抽象出了处理流数据所需的服务器管理任务。</p><p>&nbsp;</p><p>“他们将加入Confluent，帮助我们为Confluent Cloud添加完全托管的Flink产品。对于Confluent来说，这是激动人心的一步。” Kreps 说道。</p><p></p><h2>Confluent： Flink 是流处理的未来</h2><p></p><p>&nbsp;</p><p>提到 Confluent 可能大家都不陌生，作为一家基于 Apache Kafka 构建的动态数据基础平台，Confluent 在2021年6月在纳斯达克上市，当日股价上涨 25%，公司市值达到 114 亿美元。</p><p>&nbsp;</p><p>Kreps 在公告中表示，Confluent 专注于流处理，使命就是让流数据成为新的默认值，并让数据流平台成为现代数据架构的核心。但为了使流式传输成为默认设置，需要让其变得简单，包括：在操作上容易获得流媒体功能、让使用流媒体的应用程序开发像批处理或任何其他现代应用程序一样容易和自然。</p><p>&nbsp;</p><p>Confluent Cloud 解决了一些问题，但 Confluent 还需要使数据流的开发，即流处理，变得同样容易。“我们相信 Flink 是流处理的未来。”Kreps 说道。</p><p>&nbsp;</p><p>长期以来，Confluent 一直通过 Kafka Streams、KSQL 和 Kafka 中的一些底层事务功能为围绕 Kafka 的新兴流处理生态系统做出贡献，这些功能有助于实现所有流技术的正确性。</p><p>&nbsp;</p><p>Kreps 表示多年来一直在关注 Flink 的发展，并看到它在其许多客户中得到采用。Kreps 对&nbsp;Flink评价称，Flink 拥有最好的多语言支持，对 SQL、Java 和 Python 的支持一流；有一个原则性的处理模型，可以泛化批处理和流处理；具有出色的状态管理和容错模型。“也许最重要的是，它拥有一个非常聪明、创新的社区来推动它向前发展。”</p><p>&nbsp;</p><p>在考虑我们的云产品和我们想用流处理做什么时，我们意识到提供 Flink 服务将帮助我们提供客户想要的接口和功能，并且可以作为我们未来流处理战略的核心。</p><p>&nbsp;</p><p>“我们已经从开源、商业产品数量以及客户那里听到的信息中认识到了这一点。就像 Kafka 是整个组织中读写和共享流的明确事实标准一样，Flink 正在成为构建处理、反应和响应这些流的应用程序的明确事实标准。”Kreps表示。</p><p></p><h2>为什么是去年才成立的 Immerok</h2><p></p><p>&nbsp;</p><p>“这使我想到了为什么我们对 Immerok 团队如此兴奋。首先，他们建立了一个团队，在帮助建立 Flink 和发展其社区方面做出了令人难以置信的工作。他们利用这些专业知识构建了世界上最先进的 Apache Flink 服务。他们也是一群聪明、谦虚的人，他们有远大的计划，所以他们很适合 Confluent。”Kreps 说道。</p><p>&nbsp;</p><p>虽然去年才成立，但 Immerok 的创始团队不可谓不豪华：至少6位Apache Flink PMC、4位 Apache Flink Committer。</p><p>&nbsp;</p><p>“我们的设计目标是让任何人都可以利用 Flink API 的强大功能，满足从快速数据管道、面向用户的分析，到实时 ML/AI 和事务处理的一系列实时业务需求。” Immerok 联合创始人 Konstantin Knauf 表示，他也是 Flink PMC 成员，也是 Flink 最初的共同创造者之一。</p><p>&nbsp;</p><p>虽然其在AWS上的Serverless Flink 服务仍处于早期访问模式，但该公司希望在年底前将员工人数从 20 人扩大到 30 人，并已与多家企业合作，包括资产超过 1 万亿美元的荷兰银行 ING，这家银行已经在 Flink 上对流应用程序进行了标准化。</p><p>&nbsp;</p><p>2022年10月，Immerok宣布获得了1700万美元的种子基金，由CUSP Capital、468 Capital、皮质风投和Essence VC领投，还有包括Apache Flink联合创始人Stephan Ewen在内的天使投资者参与。</p><p>&nbsp;</p><p>值得注意的是，Immerok 一些核心成员背景是来自Apache Flink项目背后公司Ververica。比如 Immerok 联合创始人兼CEO Holger Temme此前在Ververica担任COO，2021年，在接连两位核心高管离职后接任了CEO一职。</p><p>&nbsp;</p><p>阿里在2019年斥资9000万欧元收购了Ververica，Ververica被收购后一直保持独立运行。在2021年，Ververica 发生了一次“离职潮”。Ververica CEO、Flink 发明人Kostas Tzoumas 是最早离职的人之一，但为了顺利过渡，他并没有立刻离开。在 1月份，Apache Flink 联合创始人之一的 Stephan Ewen 宣布辞职离开 Ververica，并减少参与 Apache Flink 项目。2月底，又有几个核心开发人员宣布离职，包括&nbsp;Aljoscha Krettek 和&nbsp;Kostas Kloudas。</p><p>&nbsp;</p><p>显然，Ververica一些离职的核心人员又创立了与Ververica 业务高度重合的 Immerok：两者都专注于云上商业化Apache Flink。</p><p>&nbsp;</p><p>据悉，<a href=\"https://www.infoq.cn/article/xhuvlsyrphxhvfochjds\">阿里云已经推出</a>\"了一款云原生的实时计算 Flink 产品，提供了以 Flink SQL 为核心的开发运维平台。阿里云提供的 Flink 产品也采用了先进的 Serverless 架构，用户只要按需购买计算资源就可以使用 Flink。据悉，未来几个月之内，基于 Flink 的多云 PaaS Serverless 服务也将在全球范围内公测。</p><p>&nbsp;</p><p>由于大量核心成员离开又做了相似的产品，有人评价阿里的收购变成了“竹篮打水”，阿里成为“冤大头”。“他们都没有竞业协议吗？”有人发出了疑问，也有人感叹道：流处理创业似乎都逃不过被收购的命运。</p><p>&nbsp;</p><p>而在Immerok加后，Confluent 计划今年晚些时候在 Confluent Cloud 中推出第一个Flink 产品，其将先从支持 SQL 开始，然后逐渐扩展到整个平台。</p><p></p><h2>结束语</h2><p></p><p>&nbsp;</p><p>创始团队集体出走另起炉灶的事情也有发生过，比如当年Facebook开源大数据引擎Presto团队的分裂。2018年底，Presto的三位创始人Martin Traverso，Dain Sundsrom与企业领导发生了理念差异，三人随后离职创办了Starburst 并做了一个从Presto fork 出来的 Trino 项目，Trino的社区活跃度也已超过了 Presto。Facebook管理者期间出来表示要服务社区，但做Presto企业版的创始人用脚投票，纷纷站队支持三巨头的新Presto。</p><p>&nbsp;</p><p>不过，Flink 核心团队是否与阿里产生了理念分歧我们目前不得而知。当时，Kostas在离职的<a href=\"https://www.ververica.com/blog/leadership-changes-to-accelerate-our-next-development-stages\">官方声明</a>\"中表示“下一阶段的发展也需要新的领导”，不过 Holger&nbsp;接任他CEO职位后，现在摇身一变成为了Immerok的CEO，可见这个说法也只是客气一下。如果两者确实存在矛盾，那么对Flink&nbsp;社区和阿里来说都不是什么好事。</p><p>&nbsp;</p><p>但总体来说，两者的“分手”还是很体面的。时任阿里巴巴集团副总裁兼阿里云高级研究员贾扬清在Kostas离职时还发布声明称，“在过去的几年里，我们很荣幸有机会与 Kostas 一起工作。由于我们中的许多人本身就是开源开发人员，因此这是一个苦乐参半的时刻。我们要感谢 Kostas 建立了如此伟大的基础，我们祝愿他在未来的事业中取得圆满成功。”&nbsp;</p><p>&nbsp;</p><p>参考链接：</p><p><a href=\"https://www.confluent.io/blog/cloud-kafka-meets-cloud-flink-with-confluent-and-immerok/\">https://www.confluent.io/blog/cloud-kafka-meets-cloud-flink-with-confluent-and-immerok/</a>\"</p><p><a href=\"https://www.ververica.com/blog/leadership-changes-to-accelerate-our-next-development-stages\">https://www.ververica.com/blog/leadership-changes-to-accelerate-our-next-development-stages</a>\"</p><p><a href=\"https://techcrunch.com/2022/10/03/with-17m-in-funding-immerok-launches-cloud-service-for-real-time-streaming-data/\">https://techcrunch.com/2022/10/03/with-17m-in-funding-immerok-launches-cloud-service-for-real-time-streaming-data/</a>\"</p><p><a href=\"https://www.datanami.com/2022/10/04/new-flink-startup-immerok-gets-off-the-ground/\">https://www.datanami.com/2022/10/04/new-flink-startup-immerok-gets-off-the-ground/</a>\"</p>",
    "publish_time": "2023-01-09 14:43:51",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "证券行业云原生架构及可观测性探索之路",
    "url": "https://www.infoq.cn/article/yNYs0O7Ewqv9RJke93sB",
    "summary": "<p>近年来，证券行业核心业务系统逐渐向云原生技术架构进行演进，云上应用保障成为一大难题。本期将分享国泰君安可观测性运维保障体系的落地实践，一起探讨证券行业可观测性体系建设的技术发展，为企业云上应用提供全面、高效、智能的可观测性解决方案。</p>",
    "publish_time": "2023-01-09 15:13:11",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "论元数据在可观测性中的重要性",
    "url": "https://www.infoq.cn/article/Kti5BPPFpRDO6NTtiVJR",
    "summary": "<p>虚拟化和容器化让应用的部署环境和运行环境变得复杂起来，系统的复杂度呈指数级增长。在垂直领域下各个可观测性开源产品的侧重点也不同，那打通这些产品之间的联系，来构建自己的可观测性平台是一件重要而又复杂的事情。</p>",
    "publish_time": "2023-01-09 15:26:35",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "DeepFlow在 Kube-OVN 环境的可观测实践",
    "url": "https://www.infoq.cn/article/CyrpGqSCF7qVxljz18Ab",
    "summary": "<p>Kubernetes 相关生态越来越完善，可选择的 CNI 越来越多，Kube-OVN 作为 CNCF 旗下的企业级云原生网络编排系统，将 SDN 的能力和云原生结合，提供丰富的功能，极致的性能以及良好的可运维性带给 Kubernetes 用户，同时也使得网络可观测变得更加困难，本次议题讲述DeepFlow在 Kube-OVN CNI 环境的全栈、全链路可观测性建设实践。</p>",
    "publish_time": "2023-01-09 15:40:33",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "DeepFlow AutoLogging：自动采集应用调用日志和流日志",
    "url": "https://www.infoq.cn/article/JD8lATCDb3uLi5Ge0aS5",
    "summary": "<p>一个成熟的应用一般会涉及到非常多中间件的调用，比如API网关Kong、关系型数据库MySQL、缓存数据库Redis、RPC调用等等，应用开发人员常常无法以全局视角自主排查中间件的调用日志，重度依赖中间件人员。通过DeepFlow AutoLogging 自动采集任意微服务和中间件的应用调用日志，业务开发团队可根据日志中丰富的TAG快速全局查看各种应用协议的调用日志，包括K8s Ingress的HTTP 5XX、后端服务的MySQL慢查询等异常日志等，定位问题的时间大大缩短。</p>\n<p>不仅如此，基于 eBPF 的能力，DeepFlow 还能自动采集应用调用日志关联的网络流日志。流日志功能在各大公有云上已经成为一个标配，但仅面向安全组，几乎不提供性能指标，也无K8s关联能力。DeepFlow AutoLogging 自动采集网络流日志，并提供丰富的性能指标和精细至每包的TCP时序日志，与应用调用日志结合提供完整的全栈回溯能力。</p>",
    "publish_time": "2023-01-09 15:44:09",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]