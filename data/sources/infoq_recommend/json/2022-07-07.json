[
  {
    "title": "为什么要数字化，保命、保生存还是保发展｜第一期完整版（中）",
    "url": "https://www.infoq.cn/article/exJtuIc8NyEtBXG18x7s",
    "summary": "<p>《行知数字中国》第一期，极客邦科技创始人霍太稳对话富士康首席数字官史喆博士，来分享制造业实施数字化转型的路径和方式。史博士还从制造业延伸开去，总结了一些传统企业做数字化转型的方法论。</p>\n<p>本视频为第一期完整版的（中）集。</p>",
    "publish_time": "2022-07-07 06:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "安谋科技发布新一代星辰STAR-MC2车规级嵌入式处理器，AI处理能力提升9倍",
    "url": "https://www.infoq.cn/article/AKcVVzqPTZ07JAxRR9tL",
    "summary": "<p>InfoQ获悉，7月6日，安谋科技正式推出自研新一代“星辰” &nbsp;STAR-MC2车规级嵌入式处理器，以及面向多场景应用的全新“玲珑” V6/V8视频处理器。</p><p></p><p>据悉，这是安谋科技自研IP业务的最新成果。这两款处理器将为智能物联网、汽车电子、移动终端、基础设施等领域提供更为丰富的产品解决方案。</p><p></p><p>安谋科技联席CEO刘仁辰表示：“ ‘星辰’STAR-MC2处理器以及‘玲珑’V6/V8视频处理器这两款新品的发布体现了安谋科技在深入做强本土研发、持续赋能产业创新方面的努力，以及在智能计算领域研发实力和技术储备。安谋科技希望通过打造IP和核心技术，加大生态建设投入，为产业和合作伙伴带来更多技术、创新和服务，助力国内产业智能化发展。”</p><p></p><h3>“星辰”STAR-MC2：车规级高性能嵌入式处理器</h3><p></p><p></p><p>据介绍，“星辰”STAR-MC2是首个本土研发、支持功能安全设计的车规级嵌入式处理器，基于最新的 Arm®v8.1-M 架构设计，在数字信号处理、信息安全、功能安全等方面进行了全面升级，能帮助客户简化开发流程并加速产品上市，更轻松地应对智能物联网、汽车电子等市场的多样化需求。</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/57/c7/57b8fe2dff35eca3078933f2c347e4c7.png\" /></p><p></p><p>图1：“星辰” STAR-MC2处理器概览</p><p></p><p>在数字经济建设的推动下，物联网市场对处理器的需求强劲且持续，一些人工智能应用场景对处理器性能提出了更高的挑战。同时，随着汽车智能化的快速发展，符合功能安全的车规级处理器需求也日益增长。</p><p></p><p>“星辰”STAR-MC2处理器通过引入Arm HeliumTM技术，相较于上一代产品，实现了标量性能提升45%，矢量性能提升200%，人工智能（AI）处理能力提升了9倍，更高的计算密度和能效比能够满足智能物联网设备日益增长的性能要求。</p><p></p><p>基于Arm TrustZone®技术以及对软硬件一体平台安全架构（PSA）方案的兼容，“星辰”STAR-MC2能够充分保护物联网和车载设备的信息安全。此外，“星辰”STAR-MC2处理器满足ASIL-D (ISO26262)/SIL3 (IEC61508) 的要求，可帮助汽车芯片厂商简化芯片开发并加速符合车规级要求的认证。</p><p></p><p>在“星辰” STAR-MC2处理器的研发过程中，安谋科技和Arm在产品规格定义、开发流程、微架构创新、生态扩展等领域展开了紧密合作，使“星辰” STAR-MC2处理器融入了 Arm在生态系统、应用程序、工具层上的优势，并在指令集、总线协议、调试方法、低功耗设计、标准软件库支持等方面都与Arm的技术体系保持一致，加速客户产品的应用落地。</p><p></p><p>“星辰” STAR-MC2处理器不仅满足本土厂商在智能物联网、汽车电子等领域的前沿需求。据悉，安谋科技正与Arm公司探讨面向海外市场授权该处理器的计划。</p><p></p><h3>“玲珑” V6/V8：面向多场景应用的高效视频处理器</h3><p></p><p></p><p>“玲珑” V6/V8视频处理器是为满足主流市场不断增长的 4K/8K 实时编解码需求而设计的高效视频处理器，具有配置灵活可定制、编解码性能优异、面积小等优点，能够为手机终端、智能安防、汽车、数据中心、航拍记录仪、电视娱乐等应用场景提供高清视频编解码能力。</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/f8/ff/f8462db52a4bdc102486af29a31837ff.png\" /></p><p>图 2：“玲珑”V6/V8 视频处理器概览</p><p></p><p>“玲珑”V6/V8视频处理器单核性能可达 4K@30fps编码或 4K@60fps 实时解码，针对不同应用场景分别提供1-4核、4-8核等多种配置，轻松实现线性扩展，达到8K@60fps编码和8K@120fps解码的能力，既能够满足AIoT设备 4K/8K超高清摄像头需求，也支持数据中心单芯片超过200通道的编解码需求。</p><p></p><p>“玲珑”V6/V8视频处理器支持长参考帧，节省传输带宽并显著提高图像质量。通过采用融合编解码的一体架构设计，“玲珑”V6/V8 视频处理器能够有效减小芯片面积，显著节省存储空间并降低整体系统的成本和功耗。</p><p></p><p>同时，安谋科技“玲珑”产品研发团队还特别针对视频编解码标准复杂多样性的特点，提供了多实例、全方位的软件及固件工具，以满足客户终端业务的个性化需求，即使芯片生产完成，也可以通过改动固件进行扩展和提升。</p><p></p><p>对于此次两款新品的发布，安谋科技产品研发负责人刘澍向InfoQ等媒体表示， “ ‘星辰’STAR-MC2处理器强化了安谋科技在智能物联网、汽车电子领域的技术布局，‘玲珑’V6/V8视频处理器则和‘玲珑’ISP处理器组成了更为完整的多媒体生态系统。从通用处理、人工智能、信息安全到图像、视频专用处理器，安谋科技的自研IP产品矩阵日益丰富。”</p>",
    "publish_time": "2022-07-07 10:46:50",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "开源可信隐私计算框架“隐语”，蚂蚁做了什么？",
    "url": "https://www.infoq.cn/article/q5jpzKT7FQPXGihouEQR",
    "summary": "<p>日前，IDC 开展了《<a href=\"https://mp.weixin.qq.com/s?src=11&amp;timestamp=1657162318&amp;ver=3905&amp;signature=ywPOke3dZ**JpPrcLsDepuWG1fJ58oGr5B3I7kb1D32TuSFqfIpddnILHRPmuH6852fq80Owvquigk5FI1AAQIsM9mIlY3JOTiC6Dw3xN0elmjFXrMlBp57UN28OC-0H&amp;new=1\">IDC Perspective: 隐私计算全景研究</a>\"》。通过调研发现，2021 年中国隐私计算市场规模已突破 8.6 亿元人民币，未来有望实现 110% 以上的市场增速。艾瑞咨询发布的《<a href=\"https://mp.weixin.qq.com/s?src=11&amp;timestamp=1657162370&amp;ver=3905&amp;signature=Rq-J8Mk38Vahb3wVML44EMJUJSN9sWl6EuidBPiluALvsfwuZ7zuBMQGHmkqjxkdWL4wEPe5tk-h3rp4KX-LwBCDmJ4uZUAjL0nIBFyEv9-gNCrjmUsuIHupOkA3HdTV&amp;new=1\">2022 年中国隐私计算行业研究报告</a>\"》显示，2021 年至今年 3 月，隐私计算领域的累计融资额超过 18 亿元，占比超过过去 6 年的 60%，且至今投融资热度不减。隐私计算的投融资热度让更多隐私计算公司走到台前，也让更多开发者关注到了这项技术。</p><p></p><p>严格意义上来说，隐私计算目前没有一个明确的定义，行业里讨论比较多的隐私计算或者更准确的叫做隐私保护计算（Privacy-preserving Computation），是指在保证数据提供方不泄露原始数据的前提下，对数据进行分析计算的一系列信息技术，保障数据在流通与融合过程中的“可用不可见”，是一组技术的合集，包括多方安全计算 MPC、可信执行环境 TEE、联邦学习 FL、全同态加密 FHE 、可信密态计算（TECC）等等。国内隐私计算起步较晚，但近几年来投入在隐私计算上的公司，比如<a href=\"https://help.aliyun.com/product/356643.html\">蚂蚁集团</a>\"、微众银行、华控清交、洞见科技等，以开源或者闭源的形式，在这组技术合集中选择多项技术进行研发，取得了一定的成绩但也迎来了一些挑战。</p><p></p><p>7 月 4 日，蚂蚁集团宣布面向全球开发者开源可信隐私计算框架“隐语”， 并与中国信通院云大所所长何宝宏、浙江大学网络空间安全学院院长任奎、上海交通大学教授郁昱、LVS 开源项目创始人章文嵩共同启动了“隐语开源指导委员会”成立仪式。隐语用一套通用的框架，将主流的隐私计算技术支撑起来。我们第一时间采访了隐语框架负责人、蚂蚁集团隐私智能计算技术部总经理王磊，解读蚂蚁集团可信隐私计算框架“隐语”的设计思路，开源目的和未来发展，为开发者和行业企业在隐私计算方面的投入提供参考。</p><p><img src=\"https://static001.geekbang.org/infoq/2a/2a12d7f2ec5dd3b52bb630eb572ecce6.jpeg\" /></p><p>“隐语开源指导委员会”成立仪式</p><p></p><h1>“隐语”是什么？</h1><p></p><p></p><p>“<a href=\"https://mp.weixin.qq.com/s?src=11&amp;timestamp=1657162677&amp;ver=3905&amp;signature=RyFX2aL4hUarcGF38OWzyrYbMARwNqRPh-TP8XW07lxAbsnO2ALlwYVUJrFz1P-oD2HC3ICbN5wkAux6HGENGD36Kk-a-d-fB1UsJ0zuhRZqZKtoMo9F1M1pYLnEScwp&amp;new=1\">隐语</a>\"”是蚂蚁集团自 2016 年就开始研究的隐私计算框架，内置 MPC、TEE、同态等多种密态计算虚拟设备供灵活选择，提供丰富的联邦学习算法和差分隐私机制，助力隐私计算更广泛应用到 AI、数据分析等场景中，解决隐私保护和数据孤岛等行业痛点，已在蚂蚁内部业务及外部金融、医疗行业的智能风控、数字化运营等业务领域中落地应用。</p><p></p><p>“隐语”具备以下三个重要特性：</p><p></p><p>支持多种隐私计算技术。隐语支持目前几乎所有主流的隐私计算技术，如 MPC、TEE、FL、HE、DP 等，同时也在探索 TECC、受控匿名化等技术方向，并且积极支持互联互通。用户可基于不同业务场景来选择合适的技术方案。支持全链路的数据分析和处理能力。可以满足用户在选定的技术方案下（MPC/FL/TEE 等），对数据进行数据分析、预处理，建模，预测的全流程数据处理需求。支持业务全生命周期的孵化。隐语既支持业务在早期 PoC 阶段的快速迭代，也支持 PoC 验证成功后的业务的规模化推广，确保业务在规模化推广过程中的高可用。</p><p></p><p>技术演进的路线上来看，“隐语”的技术路线可以概括为几个阶段：最早的基于矩阵掩码的数据变换方案，到基于多方安全计算和可信执行环境的两套技术路线，发展到后来的多种技术融合的路线，并催生了可信隐私计算框架“隐语”。</p><p></p><p>蚂蚁可信隐私计算开源框架“隐语”，和可信执行环境隐私计算操作系统 Occlum 、蚂蚁隐私计算一体机技术一同承载了蚂蚁集团隐私计算技术体系。蚂蚁集团隐私计算技术体系不仅包括 “可用不可见”，也包括 “可算不可识”。蚂蚁集团认为，“可算不可识”是实现个人隐私保护的关键技术模式，在模型训练、数据分析等场景下确保个人身份不会被重识别，满足法律法规的匿名化要求。</p><p></p><p>为了在众多的业务场景中实现可用不可见、可算不可识，蚂蚁探索研究了几乎所有可能的隐私计算技术，包括：多方安全计算 MPC、可信执行环境 TEE、联邦学习 FL、全同态加密 FHE、差分隐私 DP 等；并且探索新的技术方向，比如首创了可信密态计算 TECC、受控匿名化技术等。同时蚂蚁在积极探索软硬件一体全栈可信、多协议互联互通、隐私计算与区块链融合 FAIR 等技术产品化方向。</p><p></p><p>“隐语”脱胎于蚂蚁集团对于隐私计算技术的大量研究。可信执行环境、多方安全计算、联邦学习是“隐语”的三个核心技术方向。“最早的时候做单机的可信执行环境，这里面的难点在于怎么把代码移植到可信执行环境中。”王磊谈道。蚂蚁集团的开源 TEE 操作系统 Occlum 就是为了解决这个问题。单机的问题解决了之后，集群化的问题接踵而来。“集群化能够解决高可用的稳定，保证生产环境的稳定性；同时在计算性能方面，当单机计算性能不行的时候，可以有更多的机器加入计算”，王磊谈道：“所以在 2018 年的时候，我们可能会更多会关注可信执行环境集群化的问题。”</p><p></p><p>多方安全计算和同态加密也是蚂蚁集团在 2018 年开始研究的，核心是为了解决性能的问题。早期“隐语”的计算技术主要专注在机器学习的一些算法上面。“多方安全计算现在一方面在研究如何提升计算性能，另外就是在研究如何与现有的机器学习框架等结合起来，复用众多的算法能力。”王磊谈道。</p><p></p><p>联邦学习则是为了解决大数据规模下的复杂机器学习问题而进行的探索，如 DNN，GNN 等。王磊举例，在一些数据量比较大、算法比较复杂的场景中，基于多方安全计算来做，存在一些性能上的瓶颈，如果基于联邦学习来做，则能通过安全退让 获得不错的性能提升，从而满足业务对性能和规模上的需求。</p><p></p><p>后来落地到业务中，联邦学习中间信息的隐私和安全问题凸显出来。隐语团队的做法是，在联邦学习中引入差分隐私技术，保护联邦学习中间信息的隐私，并将联邦学习和可信执行环境做更好的结合。</p><p></p><p>目前，隐语在蚂蚁集团内外部都有实际的落地案例，包括金融场景、医疗场景、保险场景等。今年初，“隐语”已经在蚂蚁做了内部开源，邀请了内部的一些团队一起参与到隐语的共建中来。王磊表示：“现在我们希望把‘隐语’开源到外部，让外部的团队也能够一起来共建。”</p><p></p><p></p><h1>通过开源形成技术合力，“隐语”怎么做的？</h1><p></p><p></p><p>技术上不能形成合力也是“隐语”团队看到行业情况后，想要开源的原因之一。“我这边看到现在很多隐私计算的企业，大家都是各自发展，同质化竞争比较严重。”王磊谈道，“有一些企业 MPC 做得强一些，有的企业联邦学习做得强一些。但为了客户需求，所有技术方向都要去布局，在人力上有非常大的浪费。”</p><p></p><p>“如果大家是在不同的公司去做不同的技术框架。一方面你会遇到很多类似的问题，这些问题在每一方单独聚集，由于是闭源的，都需要单独去解；另一方面，每一方单独寻找到的技术解决方案难以形成合力，更可能都不是最优解。我们希望通过隐语的开源，能吸引大家在隐语上实现共建，发挥各家企业的所长，最终希望在隐私计算技术上能形成的大的突破。”王磊告诉 InfoQ，国内做隐私计算的企业多集中在联邦学习技术路线，真正做 MPC 技术路线的并不多，做 TEE 且开源的就更少了。闭源也让大家很难判断技术的安全性，而安全是隐私计算的立足之本。</p><p></p><p>隐私计算行业人才也因不同背景分布在各个企业中。由于人工智能技术的火热，与人工智能技术联系更紧密的联邦学习成为更多隐私计算公司的主要技术方向。从隐私计算技术人才的分布来看，联邦学习方向上的技术人才大多有人工智能的背景。多方安全计算 MPC 具有强安全的属性，技术人才也多具有安全背景。“我觉得最主要是人才密度的原因。”王磊谈道，“对国内来说，由于机器学习人才密度较大，联邦学习的门槛会更低一点，而对于安全多方计算，人员的密度会相对低很多，导致其门槛会高一些。”</p><p></p><p>所以在“隐语”团队看来，开源或许是行业视角下一定程度上可以聚合技术资源投入的方法之一。目前来说无法判断哪条技术路线能在未来胜出，因为每条技术路线目前都只能解决一部分场景的问题，不同技术路线各有优劣。王磊解释道：“未来哪种技术路线能最终胜出，一方面取决于这个技术路线上是否会出现重大的技术突破，另一方面也取决于是否能找到合适的场景去驱动，比如同态加密技术一旦有较大的突破，可以在很多场景中使用，而且不受太多带宽的约束，也可以很好地支撑类似“东数西算”这样的大规模数据场景。此外，不同应用场景对于安全性、性能、成本的要求也是不同的，所以就算某一个隐私计算技术有了较大的突破，也不一定可以满足所有业务场景的需求。”</p><p></p><p>隐语目前的思路是，把主流的隐私计算方向，用一套统一的架构支撑起来。这也是隐语区别于谷歌等开源隐私计算框架比较不同的点。对于蚂蚁集团而言，这样做的好处在于，在看不清方向的时候，隐语不会错失窗口，一旦某个技术方向上有突破，也能做重点的倾斜和支撑。在隐语团队内部，不同的研究方向会由不同的小团队负责。</p><p></p><p>此次开源，隐语采用 Apache-2.0，代码托管在 Github 及 Gitee。对于算法 / 模型研发开发者，可以使用隐语提供的编程能力，方便快捷地将更多算法和模型迁移来，并得到隐私保护增强。对于底层安全开发者，可将底层密码 / 安全研究成果嵌入隐语，完善密态设备的能力、性能和安全，转化实际业务应用。</p><p></p><p>在 7 月发布的首个开源版本中，隐语开源了 MPC 的设备、HE 的设备以及差分隐私的原语，也会开放出整个明密文混合计算框架。在上层，基于这个框架隐语提供了部分多方安全计算和联邦学习的机器学习算法；到 11 月，隐语计划将上层的原子化产品能力开放，也会将底层大规模高可用的资源调度系统开放，并且会同步提供基于可信执行环境的数据分析和机器学习算法。</p><p></p><p>围绕开源社区，隐语希望能够在多个方面为隐私计算技术生态建设做力所能及之事：</p><p></p><p>其一是围绕隐私计算这一技术核心通过多种渠道以文字、视频等多样的内容，普及这一技术，通过开放的交流探讨增强生态中各界之间的交流；</p><p></p><p>其二是在普及之上，联动高校科研等科研机构，形成产业视角与教学视角的结合，打造一套体系化的隐私计算教学材料，助力社会培养会用隐私计算的人才体系；其三是在会用之上给予实质性的孵化支持，即通过 CCF- 蚂蚁隐私计算科研基金，公开招募、评选、扶持有创新有价值的科研项目深度发展。</p><p></p><p>“隐私计算在实际业务中使用时，需要和业务系统深度集成，而作为一个技术门槛和壁垒都比较高的技术方向，如果 让每个使用的团队都去从头开发 ，这其实是有非常大的成本的，隐语在内部的开源其实很大程度上能够帮他们去降低成本。”王磊谈道，“隐私计算还是一个蓝海，目前不存在有非常大的内部竞争的问题。‘隐语’开源也是希望能够把现在做隐私计算的单薄的技术力量汇聚起来，让大家形成合力，推动技术方向更快地发展。”</p><p></p><p>不过在企业内部推动开源要比在外部相对容易，外部企业之间的目标差异性更大，并且部分企业本身已经有了一些隐私计算的能力，更多地只是希望对现有能力做补充。“所以我觉得需求的差异性会很大。沟通的效率，也会比在企业内部沟通要低。但是，我觉得从整体推动隐私计算技术发展的角度来说，单靠一家集团、一个公司，其实是很难的，所以隐语开源势在必行。”王磊谈道。</p><p></p><p>为了让更多方参与到开源中来，“隐语”筹备近一年，主要是在做整体的架构升级，以确保开源的是高质量、可扩展的技术框架。</p><p></p><p>架构升级方面，以业务需求为起点的技术，发展到后期往往会有很多“独立的烟囱”，语义抽象跟着业务需求走，会让系统架构中形成很多“历史包袱”。基于“归纳和演绎”的理念，隐语这次的架构升级将很多业务层的语义剥下来，重新做分层和抽象封装，整体架构的通用性会更高。“我们刚开始做 MPC、联邦学习的时候，做着做着发现其实 MPC 和联邦学习是相通的。它们能够抽象出来的共同点是明密文混合计算。然后你会发现通过一套框架，我们可以把联邦学习和 MPC 完全统一起来，相互耦合。”</p><p></p><p>“隐语”团队在整个隐私计算的架构分层上做了很多设计，提供更适合开发和接入的模式。</p><p><img src=\"https://static001.geekbang.org/infoq/c2/c2980e4c84f1ffba562e400ef9ca0721.png\" /></p><p>隐语技术框架分层</p><p></p><p>隐语将参与开源的群体大体上分为两大类，一类是使用者，通过使用隐私计算的技术形成解决方案解决业务问题；一类是开发者，对于隐私计算有更深入的理解，能够进行代码的贡献。</p><p></p><p>针对隐私计算的开发者，隐语框架可以分成五层，支持不同背景的开发者共同参与开发共建。</p><p></p><p>最上面是产品层，提供黑 / 白屏的原子化产品能力，可以方便业务平台进行集成和二次开发。第二层是业务算法层，通过屏蔽隐私计算的概念，让算法开发者可以像使用传统机器学习和数据分析一样使用隐私计算。第三层是明密文混合调度层，这一层会提供明密文混合编程的接口，通过屏蔽掉隐私计算各种技术的实现细节，降低开发者的门槛，当业务算法层不能满足开发者对性能或场景的需求，开发者可以通过明密文混合编程接口，进行更深度的开发。第四层是引擎层，这一层会面向安全背景的开发者，深入到隐私计算各种技术的实现细节，通过密态虚拟机的抽象，对上层提供明密文混合计算的能力。最后一层是资源调度管理层，用于解决跨域协作之间的生产高可用问题。</p><p></p><p>“我们一直觉得开源是一件非常慎重的事情。开源不仅仅是把代码拿出去这么简单，其实我们更希望通过良好的架构设计，最终能够让更多的人加入进来。”王磊谈道，“我们希望有更多的用户能够去使用隐语，去解决实际场景中的问题，帮助我们去探索出更多的实际应用场景。我们也希望在这个过程中，用户能够及时地把问题反馈到社区，形成更好的迭代。开发者们能够参与到技术共建过程中，以合力去突破隐私计算技术方向。”</p><p></p><p>“隐语”团队也已成立开源指导委员会，对技术进行把关，与蚂蚁集团内部有开源运营经验的同学一起打造开源社区。</p><p></p><h1>隐私计算技术突破口</h1><p></p><p></p><p>虽然在技术发展、业务需求和投融资的推动下，行业内已经有不少或开源或闭源隐私计算公司，但目前，对于隐私计算的水平，行业内并没有一套严格统一的指标。对于技术发展的阶段，也没有相对统一的衡量标准。</p><p></p><p>数据时代，传统的集中式计算，数据规模、计算能力、算法复杂度呈正相关趋势，隐私计算也是一样，能够支持的数据量越高，场景越复杂，算法越复杂，隐私计算技术的成熟度就越高。“我觉得隐私计算的几个技术目前能够去支撑的数据量可能不尽相同，一般像 MPC 大概是百万到千万的一个量级；TEE 和联邦学习 会是千万到亿的量级。”王磊谈道，“如果从能够适应的场景来考虑，我觉得可以综合考虑安全性、支持的数据规模，以及在数据规模下的性能和精度，通过这些维度去衡量整个技术的发展阶段。”</p><p></p><p>从技术维度出发，王磊对几个核心技术方向可能的突破点做出了自己的判断：</p><p></p><p>联邦学习最需要突破的技术点是安全性的证明和度量。AI 方面的专家在做联邦学习的过程中，对安全性的理解是不如安全领域的专家的，联邦学习需要想办法证明过程中被泄露的中间信息是否安全，至少需要能对泄露的信息量进行度量。多方安全计算在安全上有理论证明，需要解决的是低网络带宽和高网络延迟的情况下，怎么提升计算性能。</p><p></p><p>同态加密核心要解决的是加密后的计算性能和数据膨胀的问题。目前行业内的主要思路是通过硬件计算来解决加密后的计算性能的问题。数据膨胀方面，很短的数据加密后就会膨胀得非常厉害，对存储和网络传输都会带来比较大的压力。可信执行环境，面临的第一个问题是底层硬件的漏洞，比如硬件黑盒化的功能无法验证，在很多场景尤其是金融场景很难落地应用。</p><p></p><p>针对上述这些问题，蚂蚁集团也在积极努力的去尝试解决，比如联邦学习的安全性度量工作，多方安全计算协议性能优化，针对同态加密的硬件加速，自主可控的 TEE 软硬件的研发，都是目前蚂蚁集团重要的研究方向，这些方向的研究成果也会即时地通过蚂蚁的开源系统分享给社会，共同推动隐私计算行业的进步。</p><p></p><p>整体来看，作为保障数据流通的关键技术，隐私计算技术从安全性和性能层面来看，还存在着一定的限制。蚂蚁集团基于长期对隐私计算技术的实践积累，提出了多个创新技术路线。如从 2021 年起，蚂蚁集团推动发展了新一代隐私计算技术可信密态计算（TECC），创新性地将密码技术（MPC、FL）和全栈可信计算技术（TEE、TPM）融合在一起，突破了使用单一技术的局限，获得了更高的综合能力。与其他隐私计算技术相比，TECC 更加适用于对数据安全需求高（如重要数据）、数据规模大（如百万个人信息）、计算逻辑复杂、参与方数量不固定的场景，并支持等跨地域数据中心的密态计算需求。据悉，蚂蚁集团也正在筹备这一技术的开源。</p><p></p><p>对于隐语来说，开源只是走向开放生态的第一步。更多的技术创新、保障开发者使用体验、活跃健康的开发者生态，才是隐语未来要长期面临的挑战。</p>",
    "publish_time": "2022-07-07 11:15:20",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "普洛斯数据中心发布DC Brain智慧化运营管理系统，数字孪生与AI是技术亮点 | InfoQ快讯",
    "url": "https://www.infoq.cn/article/MTeGm5ABOpmVtI6a7ZS4",
    "summary": "<p></p><p>算力是数字时代的基石，作为算力基础设施，数据中心的数量和规模都在不断增长，以跟上产业数字化转型升级、数字新经济发展的步伐。</p><p></p><p>应用数据中心的客户，其网络也分布于不同城市、多个园区，如何打造体系化的管理方法、中心化的管控方式，以及更快的问题发现机制、更智慧安全的能耗优化方案，是当前数据中心服务快速发展和迭代过程中面临的重要议题。</p><p></p><p>InfoQ获悉，7月5日，数据中心运营商普洛斯数据中心发布了DC Brain智慧化运营管理系统。该系统是面向多数据中心的中央统一管控平台，整合数字化监控和智慧化运维，提高运营与能源利用效率，降低PUE，打造绿色数据中心。</p><p></p><p>该系统历时两年自主研发，目前已应用于普洛斯旗下数据中心，并已有对外输出的案例。面向行业，赋能中小规模运营商智慧化升级。凭借中心化管控模式、数字孪生与人工智能技术，DC Brain为数据中心运营管理提供全局性、最优化的智能解决方案。</p><p></p><p>据介绍，DC Brain系统具有三大特点。</p><p></p><h3>中心化管控</h3><p></p><p></p><p>DC Brain采用中心化管控模式，制定统一运行方案。在发生预警、变更等场景时，运营指挥中心（GOC）通过中心化调取运行数据，协助现场分析、判断，并将调优策略、运行参数等下发至不同数据中心楼栋内设施，远程即可优化。同时，应急指挥中心（ECC）还可以通过各楼栋数据及时发现操作风险并纠正、终止，协调各楼栋人力资源。</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/5a/e1/5a837582cf2580db759074a7e4455de1.png\" /></p><p>DC Brain运营指挥中心（GOC）</p><p></p><p>DC Brain数据接入与处理量可达1,000万级/3秒，并可水平扩容以支持更大体量的规模，位于业内前沿。</p><p></p><h3>数字孪生与数据中心结合应用越来越密切</h3><p></p><p></p><p>随着物联网、大数据、虚拟现实(VR)等技术高速发展，数字孪生逐渐从概念走向实际应用，其与数据中心的结合应用愈加密切。</p><p></p><p>数字孪生，简单而言即通过智能技术，使存在于现实世界中的数据与内容能以一种直观的方式在另一个虚拟的计算机世界中体现，供人们感知与触碰。</p><p></p><p>DC Brain利用了数字孪生技术，远程即可监控所有数据中心的运行状态，具体到每个楼栋，7×24小时楼栋内电力、暖通、安防等基础设施运行情况一目了然。通过数据中心高度可视化，运维人员可以获得更加便捷、高效、直观的监控界面，并可进行远程智慧化管理运营。</p><p></p><h3>“AI+”人工智能应用赋能</h3><p></p><p></p><p>“AI+”人工智能应用是DC Brain系统的另一个特色。</p><p></p><p>作为承载海量数据存储、分析的重要基础设施，数据中心对室内温度、湿度、空气质量、空气流速等指标要求颇高。根据电力、气压、温度等数据，DC Brain引入了AI算法与大数据处理能力，辅助专家团队分析，最终下发指令给设施进行节能优化，从而降低数据中心PUE。比如，通过进行温度与气流组织优化，可以消除和降低数据中心的局部热点，不仅可以保障设备的安全稳定运行，也为构建绿色数据中心做出贡献。</p><p></p><p>同时，智能监控系统通过建立各类指标测点的运行基线，可基于相对值的变化进行提前告警，相比传统的监控系统依赖于测点的上下限阈值进行绝对值的告警，动态基线可以更快地识别出故障风险与异动，有效降低数据中心运营风险。</p><p></p><p>除了运维管理，在数据中心的工程设计等环节中，普洛斯也注重研发在安全高效、绿色低碳方面的技术。例如普洛斯常熟东南数据中心采用的“数据中心多系统预制化技术”具备定制性强、“即插即用”、快速交付等特点，可以保障数据中心的模块化迭代、信息化运营等。</p><p></p><p>据悉，普洛斯目前已在京津冀、长三角、大湾区以及中西部等地区建立了数据中心，目前可提供的IT负载逾1,400兆瓦（MW）。</p>",
    "publish_time": "2022-07-07 11:55:25",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "基于ViT的违禁品检测方案",
    "url": "https://www.infoq.cn/article/1sx56gmN9x1jUuOVk4OV",
    "summary": "<p></p><p></p><blockquote>基于X-Ray的安检方案能够有效的解决物体之间相互遮挡等问题。与传统的人工开箱检查的方式相比，X-Ray安检仪的效率更好，检测精度更高。</blockquote><p></p><p></p><h2>背景介绍</h2><p></p><p>X-Ray检验系统已经成为机场、火车站、汽车站等交通枢纽中必不可少的重要安全设备。目前，我们能够使用X-Ray安检设备能够对旅客的行李进行快速扫描，然后根据被扫描物品的材质，重构出相应的图像；因此，基于X-Ray的安检方案能够有效的解决物体之间相互遮挡等问题。与传统的人工开箱检查的方式相比，X-Ray安检仪的效率更好，检测精度更高。</p><p></p><p>通过X-Ray安检设备可以有效的检测出乘客的行李中是否包含有枪支、刀具以及放射性等对其他乘客可能造成伤害的物品。通常条件下，X-Ray安检可以满足交通枢纽中的安全检测需求，安检人员通过观察X-Ray设备所返回的画面，能够清楚的判断出乘客的包裹中是否含违禁品、违禁品的位置和种类。</p><p></p><p>由此可见，所有的判断和决策工作都需要有人来完成，因此也就会带来一些不稳定的因素产生。如安检人员的从业经验、专业水平以及精神状态等，这些因素都会影响违禁品的检测速度和准确率。随着城市的日益扩大，交通和物流也都呈现出爆发式增长的态势，X-Ray安检仪与安检员的方式已经逐渐无法因对日益增长的客流。长时间高强度的工作，必然会导致安检员疲惫，造成一些漏检或误检，从而产生一定的安全隐患。常用的X-Ray安检设备如图1所示。</p><p></p><p><img src=\"https://static001.geekbang.org/resource/image/e7/61/e7925fb12dac46393b19e57dd5856c61.png\" /></p><p></p><p>图1&nbsp;机场X-Ray安检设备</p><p></p><p>为了进一步缓解目前X-Ray安检方案对人工的依赖，科研人员从多软件、硬件等多个不同的角度对现有的方案进行了优化。例如，Oertel等人使用新的 ALISA 组件模块实现了对 X 光安检违禁品图像中的感兴趣区域进行自动检测和定位。Abidi等人设计了一系列线性和非线性伪彩色图并应用于单能 X 光安检机。最近，Akcay 等人通过迁移学习将深度卷积神经网络应用于X光图像的分类和检测中，实现了对6种违禁品88.85%的平均检测精度。</p><p></p><p>同时，国内许多安检公司和研究机构都展开了对基于X光图像的违禁品自动识别和检测的研究工作。2018 年，科大讯飞研制出的全球首例 X 光安检机图像人工智能识别系统，获得了 2018 全球人工智能产品应用博览会金奖，其基于深度学习算法，通过训练可自动对 X 光安检图像中的违禁品进行识别、报警和统计分析。2018年9月，上海复旦微电子集团推出了一款智能识别X光机系统，利用深度神经网络模型实现对X光图像中的各类物体进行检测，并通过软件和硬件一体化的加速平台实现每张X光图像60毫秒的处理速度。2019年2月，海康威视发布了智能安检系统，将安检联网，智能识别，信息融合等概念引入到智能化安检的发展方向中，为X光安检图像的自动识别和检测从研究到实际应用提供了一个生态的解决方案。</p><p></p><p>随着深度学习、图像处理等技术的不断发展，基于卷积神经网络的图像视觉算法逐渐在智能安防、无人驾驶、视频分析等任务中广泛使用。基于深度神经网络的在违禁品检测任务中也取得了较好的效果。然而，现有的检测算法大部分是基于CNNs模型进行构建的，因此只能对局部信息进行建模。</p><p></p><p>但是，在违禁品检测任务中，我们需要让模型获取到更多的全局信息，来辅助模型最后的判断和分析。目前，Vision Transformer (VIT)开始在视觉任务中应用，并且取得了较好的效果。与基于卷积神经网络的深度学习模型不用，VIT模型借助Self-Attention机制能够从图片的整体区域，提取出更加鲁棒视觉特征。此外，VIT能够更好的建模图像的浅层和中层特征，进而从整体上提升模型的性能。</p><p></p><p>针对违禁品检测任务自身的特点，如：目标尺寸差异较大、部分目标长宽比例异常、目标重叠、背景信息复杂等问题，我们设计了一种基于Vision&nbsp;Transformer的高精度目标检测算法。为了验证系统的有效性，我们设计了多种实验，并从mAP、precision、recall等指标对模型进行分析和比较。</p><p></p><h2>方法设计</h2><p></p><p>在违禁品检测任务中，我们需要从X-Ray扫描的结果中对违禁品进行检测，一般情况下违禁品与其他物品具有较大的视觉差异，因此安监人员可以快速准确的判定行李中是否含有违禁品，以及违禁品的种类。</p><p></p><p>根据这一先验知识，如果我们可以在现有的目标检测算法中引入注意力机制（Self-Attention Mechanism），就可以较少Anchor生成的数量，从而降低计算量、提高运行效率，并优化检测结果。因此在本章中，我们借鉴机器翻译领域中的Transformer结构，将带有注意力机制的Transformer整合到目标检测算法中，设计了一套基于End-to-End的违禁品检测算法。</p><p></p><p>从本质上来说Transformer其实是一种自注意力机制 (Self-Attention)的特殊化表示，该结构最早由Google研究院的机器翻译组提出，并在自然语言处理领域被大量使用。使用Transformer模型来替代原有的RNN和LSTM，从而解决这了循环神经网络结构由于梯度爆炸而无法构建较长的历史关系的问题。</p><p></p><p>Transformer的目的是从全局信息中选择出对与当前任务更加具有关联性的特征，因此该结构无论是在自然语言处理还是计算机视觉领域中都可以更好的利用全局信息；此外，该结构在构建特征之间的相互关系时，能够仅使用自身数据之间的结构性关系，而无需使用更多的额外信息。因此Transformer更加擅长处理文本与图像信息中的长距以及多层次之间相互依存关系。Transformer的结构如图2所示。</p><p></p><p>从结构中可以看出，Transformer中主要包含三个部分，分别是：Encoder、Decoder和Positional Encoding。我们所提出的算法首先需要使用卷积神经网络从图片中提取特征，然后使用Postional Encoding结构对特征进行编码，从而获得位置编码信息，然后将特征和特征的位置编码信息一同送入Transformer中的Encoder中，Encoder对送入其中给的所有信息进行抽取和建模，并在Mulit-Head Attention中以Key-Value对的形式对每一层的信息进行插值；</p><p></p><p>然后，Transformer中的Decoder对Encoder输出的信息进行解码（以查询的方式进行特征解码），并产生一组对感兴趣区域的预测结果，包括类别预测信息和图像的边框回归结果。在进行模型前项传播或部署测试时，我们只需要将图像进行特征提取，然后将特征和查询向量输入到Transformer中，就可以得到最后的预测结果。</p><p></p><p><img src=\"https://static001.geekbang.org/resource/image/9e/82/9e5354d0617046964ac9ac1db4d51e82.png\" /></p><p></p><p>图2&nbsp;Transformer基本结构</p><p></p><p>算法的总体结构如图3所示，我们在训练过程中选择简单的深度神经网络作为特整提取网络，具体的提取方式与通用的目标检测算法相同，我们将一幅图片进行降维，降维尺度为32倍。在Encoder-Decoder阶段，首先需要将特征使用1x1的卷积层进行特征结构化，然后将位置编码信息与结构化的特征一起送入到Transformer中，最后通过一个前项传播模型（FFN）输出最终的预测分类结果和边框坐标。</p><p></p><p><img src=\"https://static001.geekbang.org/resource/image/7e/29/7ef18a5059ed6073030558126817d929.png\" /></p><p></p><p>图3&nbsp;算法的总体结构</p><p></p><h2>实验分析</h2><p></p><p>在本章节中，我们将使用收集好的X-Ray违禁品数据对模型进行训练，然后与现有的目标检测算法的结果进行对比分析。</p><p></p><p>在本实验中，我们使用X-Ray违禁品数据进行训练和测试，首先需要将数据按照一定的比例分开，其中选择7469张图像作为训练集，1412张图片作为测试集。其中带有Gun的图片为4978张，带有Knife的图片为3097张，3084张包含Wrench，5370张带有Pliers，1132张图片中有Scissor。</p><p></p><p>我们将所提出的基于Transformer的违禁品检测算法与常用的目标检测算法如YOLO V3、SSD等算法进行对比，具体结果如表1所示。为了进行更加客观的模型性能对比，我们采用的准确率（Precision）、召回率（Recall）和平均准确率均值（mAP）三种指标来从不同的方面对模型进行定量评价；在模型性能方面，使用模型的参数量、计算量以及运行时间来进行分析。</p><p></p><p>从结果中我们可以看出，本文所提出的方法在Precision、Recall以及mAP等多个方面具有极大的优势。我们的所提出的方法在参数量为Faster RCNN的16%的情况下，mAP增长了6.9%；与SSD相比，我们的算法mAP增长了23.1%，然而体积仅仅是SSD模型的19.2%。对比实验结果表明本章中提出的基于Transformer的违禁品检测算法具有较好的性能，适用X-Ray违禁品检测任务。</p><p></p><p></p><p></p><p>表1&nbsp;模型性能</p><p></p><p>我们将所提出的算法进行实际测试，并展示了部分可视化结果，具体如图4所示。从图中可以看出，本项目所提出的方法检测边框更加贴合目标，并且对于复杂背景等挑战，具有较好的鲁棒性。</p><p></p><p><img src=\"https://static001.geekbang.org/resource/image/1a/50/1a115ccc100558396330a893a24ab850.png\" /></p><p></p><p><img src=\"https://static001.geekbang.org/resource/image/12/8c/12987ff7d9b45180f827398e7da5508c.png\" /></p><p></p><p>图4 可视化结果图</p><p></p><h2>总结</h2><p></p><p></p><p>我们提出了一种使用基于Transformer的目标检测算法，并用于违禁检测领域。我们首先介绍了与Transformer高度相关的注意力机制，然后重点描述了Transformer的内部结构和算法的整体流程。最后，我们将所提出的算法在X-Ray数据集上进行训练，并与经典的目标检测算法进行对比，实验结果显示，本文所提出的方法可以大幅优化结果的检测精度。</p><p></p><p></p><h4>作者介绍</h4><p></p><p></p><p>沙宇洋，中科院计算所工程师，目前主要从事人脸识别以及无人驾驶等相关方向的研究和实际产品开发。陈扬，中科苏州智能计算技术研究院，目前从事缺陷检测以及三维重建等相关方向的研究和实际产品开发。</p>",
    "publish_time": "2022-07-07 14:41:36",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "GitLab技术选型为何如此不同：坚持用过气Web框架十多年、坚决不用微服务",
    "url": "https://www.infoq.cn/article/cHHDN0PfXpVKXGPRIx39",
    "summary": "<p>关于过气网红编程语言 Ruby，我们此前曾发过一篇<a href=\"https://www.infoq.cn/article/jnxbfeksmvpfjqgd135p\">文章</a>\"去回顾其大受追捧的过往，并讨论了它每况愈下的生存状态。不过人气并不能直接说明语言质量差，一方面 Ruby on Rails（用 Ruby 写的开源 Web 应用程序框架）仍是实现原型设计演示的好方法，能帮助开发者在几天之内更稳妥地构建起最小可行性产品，另一方面，市场对于 Rails 和 Ruby 开发者还是存在刚性需求。</p><p></p><p>近期，GitLab 就发布了一篇文章阐述它们坚持使用 Ruby on Rails&nbsp;的原因。全球有许多流行网站都是基于 Rails 构建的，尽管今天 Rails&nbsp;有日落西山之势，但技术选型还得图个“合适”。从 GitLab 的角度看，他们本身没有复杂的运行体系，也不需要用微服务，在这样的情况下，Ruby on Rails 对他们而言反而是最佳选择。</p><p></p><h2>Ruby on Rails&nbsp;胜在哪</h2><p></p><p></p><p>2004年7月，Rails 的创始人 David Heinemeier Hansson 从 37signals 公司的项目管理工具 Basecamp 分离出 Ruby on Rails，并且以开源方式发布。</p><p></p><p>David 曾在一个采访中回顾他创造 Ruby on Rails 的心路历程，其中最大的影响来自他使用 PHP 与 Java 的深度经验。一方面，他不喜欢 Java 那种冗长、僵化、导致 Java Web 框架既复杂又难以使用的设计方式，但他赞赏 Java 良好的结构完整性。另一方面，他喜欢 PHP 易于上手的友好特性，但也发现 PHP 过于混乱，难以提供顺畅的项目开发轨道。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/0b/0bc29057acbc39eaed3a4c802c58547e.png\" /></p><p></p><p>当时的情况就是，必须在两种都不够好的方案中做选择：要么是易于上手却混乱不堪，要么是结构良好却难以使用。这种困境不禁让人联想起服务器级操作系统（例如稳定却难以使用的Unix）和客户端操作系统（例如简便易懂却经常崩溃的 Windows 和 MacOS）间的经典难题。</p><p></p><p>当初人人都觉得现实就是这样残酷，只能陷入二选一的艰难抉择。但后来 NeXT 在 Unix 的坚实基础之上却开发出一套漂亮、易用且流畅的GUI。如今，“服务器级”Unix 不仅能够运行起漂亮的 GUI 桌面，甚至还能搭载在大部分手机、智能手表当中。</p><p></p><p>所以事实证明，易用性和稳定性之间并不是非此即彼的关系。Web 框架中的易用性和混乱性也是如此——明明是两条并行的车道，为啥非得纠缠在一起？</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/f3/f3502bbcb421c3121fe62b9048e3dd6e.png\" /></p><p></p><p>所以，David 看到的一个理想的平衡点是：既平易近人、又结构良好的Web框架。凭借其扎实、支持元编程的 Samlltalk 特性，再加上良好的 Unix 集成效果，Ruby 证明了自己完全可以在配合 Rails 之后成为那个正确答案。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/62/62299ef0c64f2650e13ad3e4ac256a31.png\" /></p><p></p><p>回到 GitLab 本身，当联合创始人 Dmitriy Zaporozhets 在决定开发自己的版本控制服务器软件的时候，他其实也是 PHP 开发背景，但他没有坚持自己熟悉的方法，而是选择了Rails。</p><p></p><p>对此，Sid Sijbrandij（GitLab联合创始人&amp;现任CEO）表示了肯定：Dmitry的判断是有先见之明（或许也有偶然性），但不管怎么说，GitLab 也因此发展得不错。这里的部分原因可归功于 Rails 在良好架构与平易近人之间找到了平衡。</p><p></p><h2>“我们不需要微服务”</h2><p></p><p></p><p>在 1971 年发表的文章《关于将系统分解为模块时，所应遵循的标准》中，David L. Parnas 将模块化系统的优势总结如下：</p><p></p><p>有望“缩短开发时间，因为各独立小组可以在每个模块上工作，彼此之间几乎不需要沟通。”有望“对单一模块做出重大变更或改进，且不影响其他模块。”有望每次只学习系统中的一个模块。</p><p></p><p>Fred Brooks 在后来的《人月神话》中也强调了减少沟通需求的重要意义，认为额外的沟通开销正是“在项目后期再增加人手，反而会进一步拖慢项目进度”的主要原因之一。</p><p></p><p>Sid Sijbrandij 认为，模块化虽然受到高度追捧，但也往往神秘莫测。因此，设计师们只能从当今世界上规模最大的软件系统中汲取灵感——万维网。考虑到万维网的基本特性，它只能选择模块化构建方式。</p><p></p><p>使用独立的进程组织本地软件系统，再使用 REST 架构风格将各微服务组合起来，这样确实有助于通过操作系统强制划定模块边界。虽然这是种行之有效的严格模块化实现方式，但对应的成本也相当沉重。</p><p></p><p>Sid Sijbrandij 进一步说道，目前分布式系统也面临着类似的实现挑战与高昂成本，人们迟迟找不到在分布式计算中保障性能与可靠性的有效方法。</p><p></p><p>“简而言之，为了保证性能与可靠性，我们只能把原本以纳秒为衡量单位、且永不失败的函数调用，替换成以毫秒甚至秒为衡量单位、而且随时可能失败的网络调用。而且我们经常需要在几乎没有工具支持的情况下，跨多项服务开展跟踪，于是故障诊断变得更加困难。只有相当成熟的DevOps组织才能成功运行起微服务架构。总之，请大家明确一点——我们不是谷歌，我们可能搞不定那么复杂的大规模运行体系。”</p><p></p><p>而且即使是真能管理起来，还有另一个问题要注意：**架构本身的复杂度，是不是已经超出了问题本身的原始复杂度。**微服务并不能降低复杂性，所以想象中的模块化改进最终带来的很可能只是一团永远理不清头绪的乱麻。</p><p></p><h2>模块化单体架构</h2><p></p><p>凭借着良好架构加平易近人、再加高效操作，Rails 帮助 GitLab 开发出了模块化单体架构。模块化单体与分布式架构完全相反：它强调程序应该具有良好的结构、架构以及更高的模块化水平，其中每个进程都能稳定运行且尽可能保持简单。</p><p></p><p>Sid Sijbrandij 表示，虽然将 GitLab 构建成单体最符合项目预期，但对于具体结构取舍也绝不能太过教条。总之，架构要为需求服务，而非需求为架构服务。</p><p></p><p>虽然 Rails 确实能帮助 GitLab 有效达成目标，但它也有一些缺点，特别是在性能方面。所幸的是，GitLab 大多数代码库中只有极小一部分需要重视性能。“所以我们用Go自己编写了gitaly守护进程以处理实际git操作，并使用PostgreSQL处理非repo持久性数据。”Sid Sijbrandij 坦言道。</p><p></p><p>Sid Sijbrandij 表示，模块化单体架构把 GitLab 的“核心开放”（Open Core）商业模式从理论真正转化为现实。尽管 Rails 本身并不能实现这一点，这是那些出色的贡献者和工程师们完成的，但 Rails 还是为这些成功奠定了基础。</p><p></p><p>开源运动的“圣经”《大教堂与集市》里提到，为了发挥开源的真正优势，贡献者必须能够随时访问源代码。另一方面，为了在接收各种贡献的同时保持架构完整性，就需要在开放组件和封闭组件之间划开定清晰的分界线、保证代码结构良好。</p><p></p><p>如此一来，有些人可能会想问，GitLab 为什么不开发一套合适的插件接口呢？或者干脆建立基于微服务的服务接口？对于这类问题，Sid Sijbrandij 的回答是坚决的：没必要。因为这些方法不仅会在部署和集成层面，显著提升源代码轻微改动的实现难度，同时也会带来过于严格的架构实施约束。“谁能预测出未来一切可能的扩展点？根本不可能，我们也压根不打算给自己找这个麻烦。”</p><p></p><p>“凭借着这些无聊的模块化单体，用户及其他第三方开发商一样能为核心产品做出贡献、并帮助社区积累起巨大的影响力，同时保持着无与伦比的创新速度与可扩展性。”或许在 GitLab 看来，有时候，平平淡淡才是真。</p><p></p><p>参考链接：</p><p></p><p><a href=\"https://about.gitlab.com/blog/2022/07/06/why-were-sticking-with-ruby-on-rails/\">https://about.gitlab.com/blog/2022/07/06/why-were-sticking-with-ruby-on-rails/</a>\"</p><p></p><p><a href=\"https://corecursive.com/045-david-heinemeier-hansson-software-contrarian/\">https://corecursive.com/045-david-heinemeier-hansson-software-contrarian/</a>\"</p>",
    "publish_time": "2022-07-07 15:10:05",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "万豪N条入住记录、员工工资等数据又遭泄露，黑客吐槽：安全水平很差，数据窃取基本没难度",
    "url": "https://www.infoq.cn/article/WkdxBMIHzqLXgaHYJFVu",
    "summary": "<p></p><blockquote>6 月 8 日，网安媒体 DataBreaches 收到一封匿名邮件，标题为《万豪酒店遭遇入侵！非常重要！》看到标题，大家脑海中浮现的应该是同一个念头：怎么又是万豪？到底是新一波网络入侵，还是有人在拿之前泄露的旧数据做文章？</blockquote><p></p><p></p><p>事实证明，这就是一波最新网络入侵。</p><p></p><p>那这一次万豪到底遇上了什么状况？涉及哪些数据？实施攻击的又是何方神圣？</p><p></p><p>让我们先从最后一个问题入手。虽然攻击团伙坚称自己没有名称，但 DataBreaches 将其定名为“GNN”（Group with No Name，无名团伙），而且从攻击痕迹来看，他们可绝对不是毫无经验的新手。因此，DataBreaches 深度怀疑他们要么是在伪装身份，要么就是史上最成功的低调网络犯罪组织。</p><p></p><h2>本次事件始末</h2><p></p><p>根据 GNN 的介绍，他们约在一个月前入侵了万豪酒店，并窃取到 20 GB 数据。其中包含大量信用卡与机密信息。</p><p></p><p>通过对网站文件的核查，我们发现这些信息来自万豪酒店马里兰州巴尔的摩华盛顿国际机场店（BWIA）。GNN 方面也确认称，他们侵入的确实就是这家万豪机场店的服务器。</p><p></p><p>根据 DataBreaches 发布的声明，GNN 曾经向万豪酒店众多员工发出关于入侵活动的电子邮件。万豪最初做过回应，但随后又停止了沟通：</p><p></p><p>GNN 发言人告知 DataBreaches，“我们就是这次<a href=\"https://mp.weixin.qq.com/s?__biz=MjM5MDE0Mjc4MA==&amp;mid=2651025357&amp;idx=1&amp;sn=9b936a69b35fb27f92ec060f573faa62&amp;chksm=bdbe979e8ac91e882772c39a83aff25cff55e98a7b4c7c09b8a310499c4867492660cef89d1f&amp;scene=27#wechat_redirect\">数据泄露</a>\"背后的组织者，对方正在与我们沟通。我们的行为模式属于红帽黑客，但对方却突然停止了进一步交流。”</p><p></p><p>6 月 29 日，DataBreaches 联系上了万豪酒店 CISO Arno Van Der Walt，后者迅速做出了回应，并询问是否愿意跟万豪指定的顾问律所 BakerHostetler 沟通。在 DataBreaches 同意之后，当天下午双方就顺利完成了接洽。</p><p></p><p>根据 GNN 已经在网站上发布的内容，DataBreaches 向万豪方面确认了事件的真实性，期间果然已经有部分数据不慎外泄。但在对方的话语中，此次事件似乎并不像 GNN 表述得那么严重。</p><p></p><p>GNN 拒绝回答他们是如何获得访问权限的，但万豪酒店表示，此次违规源自黑客团伙通过社会工程欺骗了一名内部员工，导致攻击者顺利访问到该员工的计算机。</p><p></p><p>万豪方面还补充道：</p><p></p><p></p><blockquote>尚无证据表明，恶意黑客能够访问到该员工接触范围之外的文件。在就这些情况征求 GNN 意见时，对方并没有提出太多质疑，并表示据他们所知，万豪给出的说明与实际情况基本相符。</blockquote><p></p><p></p><p>DataBreaches 并不清楚 GNN 在攻击后多久才联系万豪，也不知道有没有提出勒索要求。但万豪称早在 GNN 主动接触前就已经发现问题，并着手开展调查。万豪还提到，事件在六小时之内就得到控制。对于这样的说法，GNN 既不承认也未表示质疑。</p><p></p><p>万豪与 GNN 双方都表示，万豪没有为此事支付任何款项。万豪没有透露双方是否就此事进行过谈判，但 GNN 则提到期间其实进行过某种沟通：</p><p></p><p></p><blockquote>他们跟我们沟通过，但后来又无缘无故中止了对话，可能是因为我们提出的价码太高。但我们其实很愿意与客户达成协议，也曾经告知万豪，我们完全可以给要价再打个折。</blockquote><p></p><p></p><h2>哪些数据被盗取？</h2><p></p><p>万豪方面承认，虽然 GNN 窃取的大部分数据都属于“非敏感性内部业务文件”。但根据相关规定，万豪还是需要就此事向约 300 到 400 名受影响个人及监管机构发布通报。<a href=\"https://www.infoq.cn/article/H1AoXid8baqPXbT-zdqy\">万豪</a>\"没有提到此次事件具体涉及哪些个人信息类型。</p><p></p><p>据报道，万豪已经将事件通知执法部门并表示将支持进一步调查。</p><p></p><p>关于万豪酒店的安全水平，GNN 评论道：</p><p></p><p></p><blockquote>他们的安全水平很差，数据窃取基本没有难度。虽然我们没能访问到整个数据库，但已经触及的部分仍然充斥着各种关键数据。</blockquote><p></p><p></p><p>GNN 明显是将顾客及员工的部分专有和个人信息视为“关键数据”，并向 DataBreaches 提供了 20 GB 文件中的部分样本。</p><p></p><p>可以看到，其中一些属于内部商业文件，包含机密与专有信息，例如如何访问劳动力管理和调度平台等。从文件日期来看，其中部分手册和审计内容可能已经失效。本文不会披露任何数据内容，但有一些较新的文件列出了万豪酒店各部门的平均工资，这对员工或其他竞争对手可能颇具吸引力。</p><p></p><p>除了内部业务文件之外，其他文件还包含酒店住客及员工信息。DataBreaches 审查了航空公司为其机组人员在万豪机场店预订房间时的文件，表单中包含机组成员姓名（首字母和姓氏）、前往时乘坐的航班号、离开时乘坐的航班号、在机组中的职务（飞行员或空乘人员）以及分配到的 BWIA 房间号。此外，表单似乎还包含统一安排住客的航空公司或旅行社的企业信用卡号。以下截图为其中两份样本文件：</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/e5/e59b3127a1930b8ac3c27a302fa46989.png\" /></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/4d/4def436d05b2f3144b6372327598e29c.png\" /></p><p></p><p>GNN 窃取并提供给 DataBreaches 的文件截图。酒店客人信息包括航空公司安排，表格中则显示出机组人员抵达航班、出发航班、姓名（名字首字母与姓氏）、BWIA 房间号，以及带有 CVV 和到期日期的完整企业信用卡号。图中敏感部分已被 DataBreaches 编辑遮挡。</p><p></p><p>DataBreaches 也看到了似乎与人力资源相关的文件，包括对 BWIA 指定活动主管的人事评估。尽管 这位员工在所有指标上都获得了正面评价，她的个人表现也获得了积极的主观表述，但不太清楚为什么这份文件会落入负责管理住客预订和信用卡信息的员工手上。好在内容并不特别敏感，应该不会给万豪带来严重影响。</p><p></p><p>DataBreaches 也不清楚万豪将要通知的 300 到 400 人主要是住客、员工，抑或二者兼有。</p><p></p><p>如上所述，万豪酒店立即承认了存在违规行为。他们在声明中并未提到最初是如何发现此次事件的，也没有透露可能采取哪些应对措施，例如是否会对员工进行二次培训、避免再次发生社会工程攻击。根据经验，DataBreaches 认为这只是受影响实体不想公开披露自己的安全措施变动。</p><p></p><p>不过事件的口子已开，如果 GNN 成功欺骗了其他权限更高的员工，那么后果将不堪设想。</p><p></p><p>更值得注意的是，算上这一次，万豪酒店包括<a href=\"https://mp.weixin.qq.com/s?__biz=MzIzNjUxMzk2NQ==&amp;mid=2247504317&amp;idx=1&amp;sn=f2122ce1e2cf2ff544c99e846e6f6693&amp;chksm=e8d42e7fdfa3a769ce812075695ff43cad5c7db87580be93ccc6a5f856a9a7da00161323cf73&amp;scene=27#wechat_redirect\">数据泄露</a>\"在内的违规事件至少发生过 7 次。</p><p></p><p></p><h2>万豪酒店过往违规事件汇总</h2><p></p><p>2010 年 9 月，HEI Hotels &amp; Resorts 宣布其“某些酒店物业的信息系统可能遭遇漏洞利用”，事件影响到部分万豪品牌酒店。2010 年 11 月，一位匈牙利人想通过感染万豪酒店的系统威胁后者给自己提供工作岗位。事实证明，这种求职方式相当不靠谱。2011 年 4 月，万豪礼赏奖励计划客户收到了关于万豪供应商 Epsilon 的违规事件通知。2018 年 11 月，喜达屋 2014 年的违规事件被首次曝光，也就是说万豪在 2016 年收购喜达屋时，双方对此均不知情。万豪披露，此次违规共影响到近 5 亿住客，而最终发布的重新估计数字则为至多 3.83 亿。该事件在加拿大引发了 1 亿美元的集体诉讼，英国信息专员办公室则开出 1840 万英镑罚款。在美国及其他各地的相关案件仍在审理当中。2018 年违规事件的诉讼仍在继续，而万豪在 2019 年 10 月又宣布，某家未具名的供应商发生违规事件，导致部分员工受到影响。几个月后的 2020 年 3 月，万豪酒店被迫向 520 万住客发出通知，称由于两位员工的登录凭证不慎外泄，这些住客的个人信息曾在 2020 年 1 月中旬至 2020 年 2 月期间被意外访问。最后就是现在，2020 年某无名团伙再次入侵万豪巴尔的摩华盛顿国际机场店。</p><p></p><h2>GNN 是谁？究竟什么来头？</h2><p></p><p></p><p>在最近的事件中，“始作俑者”GNN 就不得不拿出来好好讨论一番了。他们到底是一群运气爆棚的新手，还是真的成功在全球网络安全媒体的眼皮子底下潜伏了多年？DataBreaches 怀疑后者的可能性更大，但 GNN 关于自身及其历史的说法并没有得到证实。</p><p></p><p>在与 DataBreaches 的交流中，GNN 表示他们是一支约有五年历史的国际<a href=\"https://mp.weixin.qq.com/s?__biz=MzA4NTU2MTg3MQ==&amp;mid=2655207470&amp;idx=1&amp;sn=57b34d8b4648f24160bd02aa7a914e42&amp;chksm=8461e74eb3166e58320c13036a2e9107bec940eb8c595230129840bac3bd505249a3d90ef31f&amp;scene=27#wechat_redirect\">黑客团伙</a>\"。之所以能游离于媒体视野之外，靠的就是行之有效的沟通技巧与保密习惯。</p><p></p><p>GNN 还表示，他们从来不会加密锁定受害者的数据，因为这样会影响对方的正常运营。在被问及他们是否曾攻击过俄罗斯和独联体实体时，他们并没有简单给出“是”或“否”，而是回应称“我们攻击的是全世界所有企业。”他们的攻击从来只指向企业，从不涉及政府关键基础设施。</p><p></p><p>在被问及为什么要与 DataBreaches 联系时，GNN 发言人表示他们打算调整业务结构。结合他们过往的“辉煌战绩”，这样的说法似乎也有一定的可信度。至少他们成功攻击了万豪并拿到了内部数据，单凭这点就很说明问题了。</p><p></p><h2>如何保护用户隐私安全？</h2><p></p><p>在数据隐私备受关注的今天，无论是酒店，还是其他企业，<a href=\"https://www.infoq.cn/article/M6XtSL*oaeLIsKe4qUoi\">保护用户隐私安全</a>\"都是重中之重。</p><p></p><p>如何保护用户隐私安全？酒店可以从防丢失、防滥用、防篡改和防泄漏着手。</p><p></p><p>一是严控代码，告诉所有开发人员，不允许将任何开发代码上传到第三方平台，已经上传的代码立即删除；二是全业务渗透测试，启动一次针对全业务的渗透，堵上可能存在威胁数据安全的漏洞；三是权限梳理，尽快完成对业务系统敏感数据、访问人员和权限的梳理；四是数据加密，对梳理出来的敏感数据进行分类分级，确定哪些字段必须加密，利用第三方的透明加密系统、云上的加密服务 / 密钥管理服务逐步完成系统改造。</p><p></p><p>如果涉及数据库安全，企业应当定期对数据库进行风险评估。使用风险评估工具对数据库进行近乎实时监视的企业，会在加密后的数据离开数据库时更清楚地发现这一切。</p><p></p><p>数据库安全保障的实操，我们建议：</p><p></p><p>更换端口：&nbsp;不使用默认端口虽然无法杜绝黑客的入侵，但可以相对增加入侵难度；公网屏蔽：&nbsp;只监听内网端口屏蔽公网端口的请求，通过该策略继续增加黑客的入侵难度；使用普通用户启动：&nbsp;建议大家维护的所有 db 都使用禁止登录的非 root 用户启动；开启验证：&nbsp;这虽然是复杂、痛苦的一步，但却是明智的选择；权限控制：&nbsp;建议大家针对自己维护的数据库设置一套适合对应业务的权限控制、分配方案；备份策略：&nbsp;一套可靠的本地备份逻辑 + 远程备份存储方案可以解决被黑、误删、机房漏水、服务器报销，甚至机房被核弹炸毁的场景；恢复策略：&nbsp;建立一套能够覆盖多数灾难场景的恢复策略来避免手忙脚乱是非常必要的；敏感数据加密存储：&nbsp;我们建议大家一定对任何敏感信息加密后再入库，例如：密码、邮箱、地址等等。</p><p></p><p>参考链接：</p><p></p><p>https://www.databreaches.net/exclusive-marriott-hacked-again-yes-heres-what-we-know/</p>",
    "publish_time": "2022-07-07 15:27:09",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "AI基础软件及其生态: IDP与飞桨(PaddlePaddle) | IDP Meetup No.3等你来！",
    "url": "https://www.infoq.cn/article/l1I7syrwIjNtMatGo8Ot",
    "summary": "<p>7 月 9 日（周六）14:00，IDP Meetup 再次来袭！</p><p></p><p>本次 Meetup 聚焦“AI 基础软件及其生态”的探讨，邀请到百度 AI 技术生态总经理马艳军博士和白海科技创始人兼 CEO 卢亿雷，分别为大家分享飞桨深度学习开源开放平台及其生态、IDP Engine 任务调度引擎的实现及其生态。</p><p></p><p><a href=\"https://link.zhihu.com/?target=https%3A//jinshuju.net/f/D2Ce7f&amp;accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NTcxODE3NDgsImZpbGVHVUlEIjoiZ1hxbWU5Wkp4WlMxWVZxbyIsImlhdCI6MTY1NzE4MTQ0OCwidXNlcklkIjo2OTc2MzEzMH0.aJNJhP8a5WsQXniYXylDz81qzRA3AlYq5hAwWKMg5-g\">点击链接</a>\" 即可报名参与！</p><p></p><h2>Meetup 具体议程</h2><p></p><p>开场介绍</p><p>14:00-14:10</p><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/1a/1a901a6af01f8a5c37409ac425018adb.png\" /></p><p>马艳军博士&nbsp;</p><p>14:10-14:50</p><p>百度AI技术生态总经理总体负责开源深度学习平台飞桨（PaddlePaddle）的产品和技术研发及生态建设</p><p>飞桨深度学习开源开放平台及生态构建</p><p>议题简介：深度学习平台是共性平台，下接芯片，上承应用，相当于智能时代的操作系统，是AI工业大生产的基础平台。本分享将介绍深度学习开源开放平台的国内外现状，并结合飞桨（PaddlePaddle）产业级深度学习开源开放平台的关键技术与实践，分享我国自研开源开放平台及其生态的发展突破和未来趋势。</p><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/f8/f8a30710671e6a2555f3e5a7a7c46afd.png\" /></p><p>卢亿雷</p><p>14:10-14:50</p><p>白海科技创始人兼CEOCCF大数据专委常务委员和高性能专委委员</p><p>IDP Engine任务调度引擎的实现及其合作生态</p><p>议题简介：白海科技AI智能开发平台IDP在设计中将写代码和运行进行资源隔离，以高效、“无感”地支持大数据分析和分布式计算。IDP Engine是实现高性能分布式计算的核心支撑。本分享将具体介绍IDP Engine的设计、功能特征和技术实现，以及如何通过与PaddlePaddle等AI底层基础设施的合作共同帮助企业加速AI创新。</p><p></p><h2>宾嘉宾详细介绍</h2><p></p><p>马艳军，博士，百度 AI 技术生态总经理</p><p>总体负责开源深度学习平台飞桨(PaddlePaddle)的产品和技术研发及生态建设，主要研究方向包括自然语言处理、深度学习等，相关成果在百度产品中广泛应用。马艳军在 ACL 等权威会议、期刊发表论文 20 余篇，多次担任顶级国际会议的 Area Chair 等，并曾获 2015 年度国家科技进步二等奖。2018 年，被评为“北京青年榜样·时代楷模”。</p><p></p><p>卢亿雷，白海科技创始人兼 CEO</p><p>CCF 大数据专委常务委员和高性能专委委员，北航特聘教授，中国大数据技术大会主席，2017 年中国大数据行业领军人物，拥有超过 15 年大数据和 AI 计算平台经验，拥有多篇大数据、人工智能相关的专利和论文。</p><p></p><p><a href=\"https://link.zhihu.com/?target=https%3A//jinshuju.net/f/D2Ce7f&amp;accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhY2Nlc3NfcmVzb3VyY2UiLCJleHAiOjE2NTcxODE3NDgsImZpbGVHVUlEIjoiZ1hxbWU5Wkp4WlMxWVZxbyIsImlhdCI6MTY1NzE4MTQ0OCwidXNlcklkIjo2OTc2MzEzMH0.aJNJhP8a5WsQXniYXylDz81qzRA3AlYq5hAwWKMg5-g\">点击链接</a>\" 即可报名参与！</p><p></p><p>如有问题，请联系：</p><p><img src=\"https://static001.geekbang.org/infoq/f1/f14edfbdedebd93a3d80e7df1149f585.png\" /></p><p></p><p></p>",
    "publish_time": "2022-07-07 16:18:10",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "亚马逊云科技案例研究: TCL 实业",
    "url": "https://www.infoq.cn/article/SmqdcS8oCNKROtYECzjF",
    "summary": "<p>TCL 实业在云服务端采用了 AWS WAF 来防护攻击，从监测的数据上来看，一周内抵御了超过 13 万次的恶意请求，接近 10 万次的程序自动攻击，防御效果显著。”</p><p>林舜大TCL 实业鸿鹄实验室 安全部部长</p><p></p><p><a href=\"http://www.tcl.com/cn/zh\">TCL 实业</a>\"聚焦智能终端业务，以客户为中心，构建 AI x IoT 全场景智慧生活，致力于成为全球卓越的智能科技产业集团。产品销售种类涵盖智能屏、空调、智能移动及连接设备、冰箱、洗衣机、健康电器、智能语音等。TCL 实业的业务遍及全球 160 多个国家和地区，在 80 多个国家和地区设有销售机构，60% 的收入来自海外业务。经过不断努力，TCL 实业已形成全球相对完善的产业布局和供应链能力。</p><p></p><h3>AI x IoT 安全挑战及应对之道</h3><p></p><p></p><p>万物互联时代，产品的智能化不断提高。作为一家聚焦智能终端业务的公司，TCL 实业近年来大力发展 AI x IoT 全屋智能家电产品，构建智能家居生态圈。为了实现更好的用户体验，TCL 实业在云、管、边、端和连接上不懈努力。云端有 AI 平台、IoT 云平台、大数据平台等全球化部署的平台，实现万物互联、数据分析、智能服务的业务闭环。终端有跨屏幕终端 TCL+ App、TCL HOME App 和小程序等，融合多种智能场景。加之，开发性能优异、安全可靠、高性价比、即插即用的模组及协议的连接技术，共同构成了&nbsp;AI x IoT 全场景智能家居生态圈。</p><p></p><p>然而，AI x IoT 全场景智能家居生态圈在更加智能化和为用户带来更多便利的同时，也带来了新的风险和挑战，网络安全和隐私保护问题愈加凸显。例如，智能终端设备的固件会被替换成非法固件，不法分子借此获取密钥及各种信息；联网产品和云端被攻击也基本从通信入手，网络劫持、中间人攻击等手段层出不穷，进而导致数据泄露；存储大量数据、掌握大量控制和服务的云端也会时不时受到攻击，这些攻击轻则导致云端服务不可用，重则导致大量用户信息，甚至是敏感信息泄露。&nbsp; &nbsp;</p><p></p><p>网络安全和隐私保护问题刻不容缓。但 TCL 实业的业务线非常广泛，每条业务线的要求也不尽相同，如何做到对症下药？TCL 实业控股 CTO 孙力表示；“一般来说，企业会采用最适合自己的工具和合作伙伴来满足业务和用户的需求。”经过业务特性、目标国家的可获取性、安全合规、技术服务、架构、综合成本等方面的多方考量，TCL 实业决定在海外主要采用 AWS 的云服务。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/a7/a7161557b9ad17b794a9201b319490ca.png\" /></p><p></p><h3>注入安全基因，打赢 AI x IoT 云端安全守卫战</h3><p></p><p></p><p>在整个&nbsp;AI x IoT 的系统和生态面临的安全问题中，最大的威胁之一是来自云服务平台的威胁。由于平台网站的目标相对固定，存储数据量大，攻击手段非常多，并且十分成熟。因此，林舜大认为，AI x IoT 智能家居生态圈的安全重点是云服务平台网站的安全性。</p><p></p><p>TCL 实业对云服务进行了详细的梳理，并采取分级策略，进行层层递进的安全管理，对级别高的平台会采用更加强劲的安全措施。TCL 实业将安全级别分为三级。一级为内部网站、测试网站、共享类或者学习类的网站，对于这类网站的策略是守住关口，基本不需要在安全产品上进行投入；二级平台为公司的主要网站，如广告、品牌形象、业务支撑和售后系统，对于这类网站需要加强端口的安全措施，识别出其中的重要数据进行保护，并定期进行安全扫描；三级平台为公司关键基础设施、存放大量用户信息的网站，比如 IoT 平台、大数据平台、AI 平台等，对于这类平台需要对关口进行全方位的加强，整体进行全方位的保护，甚至引入态势感知等安全产品。</p><p></p><p>采用这种分级策略，跟 AWS 在云服务安全方面的理念十分贴合。对于二级平台及以上的云服务，TCL 实业都会采用&nbsp;<a href=\"https://aws.amazon.com/cn/waf/\">AWS WAF</a>\"&nbsp;来进行防护。据统计，TCL 实业系统的大部分漏洞都集中在云服务端，利用 AWS WAF 定制规则，进行流量筛选，阻隔恶意的访问。从监控的数据来看，一周防护了超过 13 万次的恶意请求，接近 10 万次的程序自动攻击，效果非常不错。</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/96/96/96d99e156f430ee4b39613535ae30a96.jpg\" /></p><p></p><p>AWS 云端安全方案示意图</p><p></p><p>此外，针对近年来比较猖狂的勒索病毒，TCL 实业同样采用 AWS WAF 的安全措施，并在此之上进行二次开发，监测受攻击的情况，很大程度防范了网络攻击和勒索病毒等安全事件的发生。林舜大说：“AWS 的服务非常专业，除了防范勒索病毒，我们也会购买 AWS 额外的 DDoS 服务来防范相关的安全问题。”</p><p></p><h3>合规与隐私，为 TCL 实业全球化部署构筑基石</h3><p></p><p></p><p>随着国际各国对用户隐私保护的法律越来越严格，对联网设备的安全规定也越来越严苛，比如欧盟的《通用数据保护条例》（GDPR）、美国的《加州消费者隐私法案》（CCPA）、国内的《个人隐私保护法》《数据安全法》《网络安全法》等网络空间相关法律的发布，都要求涉及联网产品、云端服务，必须大力加强产品系统相关的安全研发和建设。法律法规明确要求联网产品必须进行安全设计、安全测试、出现安全问题必须及时地反馈和处理。</p><p></p><p>在安全设计方面，TCL 实业携手 AWS 采用分级策略，保证安全设计的可靠性。在安全测试方面，TCL 实业在自主研发的基础上，采用 AWS 云安全漏洞检测系列工具，配合人工审计，对产品进行渗透和认证等措施。在及时反馈方面，TCL 实业建立安全应急响应中心，由专人负责运营。此外，TCL 实业的云服务还通过全球化部署，应对隐私合规和数据的问题。AWS 在美国、法兰克福、印度、新加坡等 26 个地理区域运营着 84 个可用区，服务覆盖 160 多个国家，有 3,000 多万以上的活跃用户。AWS 的云基础设施均通过了各个国家和地区的安全与合规认证，有安全与合规的基础保障，用户只需关注应用层之上的安全与合规即可。在隐私保护框架上，TCL 实业采用业界成熟的措施，从组织治理、政策流程，嵌入到业务上来保证产品的合规，进而不断提升整个组织的意识与能力，对公司的产品与业务进行有效的监控和改进，同时进行第三方认证，TCL 实业与 AWS 始终保持着密切的沟通和合作。AWS 提供了从认证、保护、检测、响应到恢复的 40 多种安全服务，TCL 实业已经采用了其中的部分服务。比如，隐私保护最离不开的其实就是数据加密，而数据加密过程中最让人担心的是密钥的安全性，包括对密钥的管理，密钥对性能的影响以及费用等等，经过一系列评估，TCL 实业决定采用&nbsp;<a href=\"https://aws.amazon.com/cn/kms/\">AWS Key Management Service（AWS KMS）</a>\"来解决密钥安全性的问题。此外，TCL 实业还采用了&nbsp;<a href=\"https://aws.amazon.com/cn/security-hub/\">AWS Security Hub</a>\"、<a href=\"https://aws.amazon.com/cn/transit-gateway/\">AWS Transit Gateway</a>\"、<a href=\"https://aws.amazon.com/cn/guardduty/\">Amazon GuardDuty</a>\"、<a href=\"https://aws.amazon.com/cn/cloudwatch/\">Amazon CloudWatch</a>\"&nbsp;等服务获得全方位隐私及合规保护。</p><p><img src=\"https://static001.geekbang.org/infoq/96/96d99e156f430ee4b39613535ae30a96.jpeg\" /></p><p></p><p>安全隐私合规问题上，木桶效益非常明显。如果有一个短板被攻破，所有努力都将付诸东流。因此，治理安全隐私合规，一定是从组织、流程、预算、产品开发流程，包括自上而下的重视程度，以及相应机制的保障，否则只能限于被动的、事件驱动型的响应机制。TCL 实业将持续与 AWS 合作，不断地学习国外的安全合规的要求和经验，整个公司正体系化地开展安全合规建设。林舜大说：“安全与合规是 TCL 品牌差异化的重要部分，AWS 的云安全是这种品牌差异化的重要助推。”</p>",
    "publish_time": "2022-07-07 16:49:12",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "从微软断供俄罗斯看国产化的必要性、紧迫性",
    "url": "https://www.infoq.cn/article/S8I43XexiHgGEiYECfYQ",
    "summary": "<p></p><h4>微软断供俄罗斯</h4><p></p><p></p><p>6月19日，据海外多家媒体报道，俄罗斯境内用户已经不能正常地下载 Windows 10 和 Windows 11 系统安装程序了。</p><p></p><p>目前，当俄罗斯的用户试图从微软网站下载Windows 11系统安装镜像时，会出现这样的提示：“错误：您的请求有问题。如需帮助，请访问 Microsoft 支持联系页面”。如果尝试下载 Windows 10，则会出现错误：“404 - Not Found”，而所谓 404 ，意味着找不到该文件或者目录。</p><p>&nbsp;</p><p><img src=\"https://static001.infoq.cn/resource/image/15/e2/15f3eaa7543110a77fda3d4e310b79e2.png\" /></p><p></p><p>&nbsp;</p><p>据报道，从6月中旬开始，俄罗斯多个地区的用户都反映了类似的问题。但是，俄罗斯的用户却发现，可以通过VPN连接来正常下载。这就意味着微软已对俄罗斯的IP地址进行了严格的访问限制。CNEWS确认，俄罗斯的用户在使用VPN时，如果是连接到欧美的VPN，下载镜像和应用程序时不会出现问题，并且可以正常使用；但使用俄罗斯的IP地址时，则会得到一个错误提示：</p><p>&nbsp;</p><p><img src=\"https://static001.infoq.cn/resource/image/a1/21/a154b55d5760ca80338590yye5de5f21.png\" /></p><p></p><p></p><h4>微软会断供中国吗？</h4><p></p><p></p><p>众所周知，微软Windows是全球桌面操作系统市场上的领头羊。虽然在最近几年，由于macOS和开源操作系统的影响，从2009年到2022年，Windows的市场占有率在不断下降，但Windows系统在2022年5月依然占有75.54%的全球市场份额。</p><p>&nbsp;</p><p><img src=\"https://static001.infoq.cn/resource/image/4c/7b/4cb9a06f175eda0b060ddebfccc62c7b.png\" /></p><p></p><p>&nbsp;</p><p>这一事件给我们国家敲响了警钟。微软几乎垄断了国内的桌面操作系统市场，一旦微软彻底断供，并不再负责安全维护，那么，国内的Windows用户就处于无任何保护的状态。由于美国情报部门已掌握大量Windows系统的漏洞，所以，国内Windows用户的信息安全问题不容忽视。</p><p></p><p>考虑到目前中美的关系，未来不排除西方也会像对待俄罗斯那样对待我们。人无远虑，必有近忧，国内机关、企业应当加速对Windows、数据库的自主可控的国产替代。</p><p></p><p>“封杀”只有零次和无数次，一旦微软真的开了俄罗斯这个先例，那么谁也无法保证自己不会是下一个。据悉，目前全球操作系统基本上都被美国微软公司垄断，而我国90%以上电脑搭载的也都是Windows系统，相当于被微软卡住了脖子。</p><p></p><p>微软似乎早已为断供中国做好了准备。微软于2020年8月1日更新了服务协议，其中责任限制条款的b条内容指出：</p><p>&nbsp;</p><p></p><blockquote>对于因超出微软合理控制范围的情况（例如，劳资纠纷、不可抗力、战争或恐怖主义行为、恶意破坏、意外事故或遵守任何适用法律或政府命令）而导致微软无法履行或延迟履行其义务，微软对此不承担任何责任或义务。</blockquote><p></p><p>&nbsp;</p><p></p><p><img src=\"https://static001.infoq.cn/resource/image/75/8e/75432f3b1880461d0f8bf3627db7b88e.png\" /></p><p></p><p>&nbsp;</p><p>结合近年来美国对中国科技行业实施严厉打压的大背景来看，有人将这些条款解读为微软为自己“留下后路”，即将断供中国且不给予任何补偿。</p><p></p><h4>国产操作系统与数据库走过的路</h4><p></p><p></p><p>近年来，由于华为被断供的原因，再加上国际形势的大环境因素的影响，越来越多的企业、开发者，如麒麟、统信、华为等，纷纷投身于国产操作系统的研发中，打破了操作系统领域“被动”的状态。</p><p></p><p>随着开源的兴起，替代Windows已经不再像过去看似那么艰难，但是，在中国的核心技术栈遍地开花的年代，如何做好国产基础软件的功能性、稳定性、兼容性、体验度、生态等维度，既是我们亟需解决的问题，也是基础软件突破口所在。</p><p></p><p>从2009年以来，Windows的市场份额在竞争中不断下降，一方面由于苹果macOS带来了强有力的竞争；另一方面，层出不穷的开源操作系统为操作系统市场带来了无限的可能性，这一趋势也就不足为奇了。</p><p></p><p>近几年，全球很多国家开始放弃了Windows，转而使用开源操作系统，比如2003年，德国慕尼黑市启动了 LiMux 项目（基于 Ubuntu 的“慕尼黑发行版”），打算把所有的政府办公系统和公务员的个人电脑从 Windows 迁移到开源软件平台；韩国政府扶持基于 Linux 的本土开源操作系统 Gooroom、HAMONIKR、TMAX OS 等；土耳其部分地区推行本土研发的 Linux 发行版 Pardus……</p><p></p><p>回到问题本身，如果在中国，Window、数据库这些基础软件被断供了，将会带来哪些影响？</p><p></p><p>在国内桌面操作系统市场方面，微软占有中国87.5%的市场份额，而国产操作系统还处在起步阶段。但是，无论微软有没有可能对中国实施禁令，中国都必须加大自主知识产权的操作系统的市场份额，从俄乌战争期间俄罗斯被全面封杀来看，自己的命运不能被他人把控。近几年，中国的国产化产业链的发展，在IT领域的芯片、操作系统、数据库三大领域都有了突破性的进展，一批国产公司逐渐成长起来，比如芯片领域的飞腾、龙芯，操作系统领域的麒麟与统信，以及众多的国产数据库厂商。</p><p></p><p>根据前瞻产业研究院的统计数据，目前芯片和操作系统的国产化率仍然较低，在2020年分别只有0.5%和1.2%，但数据库的国产化率已经达到50%。这和多年前就兴起的“去IOE”运动有一定的关系。Oracle所在的数据库领域，其国产替代的进程早在十多年前就开始了。</p><p></p><p>2009年，阿里云创始人、中国工程院院士王坚定下了一个当时看来非常激进的目标：在阿里巴巴的核心系统中，不再使用IBM的小型机、甲骨文Oracle的数据库、EMC的存储——也就是常说的“去IOE”。</p><p></p><p>2013年，阿里巴巴最后一台小型机下线；同年7月，甲骨文数据库下线。至此，阿里巴巴在“去IOE”运动上取得了里程碑式的成功。</p><p></p><p>自主可控、国产替代并不容易，“去IOE”运动也是非常缓慢的进程。在2016年5月12日举办的第七届中国数据库技术大会上，甲骨文公司副总裁吴承杨演讲时，提到了一组数据：中国的数据库市场前三位为甲骨文、IBM、微软，其中Oracle占据56%的市场份额。在大会上，吴承杨反复强调，“去IOE”运动不会对甲骨文造成任何影响，但是他也坦承，“去IOE”运动教会了甲骨文如何贴近用户。</p><p></p><p>即使在今天，Oracle依然在中国的政府、银行等市场占据主流地位，这是一个历史遗留因素。比如，2021年中国邮政储蓄银行就曾公示数据库采购项目，拟定Oracle为唯一供应商，理由是“当前我行多个核心生产系统使用Oracle数据库进行存储和处理，无法替代”。</p><p></p><p>从技术层面来说，国产数据库在性能方面已经能够和甲骨文等老牌企业并驾齐驱了。例如，2019年支付宝自主研发的数据库OceanBase，就在素有“数据库世界杯”之称的TPC-C测试中，打破了Oracle保持了9年之久的世界纪录，首次超越Oracle。</p><p></p><p>不过，技术上的国产替代，并不代表一定可行，需要更多的人财物等支出，才能达到国际先进水平。曾有人称：“数据库就像人的心脏，谁会没事儿就去想着换个心脏？说白了是一个费力不讨好的事情。”</p><p></p><p>所以，国产数据库的突围之路，常常采取“农村包围城市”的战略，先在非金融客户（金融公司是数据库的主要客户）的非核心系统取代国外数据库做起，以此来彰显自身的实力。</p><p></p><p>如今，国产数据库已经在本土市场逐渐站稳脚跟。国内企业对国产数据库的态度是应上尽上，这已经成为一种趋势。</p><p></p><p>根据IDC《2021年上半年中国关系型数据库软件市场跟踪报告》显示，在传统部署模式市场中，国际厂商仍占主导地位，但份额已开始逐渐下滑，目前厂商份额占比前三分别为Oracle、华为及微软，市场占有率分别占比26.7%、14.7%、7.6%；而在云数据库中，阿里巴巴、腾讯占据前两位，市场占有率分别为44.7%、17.4%，国产数据库占据绝对领先。</p><p></p><p>虽然Oracle在中国数据库市场仍然举足轻重，但技术的变革正在悄然发生，这对Oracle的冲击并不低于“去IOE”运动，并且也让我们重新思考国产替代的语境与现实意义。</p><p></p><p>开源正在成为数据库领域的一大趋势。DB-Engines的数据显示，截至2021年底，全球383款数据库中开源数据库占据51.7%，高于8年前的35.5%，并在2021年1月占比首次超过商业数据库；排名前十的数据库中，开源数据库占据6席。</p><p></p><p>同时，开源与云服务相结合，也让开源数据库找到了绝佳的商业模式。自2018年开始， MongoDB发布的Altas数据库云业务一直在快速发展，而云原生的模式促进了开源软件的蓬勃发展，疫情后全世界数字工作的方式又加速了云服务的增长，共同推动了开源与云服务的加速融合。</p><p></p><p>但是，很多国产数据库系统并非真正的自主开源，而是在开源数据库MySQL基础上修改的，而MySQL又是Oracle旗下，因此极端情况下，MySQL也存在被断供的可能性。</p><p></p><p>中国已经诞生了一些基于自主研发的开源数据库，并且表现亮眼。其中，在2021年代表开源项目活跃度的全球数据库年度排名中，来自中国的分布式数据库TiDB和时序空间大数据引擎TDengine活跃度占据第三位和第六位。</p><p></p><p>因此，在国内市场，国产替代是必要且政治正确的。</p><p></p><p>从全球及国内来看，数据库行业正在加速洗牌，中国数据库厂商正赶上数据库产业变革的重大机遇期，借助开源和云计算，中国数据库有机会在全球市场占据一席之地。如何抓住这个机遇，是在国产替代之外，同样值得努力的事情。</p><p></p><h4>国产化的必要性与紧迫性</h4><p></p><p></p><p>今天，这样的机遇发生在数据库；明天，类似的机遇就会发生在其他“卡脖子”领域。</p><p></p><p>如果说，Windows和数据库是对中国的警示，那么近日美国发布的针对网络安全领域的出口管制规定，要求微软、谷歌等美企向中国等48个国家、地区分享网络安全漏洞等信息之前，必须要先向美国相关部门申请并获得许可。很显然美国在利用微软、谷歌等美企在变相“制裁”中国的网络安全领域。</p><p></p><p>“没有网络安全就没有国家安全。”操作系统、数据库这个最基础、最底层的系统软件是否能实现国产替代，影响着中国整个互联网生态的自主可控。目前，Windows 的优势有目共睹，巨大的前期投入与建立生态的难度，以及成功者强大的专利壁垒，都让后来者举步维艰。但也要看到，苹果和谷歌依靠 “操作系统免费 + 应用商店收费”等创新模式，已经在移动互联网大潮中找到了生存空间。在云计算、大数据、物联网的时代，各种智能终端、可穿戴设备乃至家电、汽车等，都将成为人们必备的终端产品，其中孕育着跨终端、全场景式操作系统崛起的机会，正等待着弄潮儿去把握。同时，“金钱买不来技术，市场换不来技术”已成为社会共识，国家网络强国战略在不断释放政策红利，“国产替代”成为投融资市场的热门话题。可以说，在发展国产操作系统的征程上跋涉了十几年的探路者，正迎来最好的发展环境。国产操作系统需要继续坚定信心、坚持创新，力争让国人通过更多“自己的窗户”看到互联网的世界。</p><p></p><h4>自主可控：路漫漫其修远兮</h4><p></p><p></p><p>自主可控的道路，充满挑战。从巴统到瓦森纳协定，再到近来美国对中兴、华为等中国企业的制裁，西方国家对中国的技术封锁一直存在。1950年成立的巴统，即以美国政府为首，联合西欧国家对社会主义国家实施禁运，防止和限制西方的战略产品、高新技术流向社会主义国家。随着苏联解体和东欧剧变，巴统也随之散伙，但是西方国家的出口管制政策并没有随之结束。1996年瓦森纳协定签署，从1996年11月起实施新的控制清单和信息交换规则，实际上替代巴统，中国同样在被禁运国家之列。瓦森纳协定虽不具有巴统的强制性，然而事实上中国依然无法直接从西方世界得到先进的军用或民用技术或产品。</p><p></p><p>正因为西方国家对中国的限制和禁运，才让我们不得不走上了自主研发的道路，结果证明，效果很好。我们的北斗系统、射电望远镜、神威·太湖之光超级计算机、歼20 等先进技术和成果，都达到了世界领先水平。</p><p></p><p>在这样的背景下，中国的国产化工作，也要发扬“两弹一星”精神，筚路蓝缕，走出自主可控的道路。科技无国界，但是科技企业有国界，我们不可能把希望寄托于他人的仁慈，命运只能掌握在自己手里！惟其艰难，才更显勇毅；惟其笃行，才弥足珍贵。中国信息产业的自主可控进程，注定不会是一帆风顺的旅程，需要有志者付出更多努力。</p>",
    "publish_time": "2022-07-07 17:45:48",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "制造业企业，核心系统的开发必须自己做吗｜第一期完整版（下）",
    "url": "https://www.infoq.cn/article/lqCTU6W0F8ZRssWNGdTd",
    "summary": "<p>《行知数字中国》第一期，极客邦科技创始人霍太稳对话富士康首席数字官史喆博士，探讨制造业实施数字化转型的路径和方式。史博士还从制造业延伸开去，总结了一些传统企业做数字化转型的方法论。</p>\n<p>本视频为第一期完整版的（下）集。</p>",
    "publish_time": "2022-07-07 19:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "AI 企业多云存储架构实践",
    "url": "https://www.infoq.cn/article/vZlTDc3SUZiCoKlJr1DI",
    "summary": "<p>2020 年末，谷歌旗下 DeepMind 研发的 AI 程序 AlphaFold2 在国际蛋白质结构预测竞赛上取得惊人的准确度，使得“ AI 预测蛋白质结构”这一领域受到了空前的关注。今天我们邀请到同领域企业，深势科技为大家分享其搭建基础平台时的实践与思考。AI 场景中的使用的数据有哪些新特点？混合云架构如何与超算平台结合？存储架构是如何进行选型的？&nbsp;</p><p></p><h2>背景</h2><p></p><p></p><p>深势科技成立于 2018 年，是 “AI for Science” 科学研究范式的先行者，致力于运用人工智能和分子模拟算法，结合先进计算手段求解重要科学问题，为人类文明最基础的生物医药、能源、材料和信息科学与工程研究打造新一代微尺度工业设计和仿真平台。</p><p></p><p>新一代分子模拟技术，是深势科技研究问题的本质方法；高性能计算、机器学习、科学计算方法，这些是研究分子模拟技术的一些工具和手段。</p><p></p><p>Hermite 和 Bohrium 是针对不同行业领域的解决方案，Hermite 是针对药物研发领域的一个计算设计平台， Bohrium 是针对材料和科学领域的微尺度计算设计平台，Lebesgue 是任务调度和算力编排平台。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/e8/e870318d5902fee18ac681b9b7d4790a.png\" /></p><p></p><h3>什么是 AI for Science</h3><p></p><p></p><p>一直以来对科学研究有两大范式，第一个是以数据驱动的开普勒范式。第二个是以第一性原理驱动的牛顿范式。</p><p></p><p>开普勒范式是通过观察、总结的方式，研究事物的规律，开普勒范式三大定律就是通过不断的天文观测，前人积累的天文经验总结出来的。开普勒范式属于数据驱动，通过观察事物的现象，总结规律，然后拿它解决实际的问题。这种方式解决问题有一个缺点，可能会出现知其然不知所以然的情况，很难泛化。</p><p></p><p>牛顿范式是从事物的本质出发，通过第一性原理，发现事物的规律。牛顿范式属于模型驱动，模型驱动比较准确，但因为计算的量大，很难用以解决实际的问题。</p><p></p><p>AI for Science (下文简称 AI4S） 就是希望把这两大范式结合起来，用 AI 去学习科学原理，然后得到模型，进而去解决实际的问题。</p><p></p><h3>AI for Science 范式如何解决科学原理工程化问题</h3><p></p><p><img src=\"https://static001.geekbang.org/infoq/d2/d2bae7431597676c06701c0447fdff97.png\" /></p><p></p><p>药物研发领域，大家比较熟悉的是明星公司 DeepMind 开发的一款人工智能程序 AlphaFold，简单来说是做蛋白质的结构预测；材料研发主要是做材料的性质研究，新材料发现等。这两大领域本质研究的是微观粒子的相互作用，微观粒子的运动轨迹。微观粒子的研究会用到薛定谔方程、密度泛函方程、牛顿力学方程等基本方程，这些都是在不同的尺度下的微观粒子的运动轨迹、运动状态的方程。</p><p></p><p>如果直接用第一性原理去解决问题的话，实际上是比较困难的，会陷入维数灾难问题。AI4S 新范式就是用 AI 去学习和表示一系列的物理方程，进而去攻克维数灾难，在精度和效率之间取一个平衡。</p><p></p><h2>混合云架构的选择与挑战</h2><p></p><p></p><h3>为什么选择混合云架构</h3><p></p><p></p><p>深势科技作为一家初创公司，为什么在开始的时候就选择了混合云的架构，总结下来，主要是有三点：</p><p>第一点业务算力的需求， AI4S 领域的主战场是在超算，一些院校和研究所都有自己的超算机器。比较著名的就是天河系列，天河系列在 2014 年的时候拿到过 Top500 的第一名，它对计算的性能和算力的要求是非常高的。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/f1/f18246d7f6ffa08e96a07c571b12a29b.png\" /></p><p></p><p>上图计算任务算力需求：128 张 A100s 的卡运行 5 天的时间。</p><p></p><p>下图是一个训练任务，分为三步，每一步对资源的需求差别是比较大的。第一步和第三步，对 GPU 的资源要求比较高，第二步它对 CPU 的需求是比较大的，需要 10000+ 核的 CPU 资源。这也是 AI4S 的一个特点，同一任务对资源的需求，在不同阶段差异是比较大的。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/40/405f522387e83cb5989ba4c0479edc57.png\" /></p><p></p><p>第二点是客户的诉求，一些客户在使用深势科技的资源或者产品之前，可能已经是 AWS 、阿里云或者其他超算的用户，客户希望他们的资源能够最大的程度的复用，从而提升资源的利用效率。</p><p></p><p>第三点是资源的可用性，算力平台负责给 AI4S 领域的工业客户或者科学研究院校提供算力资源，他们对资源的需求是很大的，在资源使用过程中也会用到一些抢占式资源和潮汐资源，对资源的可用性或者资源的丰富度要求高。所以选择混合云架构，也是比较大的一个优势。</p><p></p><h3>混合云架构的挑战</h3><p></p><p></p><p>首先是基础设施的差异性，公有云是比较开放的，买了一台机器之后，就有了这台机器的 root 账号，资源在底层做了虚拟化隔离，你可以在这个机器上做任何你想做的事情，不会影响到其他人。但是超算相对是比较封闭的，超算的环境是共用的，用户之间是逻辑隔离的，超算更多的是把资源拿出来让你去使用，但是你很难拥有资源的主导权，你在超算机器上安装一个软件，这个软件可能跟别人的软件是有冲突的，所以不能随意安装。</p><p></p><p>第二个是运行时环境的差异性，公有云上跑服务的话会打一个镜像，把程序依赖的一些操作系统以及依赖的一些软件都会装到镜像里面，直接做分发，这样就能屏蔽运行时环境的差异性。但在超算里面主要是借助 module 工具管理环境变量，module 是 Linux 下的一个管理环境变量的工具。如果想用一个软件的话，需要通过 module 的方式把这个软件增加进来，然后再去使用。</p><p></p><p>第三点是用户体验的一致性，基于上面两点，公有云和超算还是有比较大的差异性。这会导致用户在使用的体验上会有比较大的差异。如何把差异补齐，让用户在日志、监控的查看上都有一致性的体验，对架构上也是一个挑战。</p><p></p><h3>云与超算融合的探索</h3><p></p><p></p><p>第一点就是容器化，超算上主要是用的是 Podman 和 Singularity 容器镜像，使用 Docker 是比较难的，因为 Docker 需要在主机上启动一个 daemon 的进程，其次还需要 root 账号。这两点在超算上实际上都是不太方便的，所以超算上一般用的比较多的就是 Singularity 镜像，Podman 和 Docker 镜像有比较好的兼容性，也慢慢流行起来。</p><p></p><p>第二点是&nbsp;Slurm on K8s&nbsp;，Slurm 在超算平台上是常用的一个资源调度的框架，早期安装 Slurm 是需要在物理机上直接安装，但是随着对资源弹性的需求，我们希望 Slurm 能直接装到 K8s 里面去。当用户需要 Slurm 资源的时候，可以基于 K8s 去分配资源，然后在分配的 pod 上安装 Slurm。</p><p></p><p>第三点就是&nbsp;Virtual Kubelet，这是一个虚拟的 kubelet 技术。在阿里云和 AWS 的弹性资源上也都有一些应用，相当于把一些算力资源通过桥接的方式让 K8s 能使用起来。在超算上我们也在探索这种方案，让 K8s 集群通过 Virtual Kubelet 的方式使用超算的资源。</p><p></p><h2>存储架构的思考与实践</h2><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/41/41656cd6259339fc87f9ee70ac7fc26a.png\" /></p><p></p><p>举一个业务场景的存储例子，在药物研发场景中，分子对接具有十分重要的应用价值，分子对接就是两个或多个分子之间相互识别的过程，目的是找到药物分子与致命靶点的最佳结合模式。</p><p></p><p>一次分子对接的过程中数据的需求如下：产生约 6 亿的小文件，文件压缩前有 2.3T， 压缩后有 1.5T，单文件的大小大约 4k。</p><p></p><p>文件比较小的话，数据处理的难度会比较大。比如：在 Linux 上去处理很多的小文件时，它首先会有 inode 个数的限制，其次小文件比较多的话，读取的速度也上不去。</p><p></p><h3>存储诉求</h3><p></p><p></p><p>基于上述的业务场景，我们总结下对存储的诉求。</p><p></p><p>第一是文件的多样性，除了小文件，在实际业务场景中还有中文件、大文件，所以多种大小的文件，都需要有一个比较好的支持。</p><p></p><p>第二点是存储层的抽象与统一，在 AI 领域，很多都是使用 Python 的服务，Python 的服务对 POSIX 接口是比较友好的，如果用户在使用存储的时候，需要频繁地通过 S3或OSS 去下载数据的话，会对用户会有体验上有影响。</p><p></p><p>第三点是方案的通用性，在公有云上会有很多的存储方案，在一家云上使用，完全没问题，非常的好用。但如果想把这种方案放到超算上去，或者放到一些线下的集群，实际上就不是那么通用了。</p><p></p><p>第四点是数据的分层，我们的数据是有典型的冷热特性，在一个任务在计算过程中，它用到的数据是热数据，任务计算之后或者过了几天之后，这个数据就变成了冷数据，我们对冷数据的读和操作是比较少的。</p><p>最后一点就是安全性的考虑，希望存储上能有一些业务的隔离，配额、授权以及删除之后的回收站等，来保障数据的安全性。</p><p></p><h3>方案选型 &amp; JuiceFS 测试</h3><p></p><p></p><p>第一点是功能满足度，这个方案肯定要满足上述我们对存储上的功能需求。第二点是技术栈，所采用的技术栈最好是能和公司使用的技术栈是匹配的。第三点是可运维性，希望这个方案的运维相对来说比较容易，如果方案本身的复杂度比较高，那么出了问题之后，解决问题就比较麻烦和复杂。第四点是社区活跃度，调研的时候我们发现 JuiceFS 社区是非常活跃的，在使用过程中，有问题的话，会直接发到 JuiceFS 社区群里面，不论是晚上还是周末，社区的响应都是非常及时的，包括创始人苏锐也经常在群里面回答问题，所以社区的活跃度也是我们在方案选型的时候一个非常重要的考量点。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/c9/c96529b95cec09e2af9a1f39fd993a4c.png\" /></p><p>JuiceFS 架构图</p><p></p><p>在做方案选型的时候做了一些测试，供大家参考，主要是以下几点：</p><p></p><p>第一点是&nbsp;POSIX 的兼容性，我们对 POSIX 兼容性会考虑得比较多，如果 POSIX 兼容性不好，这个方案基本上是没法用的。</p><p>第二点是性能的基准测试，性能测试的数据见下图。</p><p><img src=\"https://static001.geekbang.org/infoq/4a/4a6d513852c0481fd649b70d8b74dcd4.png\" /></p><p>基准测试数据情况</p><p></p><p>第三点是&nbsp;K8s 的 CSI 挂载，我们有一些业务是通过 K8s 调度的，自然是希望存储对 K8s 比较友好。</p><p>第四点是业务 PoC 验证，测试的场景还是比较多的，从小文件中文件大文件，还有包括顺序读，顺序读里面又分为预热和不预热。</p><p></p><p>JuiceFS 有个功能特别好用，就是预热的功能，当我们需要运算的时候，可以把一些数据提前的去做预热。这功能对我们来说就非常实用，计算过程中任务依赖昂贵的 GPU 资源，成本是比较高的，一般我们会提前把数据预热到本地，然后再开启任务的运行。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/53/53543ad3328e9a798ac5b9d696266512.png\" /></p><p>深势科技存储架构</p><p></p><p>上图是我们整体的存储架构，底层是基于对象存储的统一的存储，然后再往各个地方的计算中心分发数据，不论是超算，还是云机房也好，都是有一个缓存的集群。当任务开始的时候，会把数据从统一的存储中拉到计算集群就近的一个缓存集群里面去，在计算任务运行的过程中，只需要和本地的存储集群做通信。</p><p></p><p>JuiceFS 可以把数据缓存到本地，当数据比较旧的时候，它就会被淘汰掉。如果没有用 JuiceFS ，我们需要自己去做缓存的淘汰机制，想做好，还是有一定的成本的。但是有了 JuiceFS 之后，我们就不用考虑这个事情了，只需要把 JuiceFS 挂载上去，它就帮我们把这些事情都做了。</p><p></p><p>深势科技目前使用的是开源版本的 JuiceFS，以 Redis 作为元数据管理，使用 SSD 做数据缓存。</p><p><img src=\"https://static001.geekbang.org/infoq/bc/bc08d93da42cb7fd10ab0ce4db86f45b.png\" /></p><p>深势科技生产环境使用情况</p><p></p><h2>总结与展望</h2><p></p><p></p><p>云与超算融合是趋势，现在一些公有云上都有超算服务，或者叫高性能计算服务，高性能计算集群等。超算也是不断的在往云上去靠，超算里面提到了一些超算云或者云超算的概念，就是通过虚拟化的技术，通过云原生的技术，把超算的资源更好、更方便的提供出去，让大家使用。</p><p></p><p>第二点容器化是关键，我们在做云与超算的融合的过程中，怎么样把运行时的环境保持一致，是一个很关键的点。如果在云上用的是容器，但在超算上用的是另一套方案，会出现服务在云上跑得好好的，但放到超算上之后就跑不起来，所以容器化是一个比较关键的点。</p><p></p><p>第三点统一存储是基础，调度相对来说是比较容易的，把算力从公有云上调度到超算平台上，其实是比较简单的，但是将存储调度过去难度就增加了。</p><p></p><p>这里面会有几个难点，第一点怎么样把数据从一个地方传输到一个地方。数据量小倒还好，但是数据量比较大就非常困难了。第二点是传输的网络，也会影响到数据传输的速度。第三点是数据的引用，把数据搬迁过去之后，怎么样和原来路径或结构保持一致，在不改程序的情况，也能继续运行。最后是数据的整合，比如整个计算过程中分为 5 步，前 2 步是在云上算的，最后 3 步在超算上算的，会牵涉到数据的整合，日志的整合，监控的整合。</p><p></p><p>最后，存算分离是必然，如果机器资源和存储是绑定的，是没法去做调度的。早期，我们的存储和机器算力是绑定的，机器上挂载了本地盘，当把计算任务调过去之后，存储是调不过去的，所以说存算分离是必然。</p><p></p><p>作者简介：</p><p>李样兵,深势科技技术架构师，多年互联网工作经验，前美菜网云计算技术部负责人。2022 年初加入深势科技，任技术架构师，聚焦于以云原生为基础，探索云与超算融合的算力平台建设。</p>",
    "publish_time": "2022-07-07 19:19:32",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]