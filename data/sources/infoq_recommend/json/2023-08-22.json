[
  {
    "title": "谷歌发布GUAC项目0.1版本：持续关注供应链安全问题",
    "url": "https://www.infoq.cn/article/Vl88ZlCX2tAXIwjQm3Hj",
    "summary": "<p>谷歌开源安全团队最近推出了GUAC（Graph for Understanding Artifact）v0.1，这是一款面向安全专业人员的工具。GUAC专注于元数据的合成和聚合，可以满足<a href=\"https://www.whitehouse.gov/briefing-room/presidential-actions/2021/05/12/executive-order-on-improving-the-nations-cybersecurity/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">美国网络安全行政令</a>\"中所概述的安全性要求，旨在帮助安全专家评估供应链的安全态势。</p><p></p><p>谷歌开源安全团队的<a href=\"https://www.linkedin.com/in/brandon-lum-a7b79418/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">Brandon Lum</a>\"和<a href=\"https://www.linkedin.com/in/mihai-maruseac/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">Mihai Maruseac</a>\"在一篇<a href=\"https://security.googleblog.com/2023/05/announcing-launch-of-guac-v01.html?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">博文</a>\"中宣布推出该工具。GUAC意识到整合来自各种数据源的信息的重要性，因此，他们聚合软件安全元数据，并将其与适用于软件供应链的标准化概念库对齐。</p><p></p><p>随着供应链每天都在发生变化，GUAC通过从外部数据源获取最新的威胁信息和分析结果来持续更新其数据库。这些数据源包括软件材料清单（SBOM）、软件工件供应链级别（SLSA）和OSS见解。</p><p></p><p></p><p><img src=\"https://static001.geekbang.org/infoq/74/7425450f8baefd0b3b5fabca48da5d48.webp\" /></p><p></p><p>来源：<a href=\"https://docs.guac.sh/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">GUAC文档</a>\"</p><p></p><p>通过研究<a href=\"https://www.infoq.com/presentations/log4shell-security-response-patterns/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">企业对Log4shell的反应</a>\"，我们发现，维护统一的SBOM存储库对组织是有利的。这种方法使得他们能够跟踪漏洞并相应地制定应对策略。为了遵循<a href=\"https://www.whitehouse.gov/briefing-room/presidential-actions/2021/05/12/executive-order-on-improving-the-nations-cybersecurity/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">美国网络安全行政令</a>\"，在构建和发布工作流程中生成大量SBOM会让管理任务变得繁杂。为了解决这个问题，GUAC通过链接文档和使用启发式方法来提高数据质量。GUAC社区正在<a href=\"http://github.com/spdx/tools-golang/pull/204?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">与SPDX积极合作</a>\"来推进<a href=\"http://github.com/anchore/syft/issues/1241?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">SBOM工具</a>\"的开发工作以及提高元数据的准确性。</p><p></p><p>在<a href=\"https://www.infoq.com/news/2023/02/sboms-vex-kubernetes/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">CloudNativeSecurityCon 2023的一场小组讨论</a>\"中，GUAC被认为是一种可以理解、利用和从SBOM中派生含义的有价值的工具。讨论还强调了目前还没有标准的SBOM分发方法，所以有通过自动化来实现分发的潜力。</p><p></p><p>Lum和Maruseac强调，GUAC用户有能力开发集成方式，基于信任来制定策略，对安全漏洞做出及时响应，并在发生安全事件时制定升级计划。此外，他们可以构建CLI工具进行广泛的分析和事件响应，以及构建IDE插件进行预防性策略实施。</p><p></p><p>早期采用者对GUAC给予了积极的反馈。雅虎信息安全团队（Paranoids）高级软件开发工程经理<a href=\"https://www.linkedin.com/in/hkadakia/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">Hemil Kadakia</a>\"说：</p><p></p><p></p><blockquote>“在雅虎，我们通过使用开源项目GUAC获得了巨大的价值和显著的效率提升。GUAC帮助我们精简流程并提高效率，这在以前是不可能的。”</blockquote><p></p><p></p><p>Red Hat首席软件工程师<a href=\"https://www.linkedin.com/in/dejanbosanac/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">Dejan Bosanac</a>\"（同时也是GUAC项目的积极贡献者）说：&nbsp;&nbsp;</p><p></p><p></p><blockquote>“有了摄取和认证各种数据源数据的机制，以及查询这些数据的GraphQL API，我们将其视为当前和未来SSCS工作的基础。作为一个真正的开源项目并拥有受欢迎的社区会是一种锦上添花。”</blockquote><p></p><p></p><p>感兴趣的读者可以通过<a href=\"https://guac.sh/community/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">社区网页</a>\"上提到的不同方式了解更多关于GUAC的信息。</p><p></p><p></p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2023/07/google-announces-guac-0-1/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTIzMjkzMzgsImZpbGVHVUlEIjoiVlBoR1JXbm03MVFyZjlKYSIsImlhdCI6MTY5MjMyOTAzOCwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.KqvyJ0W9Ylo8dOX-WZgKaM6bRzTJdo5DnYIFwpsoWc4\">https://www.infoq.com/news/2023/07/google-announces-guac-0-1/</a>\"</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/article/9boH3zd1jDZdR244gPhE\">供应链实践调查报告：可感知的实践有用性与采用程度相关</a>\"</p><p><a href=\"https://www.infoq.cn/article/Wv6MjUH5FmrRQPmphIbh\">醒醒吧，没有什么安全的软件供应链</a>\"</p><p><a href=\"https://www.infoq.cn/article/WMs7uoxvNLc1J5qBMtoR\">Log4j一周年观察：我们如何应对日益严峻的软件供应链安全风险？</a>\"</p>",
    "publish_time": "2023-08-22 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "用 Rust 编写核心组件！独家揭露阿里云开源 GraphScope 如何成为全球最快图计算引擎",
    "url": "https://www.infoq.cn/article/7zAblNXRAb2VZ9af85Mv",
    "summary": "<p>采访嘉宾 | GraphScope团队</p><p>编辑 | Tina</p><p>&nbsp;</p><p>上个月，国际权威图基准测评<a href=\"https://ldbcouncil.org/benchmarks/snb-interactive/\">“LDBC SNB Interactive”（社交网络-交互查询）榜单</a>\"更新中出现关键突破：阿里云开源的图计算引擎GraphScope登顶并打破榜单历史纪录，性能达此前纪录保持者2.45倍。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/58/58a65c7e87a884f2c8a205e53d4ec63f.jpeg\" /></p><p></p><p>&nbsp;</p><p>LDBC 全称 <a href=\"https://ldbcouncil.org/\">Linked Data Benchmark Council</a>\"，是一个致力于发展图数据管理的产业联盟国际权威非盈利组织，其成员来自工业界和学术界，包括Intel、AWS、Neo4j、TigerGraph和Oracle等。</p><p>&nbsp;</p><p>在此次基准测评中，GraphScope 以超过 33,000 QPS 的吞吐量排名第一。GraphScope&nbsp;是阿里云自研的一站式图计算系统，于2020年12月开源，在GitHub上已超过&nbsp;2.6k star。</p><p>&nbsp;</p><p>GitHub 地址：https://github.com/alibaba/GraphScope</p><p>&nbsp;</p><p></p><h2>不可或缺的图计算</h2><p></p><p>在阿里巴巴的电商推荐、搜索、风控等场景中，有很多地方会用到GraphScope图计算引擎。</p><p>&nbsp;</p><p>自2020年起的多年双十一期间，阿里巴巴的搜索以及风控团队采用&nbsp;GraphScope&nbsp;作为底部支撑实施了准实时欺诈检测，虚假订单检测能实现秒级识别，评测准确度达到了97%。在此之前虚假订单一般需要等到第二天才能处理。</p><p>&nbsp;</p><p>另外，在推荐场景中，常会用到链路预测，通过已知的网络结构预测尚未发生连边的两个节点之前产生连接的可能性。比如对社交网络做关系分析时，共同邻居是一个重要的特征，它标记了两个不直接关联的点之间共同的好友关系。</p><p>&nbsp;</p><p>这个应用如果用传统的关系数据库写查询，会十分复杂，事实上，很多业务场景确实是通过SQL&nbsp;+&nbsp;一些UDF&nbsp;的方式写的。但由于复杂度的问题，要舍弃一些精度以及引入很多近似计算才能在一个很大规模的数据集上成功跑下来，但千亿规模的数据上需要近10个小时。</p><p>&nbsp;</p><p>这种情况采用图建模的话，共同邻居的查找就十分直观，也很容易写。GraphScope&nbsp;系统通过基于子图模型、增量化计算等技术，能高效的支撑千亿规模以上的图计算，并且由于图建模可以准确计算共同邻居，避免精度损失。这类之前用时10小时的计算任务，用GraphScope只需要约600秒。</p><p>&nbsp;</p><p>现在，在阿里巴巴内部，已经海量任务跑在&nbsp;GraphScope 图计算引擎上，GraphScope 每天要处理数万个图计算任务。</p><p>&nbsp;</p><p>以前，相比于传统的关系型数据库以及SQL，图数据库的使用所占的比重很小。但近年来，随着互联网应用的爆炸式增长和对用户需求的深度挖掘，大家开始认识到有些场景下，传统的SQL处理方式已经不能满足高效的需求。而图数据库，与其他的文档数据库、KV数据库类似，为复杂数据分析提供了全新的维度。特别是在需求深入挖掘关联关系的场景下，图几乎成为了不二之选。这一趋势的重要性在ISO SQL标准的2023版本中得到了体现，其中，<a href=\"https://www.iso.org/standard/79473.html\">SQL/PGQ（Property Graph Query）</a>\"被纳入，未来支持SQL的数据库中也将支持图的查询。</p><p>&nbsp;</p><p>不仅在数据库中，图计算已经在大数据处理和分析中也开始展现其独特的价值和地位。根据2022年8月发布的<a href=\"https://info.stardog.com/graph-market\">Gartner报告</a>\"，到2025年，图计算技术将在80%的数据和分析创新中扮演核心角色。这与2021年的数据大相径庭，当时图计算在数据和分析创新中的占比仅为10%。这样的飞速增长无疑证明了图计算在未来数据分析领域的至关重要性。</p><p>&nbsp;</p><p>正因如此，该团队一直在持续精益求精地打磨 GraphScope。2018年，GraphScope&nbsp;团队的主要成员加入阿里巴巴，并将其自研图计算技术 <a href=\"https://github.com/alibaba/libgrape-lite\">GRAPE</a>\" (GraphScope核心引擎之一的前身) 逐渐应用到阿里巴巴集团和阿里云上。经过几年打磨和使用后，2020年11月，GraphScope&nbsp;在第二届世界科技与发展论坛上重磅宣布开源并发布了白皮书，同年12月代码在&nbsp;GitHub&nbsp;开源。</p><p>&nbsp;</p><p></p><h3>架构演进</h3><p></p><p>&nbsp;</p><p>在以往的图计算系统中，由于针对不同类型的图计算任务设计了特定的特征，导致解决方案出现了严重的碎片化现象。这意味着每种不同类型的图计算任务都需要使用不同的系统或工具来进行处理，导致系统架构的复杂性急剧上升。</p><p>&nbsp;</p><p>在处理现实业务时，一个复杂的工作流可能涉及多种不同类型的图计算任务，比如多模式的图计算，以及需要跨越多个系统进行协同的情况。举例来说，考虑一个包含交易图和欺诈检测的工作流，这可能需要在不同的系统中执行不同的图计算任务，这不仅会引入大量的IO开销，还会增加系统运维的复杂性。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/59/5906fa2ff44983b52da0400631e8cd9e.png\" /></p><p></p><p>&nbsp;</p><p>在以前的部署方式中，为了完成工作流中的不同图计算任务，可能需要通过外部存储来部署多套系统，增加了整个系统的维护难度。此外，不同系统之间的数据交互也变得复杂，可能需要额外的工作来确保数据一致性和有效的传递。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/18/18212c9aad579d916ce0eed62161feac.png\" /></p><p></p><p>&nbsp;</p><p>这种复杂性还使得开发人员需要具备对多个系统的熟悉度，增加了开发和维护图计算任务的技术门槛。这对于数据科学家、算法用户和应用开发方来说，都带来了极大的挑战，限制了图计算在业务中的应用和发展。</p><p>&nbsp;</p><p>在2020年，基于收集到的用户需求，GraphScope 团队提出了一种创新的概念——一站式图计算，通过一个系统整合了当时的多个图计算引擎（即当时 GRAPE、MaxGraph 和 GraphLearn）的能力，覆盖了图分析、图遍历、图学习等多种任务。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/d2/d29ad75d087a8b44bb25afdb4b6c76d1.png\" /></p><p></p><p>&nbsp;</p><p>为了实现这一概念，他们进行了大量的研究和开发工作。例如，开展了自研的子项目 vineyard，这个项目解决了跨不同引擎之间数据交互与共享的挑战。值得一提的是，vineyard 项目开源后被捐赠给了云原生大数据社区，进入了CNCF Sandbox。</p><p>&nbsp;</p><p>经过这些改进，最终形成了 GraphScope 一站式图计算，可以在一个平台完成多类图计算任务，这也是业界首个一站式图计算系统。GraphScope的用户们从一站式得到的好处，“从体验侧的价值来说，最主要的是极大程度降低了图计算门槛，极度简化了数据科学家、算法用户以及应用方开发、部署和运维图计算的成本，可将图计算研发上线的周期从以数周计，提效为一两天即可完成。”</p><p>&nbsp;</p><p></p><h3>组件化架构</h3><p></p><p>在此基础上，为了进一步满足图业务的多样化和碎片化需求，GraphScope 正在推进下一代组件化架构 <a href=\"https://github.com/alibaba/GraphScope/tree/main/flex\">GraphScope&nbsp;Flex</a>\"，以像乐高一样的组件化形式为各种具体的图计算场景提供方便的部署、服务和计算的能力。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/0b/0b6f4dce784db31f0e91e01776c9af87.png\" /></p><p></p><p>&nbsp;</p><p>在这一架构下，用户可以根据实际的业务场景，灵活地选用 GraphScope 中的若干组件，从而得到最合适其业务场景的部署形态，形成定制化的图计算环境。</p><p>&nbsp;</p><p>与此对应，本次提交的 LDBC 基准测试就是基于GraphScope Flex架构的高吞吐图查询部署方案。在这个部署模式中，他们利用自研的多层级Actor框架 <a href=\"https://github.com/alibaba/hiactor\">Hiactor</a>\"作为底层执行引擎，并结合了 GraphScope 在图存储和图分析引擎方面的积累。这种方案能够在保障事务性要求的前提下，为用户提供超高吞吐的图查询能力。</p><p>&nbsp;</p><p>在开源之后，GraphScope 团队也在不断优化与创新。比如在高效图分析引擎上<a href=\"https://github.com/alibaba/libgrape-lite/blob/master/Performance.md#performance-on-gpus\">拓展了&nbsp;GPU&nbsp;加速</a>\"，性能较之其他系统快&nbsp;5&nbsp;倍有余；通过引入新的&nbsp;<a href=\"https://github.com/alibaba/libgrape-lite/tree/flash\">FLASH</a>\"&nbsp;高效模型，将内置图算法种类扩增到近&nbsp;100&nbsp;种。</p><p>&nbsp;</p><p></p><h3>Rust编程语言的应用</h3><p></p><p>&nbsp;</p><p>此外，GraphScope 还利用近期备受关注的系统编程语言Rust编写了交互式查询的核心组件，分布式引擎GAIA。相较于适用于高吞吐场景下的hiactor系统，GAIA更着重于系统的扩展性和利用并行技术优化查询延迟。为了构建一个更加高效、稳健且安全的并行系统，从GAIA的原型系统（发表于NSDI 2021）起，便选用Rust语言进行开发。</p><p>&nbsp;</p><p>选择Rust主要是因为它提供的“编译时生命周期检查”、\"卓越的并发控制\"，以及“媲美C/C++的执行效率”，具体来说：</p><p>编译时生命周期检查：Rust在编译过程中提供的变量生命周期检查功能，使我们能够在编程的初始阶段尽可能地确保程序的正确性。相比其他语言，这为GAIA这样复杂的系统的实现提供了极高的可靠性保障，解决在分布式服务化的部署中的内存管理问题。卓越的并发控制：并发编程中最常见的问题包括竞态条件和死锁。Rust提供了各种机制来避免这些问题的发生，包括但不限于原生的互斥锁和读写锁，以及通过Send和Sync两个原生trait来保证线程安全。该并发控制是GAIA分布式系统实现的基础。媲美C/C++的执行效率：Rust凭借零开销的抽象和底层优化，以及优质的标准库实现，使得其编写的程序能达到传统面向性能的编程语言C/C++的水准。同时，通过生命周期检查和并发控制，Rust很大程度地避免了C/C++实现的系统常遇到的内存溢出和死锁等难以定位和修复的问题。</p><p>&nbsp;</p><p>基于GraphScope Flex提供的组件化能力，GraphScope可以通过GAIA来支持更多的复杂查询，实现对图数据更为复杂和深刻的洞察与分析，未来也可以为支持LDBC的SNB BI的工作负载奠定基础。</p><p>&nbsp;</p><p></p><h2>GraphScope是如何打破纪录的</h2><p></p><p>这次，GraphScope 登顶并打破榜单历史纪录的基准测评是 LDBC SNB Interactive ，也是业界最受认可的图数据库基准评测。</p><p>&nbsp;</p><p>近年来参与SNB&nbsp;Interactive 评测并在榜中领先的图数据库产品是蚂蚁集团开源的图数据库产品 TuGraph，最近成绩为2023年1月做的测试；另外，国内知名图厂商创邻科技的 Galaxybase 也在 2022年5月提交过成绩。</p><p>&nbsp;</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/c8/c8e9bee4566596b8b4ed9d9d4eb5f020.png\" /></p><p></p><p>&nbsp;</p><p>&nbsp;</p><p>在LDBC SNB Interactive评测中，为了全面评估图数据库，引入了复杂的数据表和多样化的读写混合查询。背后通过一个驱动器向待测系统快速、持续地发送这些查询请求，主要以系统处理查询的吞吐率（QPS）来衡量其性能。</p><p>&nbsp;</p><p>其中涉及到处理技术难点，包括：</p><p>复杂查询优化：图查询等价于多表关联的查询，而此类优化一直是数据库的传统难题。同时，查询中涉及复杂算子如点对间最短路径，这本身就难以高效实现。复杂的SNB数据表结构，不同类型的数据量差异很大，不当的查询顺序可能导致大量中间结果，严重影响执行性能。读写并发和事务：高并发的读写需要加锁，但在高吞吐情况下，锁开销会显著影响性能。图存储数据结构需要兼顾读写性能，传统的结构往往在写或读性能上存在不足。同时，在高并发情况下，保证事务的一致性和效率更加困难。高并发查询：高并发场景下，物理线程切换会引入大量的开销。查询涵盖了复杂和简单查询，复杂查询可能长时间占用资源，导致系统吞吐大幅下降。</p><p>&nbsp;</p><p>这些技术难点涉及图数据库的查询优化、读写并发、事务保证以及高并发查询等方面，对于系统设计和实现提出了严峻挑战。为了克服前述技术难题，GraphScope主要从以下三个方面实现突破：</p><p>&nbsp;</p><p>在图查询优化方面，通过引入“高维图数据的无偏估计”技术，子图采样可以准确估计基数，从而优化查询访问顺序，提高了特定查询性能。同时，采用了“双向路径搜索”算法，在包含最短路径的负载下，性能提升近3000倍。在高性能读写图存储设计方面，通过采用“细粒度的锁控制”策略，将图数据写操作细分为修改（如属性更新）和插入（点/边），采用不同级别的锁以提高读写并发效率（对于修改操作使用常规读写锁，对于插入操作用细粒度或者无锁技术）。引入了“高效的版本控制”技术，通过原子操作降低锁开销，改进了事务同步。此外，改进了原有的CSR图数据结构，通过预留空间和自旋锁应用，在保证读效率的同时，有效支持插入操作。为支持超高吞吐的计算引擎，引入了“轻量级用户态线程”技术，极大地减少了高并发场景下线程切换的开销。同时，采用了“异步协同式调度”策略，使得用户态线程在异步操作时能主动释放时间片，避免了复杂查询阻塞其他并发查询的情况。</p><p>&nbsp;</p><p>这些关键技术的整合使得GraphScope在性能和效率方面都取得了显著突破。</p><p>&nbsp;</p><p></p><h2>图计算在大语言模型中的应用前景</h2><p></p><p>&nbsp;</p><p>今年以来，以ChatGPT为代表的大语言模型（LLM）迎来爆发式增长，虽然LLM“涌现”出的智能令人兴奋不已，但其训练方式和特有的自然语言交互模式，使得将LLM应用于生产依然面临诸多挑战，例如：在训练数据滞后的情况下，如何提升LLM回答的实时性？在大部分LLM都具有“幻觉”（Hallucination）的情况下，如何确保回答的准确性？虽然LLM具有智能，但其大语言模型的本质决定了LLM在特定领域能力的限制，例如数学计算、网页搜索等。同时，在处理复杂任务时，往往需要对任务进行拆解和编排，利用工具逐个解决，如何才能端到端完成复杂任务？</p><p>&nbsp;</p><p>为解决上述LLM原生问题，业界已经涌现出大量实践，举例来说：</p><p>当LLM充当QA助手时，回答的实时性问题可以通过在提示词（prompt）中加入实时信息得以解决。但这也引出另一个问题，如何找出和问题相关的实时信息呢？网络上的公开数据，尚且可以使用例如<a href=\"https://serpapi.com/\">serpapi</a>\" 之类的搜索工具得到，那么特定领域数据或者私有数据如何处理呢？在提示词长度限制下，如何选出最相关的数据加入其中呢？当LLM出现“幻觉”时，用户往往基于“常识”作出了判断，并通过降低活跃度（temperature）和细化提示词来降低“幻觉”。然而在处理特定领域（例如医疗、法律）任务时，即使用户具有该领域的“常识”，“幻觉”往往难以被识别，因为一般用户难以全面掌握领域知识。那么，有没有什么方法可以有效利用领域知识来识别LLM的“幻觉”呢？针对复杂任务，将LLM与现有成熟生产工具结合，充分利用LLM的智能作为编排复杂工作流程的“大脑”，并调动生产工具完成端到端执行，是业界给出的方案。其中代表，包括闭源的 <a href=\"https://openai.com/blog/chatgpt-plugins\">ChatGPT-Plugin</a>\" 和开源的 <a href=\"https://www.langchain.com/\">Langchain</a>\"。然而，在LLM单一自然语言交互模式下，如何才能实现工作流可视化、实时交互等，以提升系统整体的透明度，避免成为黑盒子呢？如何才能完成数据沉淀、统计分析、快速迭代等，从而提升工作流效率和可持续性呢？</p><p>&nbsp;</p><p>得益于图抽象的语意表达能力和可解释性，图计算可以很好的解决上述业界正在面临的问题。</p><p>&nbsp;</p><p>首先，将领域数据或私有数据存储于图数据库中，并通过边来表示数据点之间的关系，可以实现更精准的相关数据查找。常见的向量数据库通过比较查询和文档分片embeding之间的相似度来查找相关数据，然而对于稍显复杂的查询，其相似性并不体现在单个文档分片上。例如，用户的查询是“OpenAI的前核心员工有没有自己创业的？”，这里其实包含两条信息，一是“谁是OpenAI的前核心员工”，二是“这些人有没有自己创业的”，相关信息可能出现在多个文档分片中，故使用向量数据库难以为LLM提供最相关信息。然而，若使用图数据库，便可以从Company节点出发，通过Empolyment边遍历核心员工，再将这些员工的Profile和Company一起构建embeding，来与查询匹配，从而为LLM提供更为精准的相关数据。</p><p>&nbsp;</p><p>其次，知识图谱作为一种高效领域知识表示，可以为识别LLM的“幻觉”提供事实支撑。例如：LLM回答包含某公司董事会成员A。如果通过向量数据库进行验证，可能某监事A总是出现在董事会会议中，其高频出现会被识别为董事会成员；而通过图数据库，可以查找到姓名为A的Person节点的职位是监事，从而识别出LLM的“幻觉”。</p><p>&nbsp;</p><p>再者，将LLM作为“大脑”解决复杂问题，其核心思路是将可供选择的工具（例如网页搜索、数值计算、本地数据库访问等）的“说明书”加入提示词，和问题一起交由LLM来决定下一步使用哪种工具，以及应该为其提供什么样的输入。对于复杂问题，往往不是一步就能得到结果，所以LLM还要和用户一起完成工作流的编排，一般称为Chain-of-Thought。实际上，由于LLM的返回具有选择性（即LLM会依据输入做出不同的选择，例如判断为是的情况下调用A工具，否则为B工具），用Graph-of-Thought来抽象这一工作流是更为通用的方法。不难看出，基于图抽象的图计算系统，可以更好的管理这一工作流，其对图数据的高效查询、分析和展示能力，可以实现更透明的观察、更易用的UI和更有效的数据管理。</p><p>&nbsp;</p><p>LLM的特点，决定了它须与私有数据、领域知识和工作流框架充分结合，才能在实际生产中产生价值，而图计算系统可以很好的解决目前LLM在这三方面遇到的问题。所以大家坚信图计算作为一项基础技术，将助力LLM走向生产，发挥价值。</p><p>&nbsp;</p><p>此外，GraphScope正在 Text2GQL 领域作出尝试，不仅考虑通过提示词工程来提升准确率，还会尝试通过对开源模型的调优（finetune）来定制更专注的Text2GQL模型，进一步提升准确率和查询效率。在GQL（无论是Gremlin还是Cypher）学习门槛较SQL都更高的今天，期待Text2GQL的实践，能够让更多的用户连接图数据库，享受图计算带来的价值。</p><p>&nbsp;</p><p></p><h2>活动推荐</h2><p></p><p>除了 SNB Interactive 这类工作负载，借助于 GraphScope Flex 灵活的组件式架构，GraphScope 还可以满足其他图计算场景。在将于 9 月 3-5 日在北京·富力万丽酒店举办的 QCon 全球软件开发大会中，阿里巴巴技术专家、GraphScope 图计算团队图神经网络方向负责人苏立，分享题为《GPU 加速大规模图神经网络训练与一站式图计算：技术实践分析与展望》的演讲，他将基于开源分布式 GPU 加速图训练框架 GraphLearn-for-Pytorch(GLTorch) 和一站式图计算平台 GraphScope，介绍 GraphScope 团队和阿里云机器学习 PAI 团队在合作打造 GLTorch 过程中的技术思考和系统设计理念，并分享在一站式图计算领域的实践积累和技术探索。快来和 GraphScope 团队一起交流吧！</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/24/2440d36908b17621f88775e6940be971.png\" /></p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>",
    "publish_time": "2023-08-22 08:17:38",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]