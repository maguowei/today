[
  {
    "title": "每秒处理480万会员资料请求，LinkedIn是如何实现的",
    "url": "https://www.infoq.cn/article/vXAjOHKZIA1Sbg7vXrzF",
    "summary": "<p>LinkedIn<a href=\"https://engineering.linkedin.com/blog/2023/upscaling-profile-datastore-while-reducing-costs?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">将Couchbase作为集中式缓存层</a>\"，用于伸缩会员资料读取操作，以应对日益增长的、超出现有数据库集群处理能力的流量。新方案实现了超过99%的命中率，将尾延迟降低了60%以上，将年度成本降低了10%。</p><p></p><p>多年来，LinkedIn直接从其<a href=\"https://engineering.linkedin.com/espresso/introducing-espresso-linkedins-hot-new-distributed-document-store?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">Espresso文档平台</a>\"提供会员资料。Espresso平台建立在<a href=\"https://www.mysql.com/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">MySQL</a>\"之上，并使用<a href=\"https://avro.apache.org/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">Avro</a>\"进行序列化，还包含了<a href=\"https://helix.apache.org/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">Apache Helix</a>\"和<a href=\"https://github.com/linkedin/databus?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">Databus</a>\"（LinkedIn的变更捕获系统）组件。Espresso路由器处理资料读取请求，将读/写请求定向到正确的存储节点，并使用堆外缓存（OHC）进行热键缓存。</p><p></p><p></p><p><img src=\"https://imgopt.infoq.com/fit-in/1200x2400/filters:quality(80)/filters:no_upscale()/news/2023/07/linkedin-member-profile-caching/en/resources/1linkedin-espresso-1688241494720.jpeg\" /></p><p></p><p>图片来源：<a href=\"https://engineering.linkedin.com/blog/2023/upscaling-profile-datastore-while-reducing-costs?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">https://engineering.linkedin.com/blog/2023/upscaling-profile-datastore-while-reducing-costs</a>\"</p><p></p><p>随着存储请求量每年翻倍，峰值超过每秒480万次，为会员资料提供服务的Espresso集群已经达到了伸缩性的极限。团队决定引入一个基于<a href=\"https://www.couchbase.com/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">Couchbase</a>\"的缓存层，而不是重构Espresso平台的核心组件，因为超过99%的请求都是读取操作。</p><p></p><p>LinkedIn软件工程师<a href=\"https://www.linkedin.com/in/estella-pham/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">Estella Pham</a>\"和<a href=\"https://www.linkedin.com/in/guanlin-lu-bbba1517/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">Guanlin Lu</a>\"解释了团队为什么选择Couchbase作为缓存：</p><p></p><p></p><blockquote>在LinkedIn，我们已经将Couchbase用作各种应用程序的分布式键值缓存。它被选中是因为它比memcached更强大，包括用于保存服务器重启之间持久化的数据，在集群中的个体节点发生故障时所有文档仍然可用的复制功能，以及可以在不停机的情况下添加或删除节点的动态可伸缩性。</blockquote><p></p><p></p><p>新的缓存层结合了OCH和Couchbase，并被集成到了Espresso中，不需要客户端做出修改。其设计重点是Couchbase的故障弹性、缓存数据可用性和数据分歧预防。Espresso路由器会在发生暂时性故障时重试请求，并监控Couchbase健康状况以避免将请求发送到不健康的桶。会员资料数据被复制了三次，如果首领副本不可用，路由器会将其转移到其中的一个跟随者副本。</p><p></p><p>所有的会员资料数据都缓存在每一个数据中心里，由<a href=\"https://samza.apache.org/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">Apache Samza</a>\"作业根据Espresso捕获的写操作进行实时的更新，以及根据数据库快照进行定期的更新。所有的缓存更新都使用了<a href=\"https://docs.couchbase.com/java-sdk/current/howtos/concurrent-document-mutations.html?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">Couchbase Compare-And-Swap</a>\"（CAS）来检测并发更新，并在必要时重试更新。</p><p></p><p><img src=\"https://static001.geekbang.org/infoq/e5/e56046646710ea59d192e304223743a3.webp\" /></p><p></p><p>图片资料：<a href=\"https://engineering.linkedin.com/blog/2023/upscaling-profile-datastore-while-reducing-costs?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">https://engineering.linkedin.com/blog/2023/upscaling-profile-datastore-while-reducing-costs</a>\"</p><p></p><p>经过调整之后，Profile Backend服务将负责处理一些原先由Espresso处理的操作。它会动态评估请求字段并返回保存在缓存中的完整资料数据的子集。它还会处理Avro模式转换，并在必要时从注册表获取模式版本。</p><p></p><p>LinkedIn的团队进行了进一步的性能优化，简化了Avro/二进制格式的数据读取，并在反序列化性能方面实现了约30%的改进。因为引入了新的混合缓存方案，Espresso的节点数减少了90%。考虑到运行Couchebase集群、缓存更新作业所需的新基础设施和运行后端服务新增的计算资源，为会员资料请求提供服务的总成本每年下降了10%。</p><p></p><p>原文链接：</p><p><a href=\"https://www.infoq.com/news/2023/07/linkedin-member-profile-caching/?accessToken=eyJhbGciOiJIUzI1NiIsImtpZCI6ImRlZmF1bHQiLCJ0eXAiOiJKV1QifQ.eyJleHAiOjE2OTE3MjIzODksImZpbGVHVUlEIjoiR2FLVlFMTEs3WVlNeW9HZSIsImlhdCI6MTY5MTcyMjA4OSwiaXNzIjoidXBsb2FkZXJfYWNjZXNzX3Jlc291cmNlIiwidXNlcklkIjo2MjMyOH0.l20WpuKCWg1YMp58-JLJVG-QQDn3w9P16C18szuxgF4\">https://www.infoq.com/news/2023/07/linkedin-member-profile-caching/</a>\"</p><p></p><p>相关阅读：</p><p><a href=\"https://www.infoq.cn/article/ZQEP69byw99C818CzmF6\">领英采用 Protobuf 进行微服务集成，将延迟降低了 60%</a>\"</p>",
    "publish_time": "2023-08-14 08:00:00",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  },
  {
    "title": "再问低代码：AI巨浪下",
    "url": "https://www.infoq.cn/article/67FD5gszt7PPmv1ZUlj7",
    "summary": "<p>AI狂飙的100多天里，<br />\n有人神化，有人漠视，<br />\n有人恐慌，有人兴奋，<br />\n有人坐而论道，<br />\n有人早已躬身入局，<br />\n当AI涌入低代码，<br />\n新的问题，能否打败旧的争议？</p>\n<p>近期，InfoQ 联合钉钉围绕“AI浪潮下的低代码”，邀请了多位低代码赛道的资深从业者，他们分别是：钉钉宜搭平台负责人叶周全；易鲸云CEO刘金柱；伙伴云产品总监吴杨；轻流产研负责人陆琦；氚云产品总经理詹萧；简道云运营负责人沈涛以及主持嘉宾极客邦科技创始人兼CEO霍太稳，7位嘉宾共同打造了这期《再问低代码：AI巨浪下》，共同探讨AI新时代，低代码的未来方向。</p>",
    "publish_time": "2023-08-14 14:18:14",
    "source": {
      "name": "infoq_recommend",
      "desc": "InfoQ推荐",
      "icon": "https://raw.githubusercontent.com/maguowei/today/master/imgs/icon/infoq.png"
    }
  }
]